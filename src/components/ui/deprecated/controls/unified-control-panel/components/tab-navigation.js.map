{"version":3,"file":"tab-navigation.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/deprecated/controls/unified-control-panel/components/tab-navigation.tsx"],"names":[],"mappings":";AAAA;;;;GAIG;AAEH,YAAY,CAAA;AANZ;;;;GAIG;;;AAIH,iCAAgE;AAChE,8CAA0C;AAE1C,kEAA4D;AAUrD,MAAM,aAAa,GAAG,CAAC,EAC5B,QAAQ,EACR,SAAS,EACT,WAAW,EACX,cAAc,EACd,sBAAsB,GACH,EAAE,EAAE;IACvB,MAAM,kBAAkB,GAAG,IAAA,cAAM,EAAiB,IAAI,CAAC,CAAA;IAEvD,MAAM,WAAW,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC,CAAA;IACjE,MAAM,YAAY,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAA;IAExC,MAAM,CAAC,aAAa,EAAE,gBAAgB,CAAC,GAAG,IAAA,gBAAQ,EAAC,KAAK,CAAC,CAAA;IACzD,MAAM,CAAC,cAAc,EAAE,iBAAiB,CAAC,GAAG,IAAA,gBAAQ,EAAC,KAAK,CAAC,CAAA;IAE3D,MAAM,EAAE,SAAS,EAAE,YAAY,EAAE,YAAY,EAAE,GAAG,IAAA,mCAAe,EAAC;QAChE,WAAW;QACX,oBAAoB,EAAE,cAAc;QACpC,aAAa,EAAE,sBAAsB;KACtC,CAAC,CAAA;IAEF,MAAM,iBAAiB,GAAG,IAAA,mBAAW,EAAC,GAAG,EAAE;QACzC,MAAM,SAAS,GAAG,kBAAkB,CAAC,OAAO,CAAA;QAC5C,IAAI,CAAC,SAAS,IAAI,CAAC,YAAY;YAAE,OAAM;QAEvC,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,EAAE,GAAG,SAAS,CAAA;QAC1D,gBAAgB,CAAC,UAAU,GAAG,CAAC,CAAC,CAAA;QAChC,iBAAiB,CAAC,UAAU,GAAG,WAAW,GAAG,WAAW,GAAG,CAAC,CAAC,CAAA;IAC/D,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC,CAAA;IAElB,IAAA,iBAAS,EAAC,GAAG,EAAE;QACb,MAAM,YAAY,GAAG,YAAY,CAAC,OAAO,EAAE,aAAa,CACtD,oBAAoB,WAAW,IAAI,CACR,CAAA;QAC7B,MAAM,eAAe,GAAG,kBAAkB,CAAC,OAAO,CAAA;QAElD,IAAI,YAAY,IAAI,eAAe,IAAI,YAAY,EAAE,CAAC;YACpD,MAAM,aAAa,GAAG,eAAe,CAAC,qBAAqB,EAAE,CAAA;YAC7D,MAAM,UAAU,GAAG,YAAY,CAAC,qBAAqB,EAAE,CAAA;YACvD,MAAM,WAAW,GAAG,EAAE,CAAA;YAEtB,MAAM,WAAW,GACf,UAAU,CAAC,IAAI,GAAG,aAAa,CAAC,IAAI,GAAG,WAAW;gBAClD,UAAU,CAAC,KAAK,GAAG,aAAa,CAAC,KAAK,GAAG,WAAW,CAAA;YAEtD,IAAI,WAAW,EAAE,CAAC;gBAChB,MAAM,YAAY,GAAG,YAAY,CAAC,UAAU,GAAG,YAAY,CAAC,WAAW,GAAG,CAAC,CAAA;gBAC3E,MAAM,eAAe,GAAG,eAAe,CAAC,WAAW,GAAG,CAAC,CAAA;gBACvD,MAAM,YAAY,GAAG,YAAY,GAAG,eAAe,CAAA;gBAEnD,eAAe,CAAC,QAAQ,CAAC;oBACvB,IAAI,EAAE,YAAY;oBAClB,QAAQ,EAAE,cAAc,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ;iBAC7C,CAAC,CAAA;YACJ,CAAC;QACH,CAAC;IACH,CAAC,EAAE,CAAC,WAAW,EAAE,cAAc,EAAE,YAAY,EAAE,YAAY,CAAC,CAAC,CAAA;IAE7D,IAAA,iBAAS,EAAC,GAAG,EAAE;QACb,iBAAiB,EAAE,CAAA;IACrB,CAAC,EAAE,CAAC,iBAAiB,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAA;IAExC,IAAA,iBAAS,EAAC,GAAG,EAAE;QACb,MAAM,SAAS,GAAG,kBAAkB,CAAC,OAAO,CAAA;QAC5C,IAAI,CAAC,SAAS,IAAI,CAAC,YAAY;YAAE,OAAM;QAEvC,SAAS,CAAC,gBAAgB,CAAC,QAAQ,EAAE,iBAAiB,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAA;QAC1E,OAAO,GAAG,EAAE,CAAC,SAAS,CAAC,mBAAmB,CAAC,QAAQ,EAAE,iBAAiB,CAAC,CAAA;IACzE,CAAC,EAAE,CAAC,YAAY,EAAE,iBAAiB,CAAC,CAAC,CAAA;IAErC,MAAM,cAAc,GAAG,IAAA,mBAAW,EAChC,CAAC,KAAa,EAAE,CAAoB,EAAE,EAAE;QACtC,IAAI,CAAC,EAAE,CAAC;YACN,CAAC,CAAC,cAAc,EAAE,CAAA;YAClB,CAAC,CAAC,eAAe,EAAE,CAAA;QACrB,CAAC;QACD,WAAW,CAAC,KAAK,CAAC,CAAA;IACpB,CAAC,EACD,CAAC,WAAW,CAAC,CACd,CAAA;IAED,OAAO,CACL,CAAC,GAAG,CAAC,SAAS,CAAC,qFAAqF,CAClG;MAAA,CAAC,YAAY,IAAI,CACf,EACE;UAAA,CAAC,GAAG,CACF,SAAS,CAAC,CAAC,IAAA,OAAE,EACX,0IAA0I,EAC1I,aAAa,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW,CAC5C,CAAC,EAEJ;UAAA,CAAC,GAAG,CACF,SAAS,CAAC,CAAC,IAAA,OAAE,EACX,2IAA2I,EAC3I,cAAc,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW,CAC7C,CAAC,EAEN;QAAA,GAAG,CACJ,CAED;;MAAA,CAAC,GAAG,CACF,GAAG,CAAC,CAAC,kBAAkB,CAAC,CACxB,SAAS,CAAC,CAAC,IAAA,OAAE,EAAC,UAAU,EAAE,YAAY,IAAI,iBAAiB,CAAC,CAAC,CAC7D,KAAK,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,cAAc,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAEtF;QAAA,CAAC,GAAG,CACF,GAAG,CAAC,CAAC,YAAY,CAAC,CAClB,SAAS,CAAC,CAAC,IAAA,OAAE,EACX,kCAAkC,EAClC,YAAY,CAAC,CAAC,CAAC,oDAAoD,CAAC,CAAC,CAAC,OAAO,CAC9E,CAAC,CAEF;UAAA,CAAC,GAAG,CACF,GAAG,CAAC,CAAC,YAAY,CAAC,CAClB,SAAS,CAAC,4EAA4E,CACtF,KAAK,CAAC,CAAC;YACL,GAAG,EAAE,UAAU;YACf,MAAM,EAAE,UAAU;YAClB,IAAI,EAAE,4BAA4B;YAClC,KAAK,EAAE,6BAA6B;YACpC,UAAU,EAAE,2CAA2C;SACxD,CAAC,EAGJ;;UAAA,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAChC,CAAC,MAAM,CACL,GAAG,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAChB,GAAG,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CACtB,cAAc,CAAC,CAAC,KAAK,CAAC,CACtB,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAC9C,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;gBACjB,CAAC,CAAC,cAAc,EAAE,CAAA;gBAClB,cAAc,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,CAAC,CAAA;YAC/B,CAAC,CAAC,CACF,IAAI,CAAC,QAAQ,CACb,SAAS,CAAC,CAAC,IAAA,OAAE,EACX,2JAA2J,EAC3J,YAAY;gBACV,CAAC,CAAC,oCAAoC;gBACtC,CAAC,CAAC,sCAAsC,EAC1C,SAAS,KAAK,OAAO,CAAC,EAAE;gBACtB,CAAC,CAAC,cAAc;gBAChB,CAAC,CAAC,kDAAkD,CACvD,CAAC,CACF,KAAK,CAAC,CAAC,EAAE,uBAAuB,EAAE,aAAa,EAAE,CAAC,CAElD;cAAA,CAAC,OAAO,CAAC,QAAQ,CACnB;YAAA,EAAE,MAAM,CAAC,CACV,CAAC,CACJ;QAAA,EAAE,GAAG,CACP;MAAA,EAAE,GAAG,CACP;IAAA,EAAE,GAAG,CAAC,CACP,CAAA;AACH,CAAC,CAAA;AAzJY,QAAA,aAAa,iBAyJzB","sourcesContent":["/**\n * Tab Navigation\n *\n * Optimized tab navigation with CSS-first indicator positioning\n */\n\n'use client'\n\nimport { useCallback, useEffect, useRef, useState } from 'react'\nimport { cx } from '@/components/utils/cx'\nimport type { ControlSection } from '../types'\nimport { useTabIndicator } from '../hooks/use-tab-indicator'\n\ninterface TabNavigationProps {\n  sections: ControlSection[]\n  activeTab: string\n  onTabChange: (tabId: string) => void\n  isInitialMount: boolean\n  onInitialMountComplete: () => void\n}\n\nexport const TabNavigation = ({\n  sections,\n  activeTab,\n  onTabChange,\n  isInitialMount,\n  onInitialMountComplete,\n}: TabNavigationProps) => {\n  const scrollContainerRef = useRef<HTMLDivElement>(null)\n\n  const activeIndex = sections.findIndex((s) => s.id === activeTab)\n  const isScrollable = sections.length > 4\n\n  const [canScrollLeft, setCanScrollLeft] = useState(false)\n  const [canScrollRight, setCanScrollRight] = useState(false)\n\n  const { setTabRef, indicatorRef, containerRef } = useTabIndicator({\n    activeIndex,\n    skipInitialAnimation: isInitialMount,\n    onInitialized: onInitialMountComplete,\n  })\n\n  const updateScrollState = useCallback(() => {\n    const container = scrollContainerRef.current\n    if (!container || !isScrollable) return\n\n    const { scrollLeft, scrollWidth, clientWidth } = container\n    setCanScrollLeft(scrollLeft > 2)\n    setCanScrollRight(scrollLeft < scrollWidth - clientWidth - 2)\n  }, [isScrollable])\n\n  useEffect(() => {\n    const activeButton = containerRef.current?.querySelector(\n      `[data-tab-index=\"${activeIndex}\"]`\n    ) as HTMLButtonElement | null\n    const scrollContainer = scrollContainerRef.current\n\n    if (activeButton && scrollContainer && isScrollable) {\n      const containerRect = scrollContainer.getBoundingClientRect()\n      const buttonRect = activeButton.getBoundingClientRect()\n      const fadePadding = 24\n\n      const isOutOfView =\n        buttonRect.left < containerRect.left + fadePadding ||\n        buttonRect.right > containerRect.right - fadePadding\n\n      if (isOutOfView) {\n        const buttonCenter = activeButton.offsetLeft + activeButton.offsetWidth / 2\n        const containerCenter = scrollContainer.clientWidth / 2\n        const targetScroll = buttonCenter - containerCenter\n\n        scrollContainer.scrollTo({\n          left: targetScroll,\n          behavior: isInitialMount ? 'auto' : 'smooth',\n        })\n      }\n    }\n  }, [activeIndex, isInitialMount, isScrollable, containerRef])\n\n  useEffect(() => {\n    updateScrollState()\n  }, [updateScrollState, sections.length])\n\n  useEffect(() => {\n    const container = scrollContainerRef.current\n    if (!container || !isScrollable) return\n\n    container.addEventListener('scroll', updateScrollState, { passive: true })\n    return () => container.removeEventListener('scroll', updateScrollState)\n  }, [isScrollable, updateScrollState])\n\n  const handleTabClick = useCallback(\n    (tabId: string, e?: React.MouseEvent) => {\n      if (e) {\n        e.preventDefault()\n        e.stopPropagation()\n      }\n      onTabChange(tabId)\n    },\n    [onTabChange]\n  )\n\n  return (\n    <div className=\"border-secondary bg-primary relative overflow-hidden rounded-t-xl border border-b-0\">\n      {isScrollable && (\n        <>\n          <div\n            className={cx(\n              'from-primary pointer-events-none absolute top-0 bottom-0 left-0 z-20 w-6 bg-gradient-to-r to-transparent transition-opacity duration-150',\n              canScrollLeft ? 'opacity-100' : 'opacity-0'\n            )}\n          />\n          <div\n            className={cx(\n              'from-primary pointer-events-none absolute top-0 right-0 bottom-0 z-20 w-6 bg-gradient-to-l to-transparent transition-opacity duration-150',\n              canScrollRight ? 'opacity-100' : 'opacity-0'\n            )}\n          />\n        </>\n      )}\n\n      <div\n        ref={scrollContainerRef}\n        className={cx('relative', isScrollable && 'overflow-x-auto')}\n        style={isScrollable ? { scrollbarWidth: 'none', msOverflowStyle: 'none' } : undefined}\n      >\n        <div\n          ref={containerRef}\n          className={cx(\n            'relative flex items-center p-1.5',\n            isScrollable ? 'inline-flex min-w-full justify-center gap-0.5 px-2' : 'gap-1'\n          )}\n        >\n          <div\n            ref={indicatorRef}\n            className=\"bg-secondary ring-secondary pointer-events-none absolute rounded-md ring-1\"\n            style={{\n              top: '0.375rem',\n              bottom: '0.375rem',\n              left: 'var(--indicator-left, 0px)',\n              width: 'var(--indicator-width, 0px)',\n              transition: 'left 200ms ease-out, width 200ms ease-out',\n            }}\n          />\n\n          {sections.map((section, index) => (\n            <button\n              key={section.id}\n              ref={setTabRef(index)}\n              data-tab-index={index}\n              onClick={(e) => handleTabClick(section.id, e)}\n              onMouseDown={(e) => {\n                e.preventDefault()\n                handleTabClick(section.id, e)\n              }}\n              type=\"button\"\n              className={cx(\n                'relative z-10 cursor-pointer touch-manipulation rounded-md font-mono font-medium tracking-wider whitespace-nowrap uppercase transition-colors select-none',\n                isScrollable\n                  ? 'shrink-0 px-2.5 py-1.5 text-[10px]'\n                  : 'flex-1 px-3 py-2 text-center text-xs',\n                activeTab === section.id\n                  ? 'text-primary'\n                  : 'text-secondary hover:text-primary bg-transparent'\n              )}\n              style={{ WebkitTapHighlightColor: 'transparent' }}\n            >\n              {section.tabLabel}\n            </button>\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n"]}