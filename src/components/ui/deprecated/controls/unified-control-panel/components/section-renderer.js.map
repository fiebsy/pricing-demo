{"version":3,"file":"section-renderer.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/deprecated/controls/unified-control-panel/components/section-renderer.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * Section Renderer\n *\n * Renders individual sections with collapsible behavior\n */\n\n'use client'\n\nimport { useEffect, useRef, useState, useCallback } from 'react'\nimport { cx } from '@/components/utils/cx'\nimport { Checkbox } from '@/components/ui/base/primitives'\n\nimport type { CollapseConfig, ControlSection } from '../types'\nimport { usePanelActions } from '../context/panel-context'\nimport { useContentHeight } from '../hooks/use-shared-resize-observer'\nimport { NestedSubsection } from './nested-subsection'\n\n// -----------------------------------------------------------------------------\n// Default Configuration\n// -----------------------------------------------------------------------------\n\nconst DEFAULT_EXPAND_BUTTON = {\n  show: true,\n  text: 'See all',\n  textColorClass: 'text-secondary',\n  showIcon: true,\n  position: 'center' as const,\n  bottomOffset: 4,\n  showBorder: true,\n  borderColorClass: 'border-primary',\n  showShadow: false,\n}\n\nconst DEFAULT_COLLAPSE_BUTTON = {\n  show: false,\n  text: 'Show less',\n  textColorClass: 'text-secondary',\n  showIcon: true,\n  position: 'center' as const,\n  showBorder: false,\n  borderColorClass: 'border-primary',\n  showShadow: false,\n}\n\nconst DEFAULT_GRADIENT = {\n  enabled: true,\n  height: 80,\n  intensity: 100,\n}\n\n// -----------------------------------------------------------------------------\n// Chevron Icon\n// -----------------------------------------------------------------------------\n\nconst ChevronIcon = ({ isExpanded, className }: { isExpanded: boolean; className?: string }) => (\n  <svg\n    className={cx(\n      'size-4 transition-transform duration-200 ease-out',\n      isExpanded ? 'rotate-0' : '-rotate-90',\n      className\n    )}\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M4 6L8 10L12 6\"\n      stroke=\"currentColor\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n)\n\n// -----------------------------------------------------------------------------\n// Section Header\n// -----------------------------------------------------------------------------\n\ninterface SectionHeaderProps {\n  title: string\n  isExpanded: boolean\n  onToggleExpand: () => void\n  enableToggle?: {\n    enabled: boolean\n    key: string\n  }\n  onEnableChange?: (enabled: boolean) => void\n}\n\nconst SectionHeader = ({\n  title,\n  isExpanded,\n  onToggleExpand,\n  enableToggle,\n  onEnableChange,\n}: SectionHeaderProps) => {\n  return (\n    <div className=\"border-secondary border-b pb-3\">\n      <button\n        type=\"button\"\n        onClick={onToggleExpand}\n        className=\"group flex w-full items-center justify-between text-left transition-opacity duration-150 hover:opacity-80\"\n      >\n        <h4 className=\"text-primary text-sm font-semibold\">{title}</h4>\n\n        <div className=\"flex items-center gap-2\">\n          {enableToggle && (\n            <div\n              onClick={(e) => e.stopPropagation()}\n              onKeyDown={(e) => e.stopPropagation()}\n            >\n              <Checkbox\n                size=\"sm\"\n                isSelected={enableToggle.enabled}\n                onChange={(enabled: boolean) => onEnableChange?.(enabled)}\n              />\n            </div>\n          )}\n\n          <div className=\"text-tertiary flex size-6 items-center justify-center\">\n            <ChevronIcon isExpanded={isExpanded} />\n          </div>\n        </div>\n      </button>\n    </div>\n  )\n}\n\n// -----------------------------------------------------------------------------\n// Action Button Component\n// -----------------------------------------------------------------------------\n\ninterface ActionButtonProps {\n  onClick: () => void\n  text: string\n  textColorClass: string\n  showIcon: boolean\n  position: 'center' | 'left' | 'right'\n  bottomOffset?: number\n  showBorder?: boolean\n  borderColorClass?: string\n  showShadow?: boolean\n  iconDirection: 'down' | 'up'\n  ariaLabel: string\n}\n\nconst ActionButton = ({\n  onClick,\n  text,\n  textColorClass,\n  showIcon,\n  position,\n  bottomOffset = 0,\n  showBorder = false,\n  borderColorClass = 'border-primary',\n  showShadow = false,\n  iconDirection,\n  ariaLabel,\n}: ActionButtonProps) => {\n  const positionClass = {\n    center: 'justify-center',\n    left: 'justify-start pl-4',\n    right: 'justify-end pr-4',\n  }[position]\n\n  return (\n    <button\n      type=\"button\"\n      onClick={onClick}\n      className={cx(\n        'absolute right-0 left-0 z-20 flex h-8 cursor-pointer items-center rounded-b-lg',\n        'transition-opacity duration-150 hover:opacity-80 active:opacity-60',\n        positionClass\n      )}\n      style={{ bottom: `${bottomOffset}px` }}\n      aria-label={ariaLabel}\n    >\n      <span\n        className={cx(\n          'bg-primary/80 flex items-center gap-1.5 rounded-full px-3 py-1 text-xs font-medium backdrop-blur-sm',\n          'transition-transform duration-150 hover:scale-105 active:scale-95',\n          textColorClass,\n          showBorder && 'border',\n          showBorder && borderColorClass,\n          showShadow && 'shadow-sm'\n        )}\n      >\n        <span>{text}</span>\n        {showIcon && (\n          <svg\n            className={cx('size-3', iconDirection === 'up' && 'rotate-180')}\n            viewBox=\"0 0 16 16\"\n            fill=\"none\"\n          >\n            <path d=\"M4 6L8 10L12 6\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n          </svg>\n        )}\n      </span>\n    </button>\n  )\n}\n\n// -----------------------------------------------------------------------------\n// Gradient Overlay Component\n// -----------------------------------------------------------------------------\n\ninterface GradientOverlayProps {\n  config: NonNullable<CollapseConfig['gradient']>\n  isVisible: boolean\n}\n\nconst GradientOverlay = ({ config, isVisible }: GradientOverlayProps) => {\n  const { enabled = true, height = 80, intensity = 100 } = config\n\n  if (!enabled || !isVisible) return null\n\n  const alpha = intensity / 100\n\n  return (\n    <>\n      <div\n        className={cx(\n          'pointer-events-none absolute right-0 bottom-0 left-0 dark:hidden',\n          'transition-opacity duration-200',\n          isVisible ? 'opacity-100' : 'opacity-0'\n        )}\n        style={{\n          height: `${height}px`,\n          background: `linear-gradient(to bottom, rgba(255,255,255,0) 0%, rgba(255,255,255,${alpha * 0.8}) 40%, rgba(255,255,255,${alpha}) 100%)`,\n        }}\n      />\n      <div\n        className={cx(\n          'pointer-events-none absolute right-0 bottom-0 left-0 hidden dark:block',\n          'transition-opacity duration-200',\n          isVisible ? 'opacity-100' : 'opacity-0'\n        )}\n        style={{\n          height: `${height}px`,\n          background: `linear-gradient(to bottom, rgba(23,23,23,0) 0%, rgba(23,23,23,${alpha * 0.8}) 40%, rgba(23,23,23,${alpha}) 100%)`,\n        }}\n      />\n    </>\n  )\n}\n\n// -----------------------------------------------------------------------------\n// Section Renderer\n// -----------------------------------------------------------------------------\n\ninterface SectionRendererProps {\n  section: ControlSection\n  onChange: (event: { controlId: string; sectionId: string; value: unknown }) => void\n  onEnableToggle?: (sectionId: string, enabled: boolean) => void\n  defaultCollapsed?: boolean\n}\n\nexport const SectionRenderer = ({\n  section,\n  onChange,\n  onEnableToggle,\n  defaultCollapsed = false,\n}: SectionRendererProps) => {\n  const { id, title, enableToggle, subsections, collapseConfig } = section\n  const { registerSection } = usePanelActions()\n  const sectionRef = useRef<HTMLElement>(null)\n  const [isExpanded, setIsExpanded] = useState(!defaultCollapsed)\n\n  // Use shared resize observer for content height\n  const { ref: contentRef, height: contentHeight } = useContentHeight()\n\n  const isEnabled = enableToggle ? enableToggle.enabled : true\n\n  const config = {\n    collapsedHeight: collapseConfig?.collapsedHeight ?? 100,\n    expandButton: {\n      ...DEFAULT_EXPAND_BUTTON,\n      ...collapseConfig?.expandButton,\n    },\n    collapseButton: {\n      ...DEFAULT_COLLAPSE_BUTTON,\n      ...collapseConfig?.collapseButton,\n    },\n    gradient: {\n      ...DEFAULT_GRADIENT,\n      ...collapseConfig?.gradient,\n    },\n    animationDuration: collapseConfig?.animationDuration ?? 300,\n  }\n\n  useEffect(() => {\n    registerSection(id, sectionRef.current)\n    return () => registerSection(id, null)\n  }, [id, registerSection])\n\n  const handleEnableChange = (enabled: boolean) => {\n    onEnableToggle?.(id, enabled)\n  }\n\n  const handleToggleExpand = () => {\n    setIsExpanded((prev) => !prev)\n  }\n\n  const maxHeight = isExpanded\n    ? (contentHeight ? `${contentHeight}px` : '2000px')\n    : `${config.collapsedHeight}px`\n\n  return (\n    <section\n      ref={sectionRef}\n      id={id}\n      data-section-id={id}\n      className=\"scroll-mt-32\"\n    >\n      <div className=\"bg-primary border-primary overflow-hidden rounded-lg border\">\n        <div className=\"p-4 pb-0\">\n          <SectionHeader\n            title={title}\n            isExpanded={isExpanded}\n            onToggleExpand={handleToggleExpand}\n            enableToggle={enableToggle}\n            onEnableChange={handleEnableChange}\n          />\n        </div>\n\n        <div className=\"relative\">\n          <div\n            className=\"overflow-hidden transition-[max-height] ease-out\"\n            style={{\n              maxHeight,\n              transitionDuration: `${config.animationDuration}ms`,\n            }}\n          >\n            <div ref={contentRef}>\n              {isEnabled && (\n                <div className=\"space-y-6 p-4 pt-4\">\n                  {subsections.map((subsection, index) => (\n                    <NestedSubsection\n                      key={`${id}-subsection-${index}`}\n                      subsection={subsection}\n                      sectionId={id}\n                      onChange={onChange}\n                      depth={subsection.depth || 0}\n                    />\n                  ))}\n                </div>\n              )}\n\n              {!isEnabled && (\n                <div className=\"p-4 pt-4\">\n                  <p className=\"text-tertiary text-center text-xs italic\">\n                    Section disabled\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <GradientOverlay\n            config={config.gradient}\n            isVisible={!isExpanded}\n          />\n\n          {!isExpanded && config.expandButton.show && (\n            <ActionButton\n              onClick={handleToggleExpand}\n              text={config.expandButton.text}\n              textColorClass={config.expandButton.textColorClass}\n              showIcon={config.expandButton.showIcon}\n              position={config.expandButton.position}\n              bottomOffset={config.expandButton.bottomOffset}\n              showBorder={config.expandButton.showBorder}\n              borderColorClass={config.expandButton.borderColorClass}\n              showShadow={config.expandButton.showShadow}\n              iconDirection=\"down\"\n              ariaLabel=\"Expand section\"\n            />\n          )}\n\n          {isExpanded && config.collapseButton.show && (\n            <ActionButton\n              onClick={handleToggleExpand}\n              text={config.collapseButton.text}\n              textColorClass={config.collapseButton.textColorClass}\n              showIcon={config.collapseButton.showIcon}\n              position={config.collapseButton.position}\n              bottomOffset={0}\n              showBorder={config.collapseButton.showBorder}\n              borderColorClass={config.collapseButton.borderColorClass}\n              showShadow={config.collapseButton.showShadow}\n              iconDirection=\"up\"\n              ariaLabel=\"Collapse section\"\n            />\n          )}\n        </div>\n      </div>\n    </section>\n  )\n}\n"]}