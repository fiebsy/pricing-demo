{"version":3,"file":"unified-control-panel.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/deprecated/controls/unified-control-panel/unified-control-panel.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * Unified Control Panel\n *\n * Complete control panel component with tabs, sections, and action bar.\n * Supports minimize/expand functionality for better screen real estate management.\n */\n\n'use client'\n\nimport { useCallback, useMemo, useState } from 'react'\nimport { cx } from '@/components/utils/cx'\n\nimport type { ControlSection, UnifiedControlPanelProps } from './types'\nimport { PanelProvider, usePanelState, usePanelActions } from './context/panel-context'\nimport { useScrollSync } from './hooks/use-scroll-sync'\nimport { TabNavigation } from './components/tab-navigation'\nimport { SectionRenderer } from './components/section-renderer'\nimport { ActionBar } from './components/action-bar'\nimport { MinimizedPill } from './components/minimized-pill'\n\n// -----------------------------------------------------------------------------\n// Panel Header with Minimize Button\n// -----------------------------------------------------------------------------\n\ninterface PanelHeaderProps {\n  title?: string\n}\n\nconst PanelHeader = ({ title }: PanelHeaderProps) => {\n  const { toggleMinimize } = usePanelActions()\n\n  return (\n    <div className=\"flex items-center justify-between border-b border-primary px-3 py-2\">\n      {title && (\n        <h3 className=\"text-primary text-sm font-semibold\">{title}</h3>\n      )}\n      <button\n        type=\"button\"\n        onClick={toggleMinimize}\n        className={cx(\n          'ml-auto flex items-center justify-center',\n          'size-7 rounded-md',\n          'text-secondary hover:text-primary',\n          'hover:bg-tertiary',\n          'transition-colors duration-150',\n          'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand'\n        )}\n        aria-label=\"Minimize panel\"\n        title=\"Minimize panel\"\n      >\n        {/* Minimize icon */}\n        <svg\n          className=\"size-4\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        >\n          <polyline points=\"4 14 10 14 10 20\" />\n          <polyline points=\"20 10 14 10 14 4\" />\n          <line x1=\"14\" y1=\"10\" x2=\"21\" y2=\"3\" />\n          <line x1=\"3\" y1=\"21\" x2=\"10\" y2=\"14\" />\n        </svg>\n      </button>\n    </div>\n  )\n}\n\n// -----------------------------------------------------------------------------\n// Panel Content (internal)\n// -----------------------------------------------------------------------------\n\ninterface PanelContentProps<T = unknown> extends UnifiedControlPanelProps<T> {}\n\nconst PanelContent = <T,>({\n  config,\n  onChange,\n  onReset,\n  onPresetChange,\n  getConfigForCopy,\n  className,\n}: PanelContentProps<T>) => {\n  const { sections, showReset, resetLabel, presetConfig, title, minimizedTitle } = config\n  // Split context usage for optimal performance\n  const { activeTab, isScrollingProgrammatically, isMinimized } = usePanelState()\n  const { setActiveTab, scrollToSection, containerRef } = usePanelActions()\n\n  const [isInitialMount, setIsInitialMount] = useState(true)\n\n  // Tab change handler\n  const handleTabChange = useCallback(\n    (tabId: string) => {\n      scrollToSection(tabId)\n    },\n    [scrollToSection]\n  )\n\n  // Scroll sync\n  const sectionIds = useMemo(() => sections.map((s) => s.id), [sections])\n  useScrollSync({\n    sectionIds,\n    onSectionInView: setActiveTab,\n    isDisabled: isScrollingProgrammatically,\n    containerRef,\n  })\n\n  // Enable toggle handler\n  const handleEnableToggle = useCallback(\n    (sectionId: string, enabled: boolean) => {\n      const section = sections.find((s) => s.id === sectionId)\n      if (section?.enableToggle) {\n        onChange({\n          controlId: section.enableToggle.key,\n          sectionId,\n          value: enabled,\n        })\n      }\n    },\n    [sections, onChange]\n  )\n\n  // Position styles\n  const positionStyle = useMemo(\n    () => ({\n      '--panel-top': config.position?.top ?? '80px',\n      '--panel-bottom': config.position?.bottom ?? '16px',\n      '--panel-right': config.position?.right ?? '16px',\n      '--panel-width': config.position?.width ?? '320px',\n    }),\n    [config.position]\n  )\n\n  // Render minimized pill when minimized\n  if (isMinimized) {\n    return <MinimizedPill title={minimizedTitle ?? title ?? 'Controls'} />\n  }\n\n  return (\n    <div\n      className={cx(\n        'pointer-events-auto fixed flex flex-col',\n        'bg-secondary rounded-xl shadow-xl',\n        // Animation\n        'animate-in fade-in slide-in-from-right-4 duration-200',\n        'motion-reduce:animate-none',\n        className\n      )}\n      style={{\n        top: 'var(--panel-top)',\n        bottom: 'var(--panel-bottom)',\n        right: 'var(--panel-right)',\n        width: 'var(--panel-width)',\n        ...positionStyle,\n      }}\n    >\n      {/* Header with minimize button */}\n      <PanelHeader title={title} />\n\n      {/* Tabs */}\n      <TabNavigation\n        sections={sections}\n        activeTab={activeTab}\n        onTabChange={handleTabChange}\n        isInitialMount={isInitialMount}\n        onInitialMountComplete={() => setIsInitialMount(false)}\n      />\n\n      {/* Scrollable Content */}\n      <div\n        ref={containerRef as React.RefObject<HTMLDivElement>}\n        className=\"flex-1 overflow-y-auto overflow-x-hidden p-3\"\n        style={{ scrollBehavior: 'smooth' }}\n      >\n        <div className=\"space-y-4\">\n          {sections.map((section: ControlSection) => (\n            <SectionRenderer\n              key={section.id}\n              section={section}\n              onChange={onChange}\n              onEnableToggle={handleEnableToggle}\n              defaultCollapsed={section.defaultCollapsed}\n            />\n          ))}\n        </div>\n      </div>\n\n      {/* Action Bar */}\n      <ActionBar\n        presetConfig={presetConfig}\n        showReset={showReset}\n        resetLabel={resetLabel}\n        onReset={onReset}\n        onPresetChange={onPresetChange}\n        getConfigForCopy={getConfigForCopy}\n      />\n    </div>\n  )\n}\n\n// -----------------------------------------------------------------------------\n// Unified Control Panel (exported)\n// -----------------------------------------------------------------------------\n\nexport const UnifiedControlPanel = <T,>(props: UnifiedControlPanelProps<T>) => {\n  const defaultTab = props.config.defaultActiveTab ?? props.config.sections[0]?.id ?? ''\n  const defaultMinimized = props.config.defaultMinimized ?? false\n\n  return (\n    <PanelProvider defaultActiveTab={defaultTab} defaultMinimized={defaultMinimized}>\n      <PanelContent {...props} />\n    </PanelProvider>\n  )\n}\n"]}