{"version":3,"file":"use-tab-indicator.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/deprecated/controls/unified-control-panel/hooks/use-tab-indicator.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Use Tab Indicator\n *\n * Manages tab indicator position using CSS custom properties\n */\n\n'use client'\n\nimport { useCallback, useEffect, useRef, useState } from 'react'\nimport { TabIndicatorState } from '../types'\n\ninterface UseTabIndicatorOptions {\n  activeIndex: number\n  skipInitialAnimation?: boolean\n  onInitialized?: () => void\n}\n\ninterface UseTabIndicatorReturn {\n  state: TabIndicatorState\n  setTabRef: (index: number) => (el: HTMLButtonElement | null) => void\n  indicatorRef: React.RefObject<HTMLDivElement | null>\n  containerRef: React.RefObject<HTMLDivElement | null>\n  recalculate: () => void\n}\n\nexport const useTabIndicator = ({\n  activeIndex,\n  skipInitialAnimation = true,\n  onInitialized,\n}: UseTabIndicatorOptions): UseTabIndicatorReturn => {\n  const [state, setState] = useState<TabIndicatorState>({\n    left: 0,\n    width: 0,\n    isInitialized: false,\n  })\n\n  const tabRefs = useRef<(HTMLButtonElement | null)[]>([])\n  const indicatorRef = useRef<HTMLDivElement>(null)\n  const containerRef = useRef<HTMLDivElement>(null)\n  const isInitializedRef = useRef(false)\n\n  const setTabRef = useCallback(\n    (index: number) => (el: HTMLButtonElement | null) => {\n      tabRefs.current[index] = el\n    },\n    []\n  )\n\n  const updateIndicatorPosition = useCallback(() => {\n    const activeTab = tabRefs.current[activeIndex]\n    const container = containerRef.current\n    const indicator = indicatorRef.current\n\n    if (!activeTab || !container || !indicator) return\n\n    const left = activeTab.offsetLeft\n    const width = activeTab.offsetWidth\n\n    if (!isInitializedRef.current && skipInitialAnimation) {\n      indicator.style.transition = 'none'\n      indicator.style.setProperty('--indicator-left', `${left}px`)\n      indicator.style.setProperty('--indicator-width', `${width}px`)\n\n      indicator.offsetHeight\n\n      indicator.style.transition = ''\n\n      isInitializedRef.current = true\n      onInitialized?.()\n    } else {\n      indicator.style.setProperty('--indicator-left', `${left}px`)\n      indicator.style.setProperty('--indicator-width', `${width}px`)\n    }\n\n    setState({\n      left,\n      width,\n      isInitialized: true,\n    })\n  }, [activeIndex, skipInitialAnimation, onInitialized])\n\n  useEffect(() => {\n    updateIndicatorPosition()\n  }, [updateIndicatorPosition])\n\n  useEffect(() => {\n    const handleResize = () => {\n      updateIndicatorPosition()\n    }\n\n    window.addEventListener('resize', handleResize)\n    return () => window.removeEventListener('resize', handleResize)\n  }, [updateIndicatorPosition])\n\n  return {\n    state,\n    setTabRef,\n    indicatorRef,\n    containerRef,\n    recalculate: updateIndicatorPosition,\n  }\n}\n"]}