{"version":3,"file":"skwircle.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/deprecated/skwircle/skwircle.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * Skwircle Component\n *\n * Unified squircle component with variant-first API and smart FOUC prevention.\n * Combines best of legacy Squircle (power) and SquircleV2 (simplicity).\n *\n * @example Basic Usage\n * ```tsx\n * <Skwircle variant=\"card\" intent=\"default\">\n *   Card content\n * </Skwircle>\n * ```\n *\n * @example Button with Intent\n * ```tsx\n * <Skwircle variant=\"button\" intent=\"primary\" onClick={handleClick}>\n *   <span className=\"px-4 py-2\">Click me</span>\n * </Skwircle>\n * ```\n *\n * @example Compound Components\n * ```tsx\n * <Skwircle.Card elevation=\"sm\">Card content</Skwircle.Card>\n * <Skwircle.Button intent=\"primary\">Button text</Skwircle.Button>\n * ```\n */\n\n'use client'\n\nimport * as React from 'react'\nimport { useRef } from 'react'\nimport type { SkwircleProps, GradientConfig, SkwircleComponent } from './types'\nimport {\n  useDimensions,\n  useHoverState,\n  useSkwircleMount,\n  useSkwircleShape,\n  useSkwircleColors,\n} from './core'\nimport { SkwircleSvg, SkwircleShadow } from './rendering'\nimport {\n  VARIANT_CONFIGS,\n  ROUNDNESS_CONFIGS,\n  ELEVATION_CONFIGS,\n  getIntentConfig,\n  GRADIENT_BORDER_PRESETS,\n  BACKGROUND_GRADIENT_PRESETS,\n} from './config'\nimport {\n  createSkwircleButton,\n  createSkwircleBadge,\n  createSkwircleCard,\n  createSkwircleInput,\n  createSkwircleAvatar,\n} from './components'\n\n/**\n * Base Skwircle component.\n */\nconst SkwircleBase: React.FC<SkwircleProps> = ({\n  // Variant system\n  variant = 'base',\n  intent = 'default',\n  size,\n  state,\n\n  // Shape\n  roundness,\n  elevation,\n  borderWidth,\n\n  // Ring (outer border)\n  ring,\n  ringColor,\n  ringWidth,\n  ringOpacity,\n\n  // Colors (escape hatches)\n  backgroundColor,\n  backgroundColorHover,\n  borderColor,\n  borderColorHover,\n\n  // Gradients\n  borderGradient,\n  backgroundGradient,\n\n  // Mount strategy (FOUC prevention)\n  mountStrategy = 'auto',\n  initialDimensions,\n\n  // Layout\n  fillMode = false,\n  overflow = 'hidden',\n\n  // Content wrapper\n  contentWrapperClassName,\n  contentWrapperStyle,\n\n  // Accessibility & HTML attributes\n  disabled = false,\n  tabIndex,\n  role,\n  'aria-label': ariaLabel,\n  'aria-labelledby': ariaLabelledby,\n  'aria-describedby': ariaDescribedby,\n  'aria-disabled': ariaDisabled,\n  'aria-pressed': ariaPressed,\n  'aria-expanded': ariaExpanded,\n  'data-testid': dataTestId,\n\n  // Events\n  onClick,\n  onMouseEnter,\n  onMouseLeave,\n  onKeyDown,\n  onFocus,\n  onBlur,\n\n  // Standard\n  children,\n  className = '',\n  style = {},\n}) => {\n  const containerRef = useRef<HTMLDivElement>(null)\n  const contentRef = useRef<HTMLDivElement>(null)\n\n  // Get variant defaults - ensure variant is always defined\n  const effectiveVariant = variant ?? 'base'\n  const effectiveIntent = intent ?? 'default'\n  const variantConfig = VARIANT_CONFIGS[effectiveVariant]\n  const intentColors = getIntentConfig(effectiveVariant, effectiveIntent)\n\n  // Resolve values with fallback chain: prop > intent > variant > default\n  const resolvedRoundness = roundness ?? variantConfig.roundness\n  const resolvedElevation = elevation ?? intentColors.elevation ?? variantConfig.elevation\n  const resolvedBorderWidth = borderWidth ?? variantConfig.borderWidth\n  const resolvedRing = ring ?? variantConfig.ring ?? false\n  const resolvedRingWidth = ringWidth ?? variantConfig.ringWidth ?? 2\n  const resolvedRingOpacity = ringOpacity ?? 100\n\n  // Get roundness config from preset\n  const roundnessConfig = ROUNDNESS_CONFIGS[resolvedRoundness]\n\n  // Get shadow config from elevation preset\n  const shadowConfig = ELEVATION_CONFIGS[resolvedElevation]\n\n  // Check if this variant should have hover effects\n  const isInteractive = variantConfig.interactive\n\n  // Resolve colors\n  const resolvedBgColor = backgroundColor ?? intentColors.backgroundColor\n  // Only use hover colors if variant is interactive\n  const resolvedBgColorHover = isInteractive\n    ? (backgroundColorHover ?? intentColors.backgroundColorHover)\n    : resolvedBgColor\n  const resolvedBorderColor = borderColor ?? intentColors.borderColor\n  const resolvedBorderColorHover = isInteractive\n    ? (borderColorHover ?? intentColors.borderColorHover)\n    : resolvedBorderColor\n  const resolvedRingColor = ringColor ?? 'outline-color-brand'\n\n  // Hover state (only track if interactive)\n  const { isHovered, handleMouseEnter, handleMouseLeave } = useHoverState(onMouseEnter, onMouseLeave)\n\n  // Calculate total border offset (for positioning)\n  const outerBorderWidth = resolvedRing ? resolvedRingWidth : 0\n  const totalBorderOffset = resolvedBorderWidth + outerBorderWidth\n\n  // Dimension tracking\n  // When fillMode is true, measure the container (for full-width expansion)\n  // Otherwise measure the content (for content-based sizing)\n  const measureRef = fillMode ? containerRef : contentRef\n  const { dimensions: rawDimensions, hasMeasured } = useDimensions(measureRef, { initialDimensions })\n\n  // When fillMode is true, we measure the container but the border needs to fit INSIDE it.\n  // Subtract the border offset from measured dimensions so paths are generated correctly:\n  // - Border path will match container size\n  // - Background path will match content area (container minus border on each side)\n  const dimensions = fillMode && rawDimensions.width > 0 && rawDimensions.height > 0\n    ? {\n        width: Math.max(0, rawDimensions.width - totalBorderOffset * 2),\n        height: Math.max(0, rawDimensions.height - totalBorderOffset * 2),\n      }\n    : rawDimensions\n\n  // Mount strategy (FOUC prevention)\n  const { shouldShow, opacity, transition } = useSkwircleMount({\n    mountStrategy,\n    hasMeasured,\n    initialDimensions,\n    className,\n    style,\n    fillMode,\n  })\n\n  // Color resolution with hover\n  const colors = useSkwircleColors(\n    {\n      backgroundColor: resolvedBgColor,\n      backgroundColorHover: resolvedBgColorHover,\n      borderColor: resolvedBorderColor,\n      borderColorHover: resolvedBorderColorHover,\n      outerBorderColor: resolvedRing ? resolvedRingColor : undefined,\n      shadowColor: shadowConfig.color,\n    },\n    isHovered\n  )\n\n  // Generate SVG paths\n  const paths = useSkwircleShape(dimensions, resolvedBorderWidth, outerBorderWidth, roundnessConfig)\n\n  // Resolve gradient configs\n  const borderGradientConfig: GradientConfig | null =\n    borderGradient && borderGradient !== 'none'\n      ? GRADIENT_BORDER_PRESETS[borderGradient] ?? null\n      : null\n\n  const backgroundGradientConfig: GradientConfig | null =\n    backgroundGradient && backgroundGradient !== 'none'\n      ? BACKGROUND_GRADIENT_PRESETS[backgroundGradient] ?? null\n      : null\n\n  // Check if shadow is enabled\n  const hasShadow = shadowConfig.opacity > 0 && dimensions.width > 0 && dimensions.height > 0\n\n  // Determine if this should behave as a button\n  const isButtonVariant = effectiveVariant === 'button'\n  const effectiveRole = role ?? (isButtonVariant ? 'button' : undefined)\n  const effectiveTabIndex = tabIndex ?? (isButtonVariant && !disabled ? 0 : undefined)\n\n  // Keyboard handler for button behavior (Enter/Space triggers onClick)\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLDivElement>) => {\n    onKeyDown?.(e)\n    if (disabled) return\n    if (isButtonVariant && onClick && (e.key === 'Enter' || e.key === ' ')) {\n      e.preventDefault()\n      onClick(e as unknown as React.MouseEvent<HTMLDivElement>)\n    }\n  }\n\n  // Click handler that respects disabled state\n  const handleClick = (e: React.MouseEvent<HTMLDivElement>) => {\n    if (disabled) {\n      e.preventDefault()\n      return\n    }\n    onClick?.(e)\n  }\n\n  return (\n    <div\n      ref={containerRef}\n      className={`group relative ${disabled ? 'cursor-not-allowed opacity-50' : ''} ${className}`}\n      style={{\n        ...style,\n        display:\n          style?.display ||\n          (fillMode || style?.flex || style?.flexGrow || style?.flexShrink || style?.flexBasis\n            ? 'flex'\n            : 'inline-flex'),\n        // When fillMode is true, use column direction so content wrapper can expand vertically\n        ...(fillMode && !style?.flexDirection && { flexDirection: 'column' }),\n        isolation: 'isolate',\n        opacity: disabled ? 0.5 : opacity,\n        transition: transition\n          ? style?.transition\n            ? `${transition}, ${style.transition}`\n            : transition\n          : style?.transition,\n        pointerEvents: disabled ? 'none' : undefined,\n      }}\n      onClick={handleClick}\n      onMouseEnter={disabled ? undefined : handleMouseEnter}\n      onMouseLeave={disabled ? undefined : handleMouseLeave}\n      onKeyDown={handleKeyDown}\n      onFocus={onFocus}\n      onBlur={onBlur}\n      role={effectiveRole}\n      tabIndex={effectiveTabIndex}\n      aria-label={ariaLabel}\n      aria-labelledby={ariaLabelledby}\n      aria-describedby={ariaDescribedby}\n      aria-disabled={ariaDisabled ?? disabled}\n      aria-pressed={ariaPressed}\n      aria-expanded={ariaExpanded}\n      data-testid={dataTestId}\n      data-skwircle=\"true\"\n      data-variant={effectiveVariant}\n      data-intent={effectiveIntent}\n      data-disabled={disabled || undefined}\n    >\n      {/* Shadow Layer */}\n      {hasShadow && (\n        <SkwircleShadow\n          dimensions={dimensions}\n          borderWidth={resolvedBorderWidth}\n          shadowConfig={shadowConfig}\n          path={paths.border}\n        />\n      )}\n\n      {/* SVG Shape Layer */}\n      <SkwircleSvg\n        dimensions={dimensions}\n        borderWidth={resolvedBorderWidth}\n        outerBorderWidth={outerBorderWidth}\n        outerBorderOpacity={resolvedRingOpacity / 100}\n        paths={paths}\n        bgColor={colors.bgColor}\n        borderColor={colors.borderColor}\n        outerBorderColor={colors.outerBorderColor}\n        borderGradient={borderGradientConfig}\n        backgroundGradient={backgroundGradientConfig}\n        overflow={overflow}\n      />\n\n      {/* Content */}\n      <div\n        ref={contentRef}\n        className={contentWrapperClassName ?? variantConfig.contentWrapperClassName}\n        style={{\n          position: 'relative',\n          zIndex: 1,\n          margin: totalBorderOffset,\n          // When fillMode is true, expand to fill container\n          ...(fillMode && {\n            flex: 1,\n            display: 'flex',\n            flexDirection: 'column',\n          }),\n          ...(overflow !== 'visible' && {\n            overflow: 'hidden',\n            // Force GPU layer for Safari clip-path fix\n            transform: 'translateZ(0)',\n          }),\n          ...contentWrapperStyle,\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  )\n}\n\n// =============================================================================\n// COMPOUND COMPONENTS\n// =============================================================================\n// Components are defined in ./components/ and created via factory functions.\n// This keeps the base component clean and allows config co-location.\n\n/**\n * Skwircle - Unified squircle component\n *\n * Features:\n * - Variant-first API (card, button, badge, input, avatar)\n * - Intent system (default, primary, secondary, ghost, error, success, warning)\n * - Smart FOUC prevention (mountStrategy='auto')\n * - Compound components (Skwircle.Card, Skwircle.Button, etc.)\n */\nexport const Skwircle = SkwircleBase as SkwircleComponent\n\n// Attach compound components from ./components/\nSkwircle.Button = createSkwircleButton(SkwircleBase)\nSkwircle.Badge = createSkwircleBadge(SkwircleBase)\nSkwircle.Card = createSkwircleCard(SkwircleBase)\nSkwircle.Input = createSkwircleInput(SkwircleBase)\nSkwircle.Avatar = createSkwircleAvatar(SkwircleBase)\n"]}