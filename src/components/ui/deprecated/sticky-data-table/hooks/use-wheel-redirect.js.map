{"version":3,"file":"use-wheel-redirect.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/deprecated/sticky-data-table/hooks/use-wheel-redirect.ts"],"names":[],"mappings":";AAAA,YAAY,CAAA;;;AAEZ;;;;;;;GAOG;AAEH,iCAAiC;AASjC;;;;;;;;;;;GAWG;AACH,SAAgB,gBAAgB,CAAC,EAC/B,OAAO,EACP,OAAO,GAAG,IAAI,GACQ;IACtB,IAAA,iBAAS,EAAC,GAAG,EAAE;QACb,IAAI,CAAC,OAAO;YAAE,OAAM;QAEpB,MAAM,IAAI,GAAG,OAAO,CAAC,OAAO,CAAA;QAC5B,IAAI,CAAC,IAAI;YAAE,OAAM;QAEjB,MAAM,WAAW,GAAG,CAAC,CAAa,EAAE,EAAE;YACpC,+DAA+D;YAC/D,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC;gBAC5C,2EAA2E;gBAC3E,sEAAsE;gBACtE,sEAAsE;gBACtE,CAAC,CAAC,cAAc,EAAE,CAAA;gBAClB,CAAC,CAAC,eAAe,EAAE,CAAA;gBAEnB,6CAA6C;gBAC7C,MAAM,CAAC,QAAQ,CAAC;oBACd,GAAG,EAAE,CAAC,CAAC,MAAM;oBACb,QAAQ,EAAE,SAAS;iBACpB,CAAC,CAAA;YACJ,CAAC;QACH,CAAC,CAAA;QAED,4DAA4D;QAC5D,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,WAAW,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAA;QAE/D,OAAO,GAAG,EAAE;YACV,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,WAAW,CAAC,CAAA;QAChD,CAAC,CAAA;IACH,CAAC,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAA;AACxB,CAAC;AAlCD,4CAkCC","sourcesContent":["'use client'\n\n/**\n * StickyDataTable V2 - Wheel Redirect Hook\n *\n * Redirects vertical scroll events on the table body to the window.\n * Prevents scroll trapping when table has horizontal overflow.\n *\n * @module hooks/use-wheel-redirect\n */\n\nimport { useEffect } from 'react'\n\ninterface UseWheelRedirectProps {\n  /** Reference to the scrollable body element */\n  bodyRef: React.RefObject<HTMLDivElement | null>\n  /** Enable/disable the redirect */\n  enabled?: boolean\n}\n\n/**\n * Hook for redirecting vertical scroll to window\n *\n * When a user scrolls vertically over the table body (which only\n * scrolls horizontally), this hook captures the wheel event and\n * redirects it to the window for page scrolling.\n *\n * Features:\n * - Only redirects vertical scroll (deltaY > deltaX)\n * - Prevents default to avoid conflicts\n * - Can be disabled for special use cases\n */\nexport function useWheelRedirect({\n  bodyRef,\n  enabled = true,\n}: UseWheelRedirectProps): void {\n  useEffect(() => {\n    if (!enabled) return\n\n    const body = bodyRef.current\n    if (!body) return\n\n    const handleWheel = (e: WheelEvent) => {\n      // Only redirect if scrolling more vertically than horizontally\n      if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) {\n        // CRITICAL: preventDefault FIRST to stop browser's default scroll handling\n        // This must happen before window.scrollBy() to prevent conflicts with\n        // horizontally-scrollable containers that try to capture wheel events\n        e.preventDefault()\n        e.stopPropagation()\n\n        // Now redirect vertical scroll to the window\n        window.scrollBy({\n          top: e.deltaY,\n          behavior: 'instant',\n        })\n      }\n    }\n\n    // Use passive: false because we need to call preventDefault\n    body.addEventListener('wheel', handleWheel, { passive: false })\n\n    return () => {\n      body.removeEventListener('wheel', handleWheel)\n    }\n  }, [bodyRef, enabled])\n}\n\n\n"]}