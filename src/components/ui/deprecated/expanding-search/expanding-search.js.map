{"version":3,"file":"expanding-search.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/deprecated/expanding-search/expanding-search.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * Expanding Search Input\n *\n * A search input that expands horizontally from a compact icon state.\n * The icon stays fixed at the left while the input slides in.\n *\n * @module expanding-search\n */\n\n'use client'\n\nimport React, { useState, useCallback, useEffect } from 'react'\n\nimport type { ExpandingSearchProps } from './types'\nimport { DEFAULT_PROPS } from './config'\nimport { useExpandingSearch } from './hooks/use-expanding-search'\nimport { getContentOpacity, getContentTransition } from './utils/animation'\nimport {\n  SearchContainer,\n  SearchIconButton,\n  SearchInput,\n  ClearButton,\n} from './components'\n\n// ============================================================================\n// Component\n// ============================================================================\n\nexport const ExpandingSearch: React.FC<ExpandingSearchProps> = ({\n  placeholder = DEFAULT_PROPS.placeholder,\n  value,\n  onChange,\n  onSubmit,\n  onExpandedChange,\n  defaultExpanded = DEFAULT_PROPS.defaultExpanded,\n  expanded,\n  collapsedWidth = DEFAULT_PROPS.collapsedWidth,\n  expandedWidth = DEFAULT_PROPS.expandedWidth,\n  height = DEFAULT_PROPS.height,\n  duration = DEFAULT_PROPS.duration,\n  collapseDuration = 75,\n  revealMode = 'immediate',\n  hideMode = 'fade',\n  className,\n  autoFocus = DEFAULT_PROPS.autoFocus,\n  collapseOnBlur = DEFAULT_PROPS.collapseOnBlur,\n  iconSize = 18,\n  iconStrokeWidth = 2,\n  iconOpacity = 65,\n}) => {\n  // ============================================================================\n  // State & Handlers\n  // ============================================================================\n\n  const {\n    inputRef,\n    containerRef,\n    isExpanded,\n    inputValue,\n    handleToggle,\n    handleInputChange,\n    handleKeyDown,\n    handleClear,\n    handleContainerClick,\n  } = useExpandingSearch({\n    value,\n    expanded,\n    defaultExpanded,\n    autoFocus,\n    collapseOnBlur,\n    onChange,\n    onSubmit,\n    onExpandedChange,\n  })\n\n  // ============================================================================\n  // Animation State\n  // ============================================================================\n\n  // For 'sync' mode: track when container animation completes\n  const [animationComplete, setAnimationComplete] = useState(defaultExpanded)\n\n  // Reset animationComplete when collapsing\n  useEffect(() => {\n    if (!isExpanded) {\n      setAnimationComplete(false)\n    }\n  }, [isExpanded])\n\n  // Handle container transitionend for sync mode\n  const handleTransitionEnd = useCallback((e: React.TransitionEvent) => {\n    if (e.propertyName === 'width' && e.target === containerRef.current) {\n      if (isExpanded) {\n        setAnimationComplete(true)\n      }\n    }\n  }, [isExpanded, containerRef])\n\n  // ============================================================================\n  // Animation Calculations\n  // ============================================================================\n\n  const animationState = { isExpanded, animationComplete }\n  const animationConfig = { duration, collapseDuration, revealMode, hideMode }\n\n  const contentOpacity = getContentOpacity(animationState, revealMode)\n  const contentTransition = getContentTransition(animationState, animationConfig)\n\n  // ============================================================================\n  // Render\n  // ============================================================================\n\n  return (\n    <SearchContainer\n      ref={containerRef}\n      isExpanded={isExpanded}\n      collapsedWidth={collapsedWidth}\n      expandedWidth={expandedWidth}\n      height={height}\n      duration={duration}\n      revealMode={revealMode}\n      hideMode={hideMode}\n      collapseDuration={collapseDuration}\n      className={className}\n      onClick={handleContainerClick}\n      onTransitionEnd={handleTransitionEnd}\n    >\n      <SearchIconButton\n        isExpanded={isExpanded}\n        collapsedWidth={collapsedWidth}\n        iconSize={iconSize}\n        iconStrokeWidth={iconStrokeWidth}\n        iconOpacity={iconOpacity}\n        onClick={handleToggle}\n      />\n\n      <SearchInput\n        inputRef={inputRef}\n        isExpanded={isExpanded}\n        value={inputValue}\n        placeholder={placeholder}\n        collapsedWidth={collapsedWidth}\n        contentOpacity={contentOpacity}\n        contentTransition={contentTransition}\n        onChange={handleInputChange}\n        onKeyDown={handleKeyDown}\n      >\n        <ClearButton\n          visible={!!inputValue && isExpanded}\n          onClick={handleClear}\n        />\n      </SearchInput>\n    </SearchContainer>\n  )\n}\n\nExpandingSearch.displayName = 'ExpandingSearch'\n"]}