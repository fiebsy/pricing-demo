{"version":3,"file":"use-search-with-empty-state.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/deprecated/expanding-search/hooks/use-search-with-empty-state.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * useSearchWithEmptyState\n *\n * A hook that integrates ExpandingSearch with table empty states.\n * Provides smart empty state configuration based on search term and active filters.\n *\n * @module expanding-search/hooks/use-search-with-empty-state\n */\n\n'use client'\n\nimport { useState, useCallback, useMemo } from 'react'\n\nimport type {\n  EmptyStateConfig,\n  SearchStyleConfig,\n  UseSearchWithEmptyStateOptions,\n  UseSearchWithEmptyStateReturn,\n  RevealMode,\n  HideMode,\n} from '../types'\n\n// ============================================================================\n// Default Style Configuration\n// ============================================================================\n\n/** Default style configuration - matches proper ExpandingSearch design */\nexport const DEFAULT_SEARCH_STYLE: Required<SearchStyleConfig> = {\n  placeholder: 'Search...',\n  expandedWidth: 200,\n  collapsedWidth: 36,\n  height: 36,\n  duration: 200,\n  revealMode: 'immediate',\n  hideMode: 'instant',\n  collapseOnBlur: true,\n  className: 'shine-1',\n}\n\n// ============================================================================\n// Default Content\n// ============================================================================\n\nconst DEFAULT_CONTENT = {\n  emptyTitle: 'No results',\n  emptyDescription: \"There's nothing to display yet.\",\n  noResultsTitle: 'No results found',\n}\n\n// ============================================================================\n// Hook\n// ============================================================================\n\nexport function useSearchWithEmptyState<TFilter = unknown>({\n  initialSearchTerm = '',\n  initialExpanded = false,\n  activeFilters = [],\n  onClearFilters,\n  emptyStateContent,\n  itemLabel = 'items',\n  searchStyle,\n}: UseSearchWithEmptyStateOptions<TFilter> = {}): UseSearchWithEmptyStateReturn<TFilter> {\n  // Merge search style with defaults\n  const mergedStyle = useMemo(() => ({\n    ...DEFAULT_SEARCH_STYLE,\n    ...searchStyle,\n  }), [searchStyle])\n\n  // -------------------------------------------------------------------------\n  // State\n  // -------------------------------------------------------------------------\n\n  const [searchTerm, setSearchTerm] = useState(initialSearchTerm)\n  const [isExpanded, setIsExpanded] = useState(initialExpanded)\n\n  // -------------------------------------------------------------------------\n  // Derived State\n  // -------------------------------------------------------------------------\n\n  const hasActiveFilters = activeFilters.length > 0\n\n  // -------------------------------------------------------------------------\n  // Clear Handlers\n  // -------------------------------------------------------------------------\n\n  const clearSearch = useCallback(() => {\n    setSearchTerm('')\n    setIsExpanded(false)\n  }, [])\n\n  const clearFilters = useCallback(() => {\n    onClearFilters?.()\n  }, [onClearFilters])\n\n  const clearAll = useCallback(() => {\n    setSearchTerm('')\n    setIsExpanded(false)\n    onClearFilters?.()\n  }, [onClearFilters])\n\n  // -------------------------------------------------------------------------\n  // Expanded Change Handler\n  // -------------------------------------------------------------------------\n\n  const handleExpandedChange = useCallback((expanded: boolean) => {\n    setIsExpanded(expanded)\n    if (!expanded) {\n      setSearchTerm('')\n    }\n  }, [])\n\n  // -------------------------------------------------------------------------\n  // Empty State Configuration\n  // -------------------------------------------------------------------------\n\n  const content = { ...DEFAULT_CONTENT, ...emptyStateContent }\n\n  const emptyStateConfig = useMemo((): EmptyStateConfig => {\n    const hasSearch = searchTerm.length > 0\n    const hasFilters = hasActiveFilters\n\n    // No search or filters - show base empty state\n    if (!hasSearch && !hasFilters) {\n      return {\n        searchTerm: '',\n        hasActiveFilters: false,\n        title: content.emptyTitle,\n        description: content.emptyDescription,\n        action: null,\n      }\n    }\n\n    // Both search and filters\n    if (hasSearch && hasFilters) {\n      return {\n        searchTerm,\n        hasActiveFilters: true,\n        title: content.noResultsTitle,\n        description: 'Try adjusting your search or filters to find what you\\'re looking for.',\n        action: {\n          label: 'Clear all',\n          onClick: clearAll,\n        },\n      }\n    }\n\n    // Only search\n    if (hasSearch) {\n      return {\n        searchTerm,\n        hasActiveFilters: false,\n        title: content.noResultsTitle,\n        description: `No results found for \"${searchTerm}\". Try a different search term.`,\n        action: {\n          label: 'Clear search',\n          onClick: clearSearch,\n        },\n      }\n    }\n\n    // Only filters\n    return {\n      searchTerm: '', // We use a marker to trigger noResultsState\n      hasActiveFilters: true,\n      title: content.noResultsTitle,\n      description: `No ${itemLabel} match the selected filters.`,\n      action: {\n        label: 'Clear filters',\n        onClick: clearFilters,\n      },\n    }\n  }, [searchTerm, hasActiveFilters, content, clearAll, clearSearch, clearFilters, itemLabel])\n\n  // -------------------------------------------------------------------------\n  // Props Bundles\n  // -------------------------------------------------------------------------\n\n  const searchProps = useMemo(() => ({\n    // State props\n    value: searchTerm,\n    onChange: setSearchTerm,\n    expanded: isExpanded,\n    onExpandedChange: handleExpandedChange,\n    // Style props (from merged config)\n    placeholder: mergedStyle.placeholder,\n    expandedWidth: mergedStyle.expandedWidth,\n    collapsedWidth: mergedStyle.collapsedWidth,\n    height: mergedStyle.height,\n    duration: mergedStyle.duration,\n    revealMode: mergedStyle.revealMode as RevealMode,\n    hideMode: mergedStyle.hideMode as HideMode,\n    collapseOnBlur: mergedStyle.collapseOnBlur,\n    className: mergedStyle.className,\n  }), [searchTerm, isExpanded, handleExpandedChange, mergedStyle])\n\n  // For the table, we need to pass a truthy searchTerm when filters are active\n  // to trigger the noResultsState instead of emptyState\n  const tableEmptyStateProps = useMemo(() => ({\n    searchTerm: searchTerm || (hasActiveFilters ? 'filters' : ''),\n  }), [searchTerm, hasActiveFilters])\n\n  // -------------------------------------------------------------------------\n  // Return\n  // -------------------------------------------------------------------------\n\n  return {\n    // Search state\n    searchTerm,\n    setSearchTerm,\n    isExpanded,\n    setIsExpanded,\n\n    // Filter integration\n    hasActiveFilters,\n    activeFilters,\n\n    // Clear handlers\n    clearSearch,\n    clearFilters,\n    clearAll,\n\n    // Empty state config\n    emptyStateConfig,\n\n    // Props bundles\n    searchProps,\n    tableEmptyStateProps,\n  }\n}\n"]}