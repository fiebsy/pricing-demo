{"version":3,"file":"page-background-context.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/prod/data/sticky-data-table/context/page-background-context.tsx"],"names":[],"mappings":";AAAA,YAAY,CAAA;;;AAEZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA+CG;AAEH,iCAAiE;AAoCjE,+EAA+E;AAC/E,uBAAuB;AACvB,+EAA+E;AAE/E;;;GAGG;AACH,MAAM,mBAAmB,GAA2B;IAClD,YAAY,EAAE,iCAAiC;IAC/C,cAAc,EAAE,mCAAmC;IACnD,kBAAkB,EAAE,uCAAuC;IAC3D,iBAAiB,EAAE,sCAAsC;IACzD,iBAAiB,EAAE,sCAAsC;IACzD,aAAa,EAAE,kCAAkC;CAClD,CAAA;AAED;;;GAGG;AACH,SAAgB,mBAAmB,CAAC,OAAe;IACjD,OAAO,mBAAmB,CAAC,OAAO,CAAC,IAAI,uCAAuC,CAAA;AAChF,CAAC;AAFD,kDAEC;AAED,+EAA+E;AAC/E,UAAU;AACV,+EAA+E;AAE/E;;;GAGG;AACH,MAAM,0BAA0B,GAAG,IAAA,qBAAa,EAC9C,SAAS,CACV,CAAA;AAED,+EAA+E;AAC/E,WAAW;AACX,+EAA+E;AAE/E;;;;;;;;;;;;;;;;;;GAkBG;AACH,SAAgB,2BAA2B,CAAC,EAC1C,UAAU,EACV,QAAQ,GACyB;IACjC,MAAM,KAAK,GAAoC;QAC7C,eAAe,EAAE,UAAU;QAC3B,gBAAgB,EAAE,mBAAmB,CAAC,UAAU,CAAC;KAClD,CAAA;IAED,OAAO,CACL,CAAC,0BAA0B,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAChD;MAAA,CAAC,QAAQ,CACX;IAAA,EAAE,0BAA0B,CAAC,QAAQ,CAAC,CACvC,CAAA;AACH,CAAC;AAdD,kEAcC;AAED,+EAA+E;AAC/E,OAAO;AACP,+EAA+E;AAE/E;;;;;GAKG;AACH,SAAgB,sBAAsB;IACpC,OAAO,IAAA,kBAAU,EAAC,0BAA0B,CAAC,CAAA;AAC/C,CAAC;AAFD,wDAEC;AAED,+EAA+E;AAC/E,oBAAoB;AACpB,+EAA+E;AAE/E;;;;;;;;;;;;;;GAcG;AACH,SAAgB,yBAAyB,CACvC,OAAqC;IAErC,OAAO;QACL,iBAAiB,EAAE,mBAAmB,CAAC,OAAO,CAAC;KACzB,CAAA;AAC1B,CAAC;AAND,8DAMC;AAED;;;;;;;;;;;GAWG;AACU,QAAA,uBAAuB,GAAG;IACrC,OAAO,EAAE;QACP,aAAa,EAAE,YAAY;QAC3B,eAAe,EAAE,iBAAiB;QAClC,gBAAgB,EAAE,iBAAiB;QACnC,0BAA0B,EAAE,oBAAoB;QAChD,aAAa,EAAE,YAAY;QAC3B,aAAa,EAAE,cAAc;QAC7B,uBAAuB,EAAE,oBAAoB;QAC7C,QAAQ,EAAE,cAAc;KACzB;IACD,SAAS,EAAE;QACT,aAAa,EAAE,cAAc;QAC7B,eAAe,EAAE,iBAAiB;QAClC,gBAAgB,EAAE,iBAAiB;QACnC,0BAA0B,EAAE,oBAAoB;QAChD,aAAa,EAAE,YAAY;QAC3B,aAAa,EAAE,cAAc;QAC7B,uBAAuB,EAAE,oBAAoB;QAC7C,QAAQ,EAAE,cAAc;KACzB;IACD,YAAY,EAAE;QACZ,aAAa,EAAE,kBAAkB;QACjC,eAAe,EAAE,iBAAiB;QAClC,gBAAgB,EAAE,iBAAiB;QACnC,0BAA0B,EAAE,oBAAoB;QAChD,aAAa,EAAE,YAAY;QAC3B,aAAa,EAAE,cAAc;QAC7B,uBAAuB,EAAE,oBAAoB;QAC7C,QAAQ,EAAE,cAAc;KACzB;CACO,CAAA","sourcesContent":["'use client'\n\n/**\n * TablePageBackground Context\n *\n * Provides automatic background color synchronization between page layouts\n * and StickyDataTable components. This ensures the sticky toolbar/header\n * seamlessly blends with the page background during scroll.\n *\n * ## Usage Patterns\n *\n * ### Pattern 1: CSS Variable (Recommended - Zero JS Cost)\n * Set `--table-page-bg` on any ancestor element:\n *\n * ```tsx\n * // In your page or layout\n * <div\n *   className=\"bg-secondary min-h-screen\"\n *   style={{ '--table-page-bg': 'var(--background-color-secondary)' } as React.CSSProperties}\n * >\n *   <StickyDataTable ... /> // Auto-inherits background\n * </div>\n * ```\n *\n * ### Pattern 2: React Context (For Complex Layouts)\n * Wrap with provider when CSS inheritance isn't sufficient:\n *\n * ```tsx\n * <TablePageBackgroundProvider background=\"bg-secondary\">\n *   <StickyDataTable ... /> // Reads from context\n * </TablePageBackgroundProvider>\n * ```\n *\n * ### Pattern 3: Explicit Override (Always Works)\n * Pass backgroundConfig directly to the table:\n *\n * ```tsx\n * <StickyDataTable\n *   backgroundConfig={{ headerWrapper: 'bg-secondary' }}\n * />\n * ```\n *\n * ## Priority Order\n * 1. Explicit `backgroundConfig.headerWrapper` prop (highest)\n * 2. React Context value\n * 3. CSS Variable `--table-page-bg`\n * 4. Default (`bg-secondary_alt`)\n *\n * @module context/page-background-context\n */\n\nimport { createContext, useContext, type ReactNode } from 'react'\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\n/**\n * Standard page background options\n * These map to semantic Tailwind classes\n */\nexport type PageBackgroundToken =\n  | 'bg-primary'\n  | 'bg-secondary'\n  | 'bg-secondary_alt'\n  | 'bg-tertiary'\n\n/**\n * Context value for page background\n */\nexport interface TablePageBackgroundContextValue {\n  /** Tailwind class for the page background */\n  backgroundClass: string\n  /** CSS variable value for gradient overlays */\n  backgroundCssVar: string\n}\n\n/**\n * Provider props\n */\nexport interface TablePageBackgroundProviderProps {\n  /** The page background - either a preset token or custom class */\n  background: PageBackgroundToken | string\n  /** Child components */\n  children: ReactNode\n}\n\n// ============================================================================\n// CSS VARIABLE MAPPING\n// ============================================================================\n\n/**\n * Maps Tailwind background classes to their CSS variable equivalents\n * Used for gradient overlays which need the raw color value\n */\nconst BG_CLASS_TO_CSS_VAR: Record<string, string> = {\n  'bg-primary': 'var(--background-color-primary)',\n  'bg-secondary': 'var(--background-color-secondary)',\n  'bg-secondary_alt': 'var(--background-color-secondary_alt)',\n  'bg-secondary_p1': 'var(--background-color-secondary_p1)',\n  'bg-secondary_t1': 'var(--background-color-secondary_t1)',\n  'bg-tertiary': 'var(--background-color-tertiary)',\n}\n\n/**\n * Get the CSS variable for a background class\n * Falls back to secondary_alt if not found\n */\nexport function getBackgroundCssVar(bgClass: string): string {\n  return BG_CLASS_TO_CSS_VAR[bgClass] ?? 'var(--background-color-secondary_alt)'\n}\n\n// ============================================================================\n// CONTEXT\n// ============================================================================\n\n/**\n * Context for page background propagation\n * Default is undefined - tables will use their own defaults\n */\nconst TablePageBackgroundContext = createContext<TablePageBackgroundContextValue | undefined>(\n  undefined\n)\n\n// ============================================================================\n// PROVIDER\n// ============================================================================\n\n/**\n * Provider for page background context\n *\n * Wrap your page content with this provider to automatically synchronize\n * StickyDataTable backgrounds with the page.\n *\n * @example\n * ```tsx\n * function MyPage() {\n *   return (\n *     <TablePageBackgroundProvider background=\"bg-secondary\">\n *       <div className=\"bg-secondary min-h-screen p-8\">\n *         <StickyDataTable ... />\n *       </div>\n *     </TablePageBackgroundProvider>\n *   )\n * }\n * ```\n */\nexport function TablePageBackgroundProvider({\n  background,\n  children,\n}: TablePageBackgroundProviderProps) {\n  const value: TablePageBackgroundContextValue = {\n    backgroundClass: background,\n    backgroundCssVar: getBackgroundCssVar(background),\n  }\n\n  return (\n    <TablePageBackgroundContext.Provider value={value}>\n      {children}\n    </TablePageBackgroundContext.Provider>\n  )\n}\n\n// ============================================================================\n// HOOK\n// ============================================================================\n\n/**\n * Hook to access page background context\n *\n * Returns undefined if no provider is present - the table will use defaults.\n * This is intentional to support the opt-in pattern.\n */\nexport function useTablePageBackground(): TablePageBackgroundContextValue | undefined {\n  return useContext(TablePageBackgroundContext)\n}\n\n// ============================================================================\n// UTILITY FUNCTIONS\n// ============================================================================\n\n/**\n * Create a style object with the CSS variable for page background\n *\n * Use this when you want the CSS-only approach without React context.\n *\n * @example\n * ```tsx\n * <div\n *   className=\"bg-secondary min-h-screen\"\n *   style={createPageBackgroundStyle('bg-secondary')}\n * >\n *   <StickyDataTable ... />\n * </div>\n * ```\n */\nexport function createPageBackgroundStyle(\n  bgClass: PageBackgroundToken | string\n): React.CSSProperties {\n  return {\n    '--table-page-bg': getBackgroundCssVar(bgClass),\n  } as React.CSSProperties\n}\n\n/**\n * Preset configurations for common page backgrounds\n *\n * Use these with backgroundConfig prop for explicit control:\n *\n * @example\n * ```tsx\n * <StickyDataTable\n *   backgroundConfig={PAGE_BACKGROUND_CONFIGS.secondary}\n * />\n * ```\n */\nexport const PAGE_BACKGROUND_CONFIGS = {\n  primary: {\n    headerWrapper: 'bg-primary',\n    headerContainer: 'bg-secondary_p1',\n    headerStickyCell: 'bg-secondary_p1',\n    headerStickyCellWithArrows: 'bg-secondary_t1/95',\n    bodyContainer: 'bg-primary',\n    rowStickyCell: 'bg-primary/0',\n    rowStickyCellWithArrows: 'bg-secondary_t1/95',\n    rowHover: 'bg-secondary',\n  },\n  secondary: {\n    headerWrapper: 'bg-secondary',\n    headerContainer: 'bg-secondary_p1',\n    headerStickyCell: 'bg-secondary_p1',\n    headerStickyCellWithArrows: 'bg-secondary_t1/95',\n    bodyContainer: 'bg-primary',\n    rowStickyCell: 'bg-primary/0',\n    rowStickyCellWithArrows: 'bg-secondary_t1/95',\n    rowHover: 'bg-secondary',\n  },\n  secondaryAlt: {\n    headerWrapper: 'bg-secondary_alt',\n    headerContainer: 'bg-secondary_p1',\n    headerStickyCell: 'bg-secondary_p1',\n    headerStickyCellWithArrows: 'bg-secondary_t1/95',\n    bodyContainer: 'bg-primary',\n    rowStickyCell: 'bg-primary/0',\n    rowStickyCellWithArrows: 'bg-secondary_t1/95',\n    rowHover: 'bg-secondary',\n  },\n} as const\n"]}