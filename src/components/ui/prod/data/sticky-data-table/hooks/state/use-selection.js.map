{"version":3,"file":"use-selection.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/prod/data/sticky-data-table/hooks/state/use-selection.ts"],"names":[],"mappings":";AAAA,YAAY,CAAA;;;AAEZ;;;;;;;GAOG;AAEH,iCAAsD;AAYtD;;;;;;;;;;GAUG;AACH,SAAgB,YAAY,CAAC,EAC3B,MAAM,EACN,OAAO,EACP,eAAe,GACG;IAClB,MAAM,CAAC,WAAW,EAAE,cAAc,CAAC,GAAG,IAAA,gBAAQ,EAC5C,GAAG,EAAE,CAAC,eAAe,IAAI,IAAI,GAAG,EAAE,CACnC,CAAA;IAED,8BAA8B;IAC9B,MAAM,kBAAkB,GAAG,IAAA,mBAAW,EAAC,CAAC,KAAsB,EAAE,EAAE;QAChE,cAAc,CAAC,CAAC,IAAI,EAAE,EAAE;YACtB,MAAM,IAAI,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,CAAA;YAC1B,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC;gBACpB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;YACpB,CAAC;iBAAM,CAAC;gBACN,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA;YACjB,CAAC;YACD,OAAO,IAAI,CAAA;QACb,CAAC,CAAC,CAAA;IACJ,CAAC,EAAE,EAAE,CAAC,CAAA;IAEN,0BAA0B;IAC1B,MAAM,aAAa,GAAG,IAAA,mBAAW,EAAC,GAAG,EAAE;QACrC,cAAc,CAAC,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,CAAA;IACjC,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAA;IAEZ,oBAAoB;IACpB,MAAM,eAAe,GAAG,IAAA,mBAAW,EAAC,GAAG,EAAE;QACvC,cAAc,CAAC,IAAI,GAAG,EAAE,CAAC,CAAA;IAC3B,CAAC,EAAE,EAAE,CAAC,CAAA;IAEN,oCAAoC;IACpC,MAAM,aAAa,GAAG,IAAA,mBAAW,EAC/B,CAAC,KAAsB,EAAE,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,EAClD,CAAC,WAAW,CAAC,CACd,CAAA;IAED,8BAA8B;IAC9B,iEAAiE;IACjE,MAAM,aAAa,GAAG,IAAA,eAAO,EAAC,GAAG,EAAE;QACjC,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC;YAAE,OAAO,KAAK,CAAA;QAChD,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAA;IAClD,CAAC,EAAE,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC,CAAA;IAEzB,sCAAsC;IACtC,MAAM,cAAc,GAAG,IAAA,eAAO,EAAC,GAAG,EAAE;QAClC,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC;YAAE,OAAO,KAAK,CAAA;QAChD,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAA;IACnE,CAAC,EAAE,CAAC,MAAM,EAAE,WAAW,EAAE,aAAa,CAAC,CAAC,CAAA;IAExC,8BAA8B;IAC9B,MAAM,aAAa,GAAG,IAAA,eAAO,EAAC,GAAG,EAAE;QACjC,OAAO,WAAW,CAAC,IAAI,CAAA;IACzB,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,CAAA;IAEjB,oEAAoE;IACpE,IAAI,CAAC,OAAO,EAAE,CAAC;QACb,OAAO,IAAI,CAAA;IACb,CAAC;IAED,OAAO;QACL,WAAW;QACX,kBAAkB;QAClB,aAAa;QACb,eAAe;QACf,aAAa;QACb,aAAa;QACb,cAAc;QACd,aAAa;KACd,CAAA;AACH,CAAC;AAvED,oCAuEC","sourcesContent":["'use client'\n\n/**\n * StickyDataTable V2 - Selection Hook\n *\n * Manages row selection state for checkbox functionality.\n * Supports single, multiple, and select-all operations.\n *\n * @module hooks/use-selection\n */\n\nimport { useState, useCallback, useMemo } from 'react'\nimport type { SelectionState } from '../../types'\n\ninterface UseSelectionProps {\n  /** Array of all row IDs */\n  rowIds: Array<string | number>\n  /** Enable selection feature */\n  enabled: boolean\n  /** Initial selected IDs */\n  initialSelected?: Set<string | number>\n}\n\n/**\n * Hook for row selection management\n *\n * Features:\n * - Toggle individual rows\n * - Select/deselect all\n * - Computed selection states\n * - Returns null when disabled\n *\n * @returns SelectionState or null if disabled\n */\nexport function useSelection({\n  rowIds,\n  enabled,\n  initialSelected,\n}: UseSelectionProps): SelectionState | null {\n  const [selectedIds, setSelectedIds] = useState<Set<string | number>>(\n    () => initialSelected ?? new Set()\n  )\n\n  // Toggle single row selection\n  const toggleRowSelection = useCallback((rowId: string | number) => {\n    setSelectedIds((prev) => {\n      const next = new Set(prev)\n      if (next.has(rowId)) {\n        next.delete(rowId)\n      } else {\n        next.add(rowId)\n      }\n      return next\n    })\n  }, [])\n\n  // Select all visible rows\n  const selectAllRows = useCallback(() => {\n    setSelectedIds(new Set(rowIds))\n  }, [rowIds])\n\n  // Deselect all rows\n  const deselectAllRows = useCallback(() => {\n    setSelectedIds(new Set())\n  }, [])\n\n  // Check if specific row is selected\n  const isRowSelected = useCallback(\n    (rowId: string | number) => selectedIds.has(rowId),\n    [selectedIds]\n  )\n\n  // Computed: all rows selected\n  // Use safe access in case rowIds is undefined during transitions\n  const isAllSelected = useMemo(() => {\n    if (!rowIds || rowIds.length === 0) return false\n    return rowIds.every((id) => selectedIds.has(id))\n  }, [rowIds, selectedIds])\n\n  // Computed: some but not all selected\n  const isSomeSelected = useMemo(() => {\n    if (!rowIds || rowIds.length === 0) return false\n    return rowIds.some((id) => selectedIds.has(id)) && !isAllSelected\n  }, [rowIds, selectedIds, isAllSelected])\n\n  // Computed: count of selected\n  const selectedCount = useMemo(() => {\n    return selectedIds.size\n  }, [selectedIds])\n\n  // Return null if selection is disabled (after all hooks are called)\n  if (!enabled) {\n    return null\n  }\n\n  return {\n    selectedIds,\n    toggleRowSelection,\n    selectAllRows,\n    deselectAllRows,\n    isRowSelected,\n    isAllSelected,\n    isSomeSelected,\n    selectedCount,\n  }\n}\n\n\n\n\n\n\n"]}