{"version":3,"file":"use-sort.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/prod/data/sticky-data-table/hooks/state/use-sort.ts"],"names":[],"mappings":"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","sourcesContent":["'use client'\n\n/**\n * StickyDataTable V2 - Sort Hook\n *\n * Manages column sorting state and data transformation.\n * Supports ascending/descending toggle and multiple data types.\n *\n * @module hooks/use-sort\n */\n\nimport { useState, useMemo, useCallback } from 'react'\nimport type { SortColumn, SortDirection } from '../../types'\n\ninterface UseSortProps<T> {\n  data: T[]\n}\n\ninterface UseSortReturn<T> {\n  sortColumn: SortColumn\n  sortDirection: SortDirection\n  sortedData: T[]\n  handleSort: (columnKey: string) => void\n  resetSort: () => void\n}\n\n/**\n * Compare two values for sorting\n */\nfunction compareValues<T>(a: T, b: T, direction: SortDirection): number {\n  const modifier = direction === 'asc' ? 1 : -1\n\n  // Handle null/undefined\n  if (a == null && b == null) return 0\n  if (a == null) return modifier\n  if (b == null) return -modifier\n\n  // Number comparison\n  if (typeof a === 'number' && typeof b === 'number') {\n    return (a - b) * modifier\n  }\n\n  // Date comparison\n  if (a instanceof Date && b instanceof Date) {\n    return (a.getTime() - b.getTime()) * modifier\n  }\n\n  // String comparison\n  if (typeof a === 'string' && typeof b === 'string') {\n    return a.localeCompare(b) * modifier\n  }\n\n  // Boolean comparison\n  if (typeof a === 'boolean' && typeof b === 'boolean') {\n    return (a === b ? 0 : a ? 1 : -1) * modifier\n  }\n\n  // Fallback to string coercion\n  return String(a).localeCompare(String(b)) * modifier\n}\n\n/**\n * Hook for table sorting\n *\n * Features:\n * - Click column to sort descending\n * - Click again to toggle direction\n * - Click different column to reset\n * - Handles multiple data types\n * - Memoized sorted data\n */\nexport function useSort<T extends Record<string, unknown>>({\n  data,\n}: UseSortProps<T>): UseSortReturn<T> {\n  const [sortColumn, setSortColumn] = useState<SortColumn>(null)\n  const [sortDirection, setSortDirection] = useState<SortDirection>('desc')\n\n  // Memoized sorted data\n  const sortedData = useMemo(() => {\n    if (!sortColumn) return data\n\n    return [...data].sort((a, b) => {\n      const aVal = a[sortColumn]\n      const bVal = b[sortColumn]\n      return compareValues(aVal, bVal, sortDirection)\n    })\n  }, [data, sortColumn, sortDirection])\n\n  // Handle sort click\n  const handleSort = useCallback((columnKey: string) => {\n    setSortColumn((prevColumn) => {\n      if (prevColumn === columnKey) {\n        // Same column - toggle direction\n        setSortDirection((prev) => (prev === 'asc' ? 'desc' : 'asc'))\n        return columnKey\n      } else {\n        // New column - reset to descending\n        setSortDirection('desc')\n        return columnKey\n      }\n    })\n  }, [])\n\n  // Reset sort state\n  const resetSort = useCallback(() => {\n    setSortColumn(null)\n    setSortDirection('desc')\n  }, [])\n\n  return {\n    sortColumn,\n    sortDirection,\n    sortedData,\n    handleSort,\n    resetSort,\n  }\n}\n\n\n"]}