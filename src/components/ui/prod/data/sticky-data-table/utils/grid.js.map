{"version":3,"file":"grid.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/prod/data/sticky-data-table/utils/grid.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * StickyDataTable V2 - Grid Utilities\n *\n * CSS Grid template generation and column calculations.\n * CRITICAL: Same template must be used for header and body alignment.\n *\n * @module utils/grid\n */\n\nimport type { ColumnConfig, ComputedColumn } from '../types'\n\n/**\n * Generate CSS Grid template columns string\n *\n * Creates a grid template that ensures perfect alignment between\n * header and body rows. Uses pixel widths for sticky columns\n * and flexible fr units for scrollable columns.\n *\n * @param stickyColumns - Array of sticky column configs\n * @param scrollableColumns - Array of scrollable column configs\n * @returns CSS grid-template-columns value\n */\nexport function generateGridTemplate(\n  stickyColumns: ColumnConfig[],\n  scrollableColumns: ColumnConfig[]\n): string {\n  // Sticky columns: Fixed pixel widths (or minmax if maxWidth specified)\n  const stickyWidths = stickyColumns\n    .map((col) => {\n      const min = col.minWidth ?? col.width\n      if (col.maxWidth) {\n        return `minmax(${min}px, ${col.maxWidth}px)`\n      }\n      return `${min}px`\n    })\n    .join(' ')\n\n  // Scrollable columns: Flexible with min/max constraints\n  const scrollableWidths = scrollableColumns\n    .map((col) => {\n      const min = col.minWidth ?? col.width\n      const ratio = col.flexRatio ?? 1\n\n      if (col.maxWidth) {\n        return `minmax(${min}px, ${col.maxWidth}px)`\n      }\n      return `minmax(${min}px, ${ratio}fr)`\n    })\n    .join(' ')\n\n  return `${stickyWidths} ${scrollableWidths}`.trim()\n}\n\n/**\n * Calculate total width of sticky columns\n * Used for positioning navigation arrows and overlays\n *\n * @param stickyColumns - Array of sticky column configs\n * @returns Total width in pixels\n */\nexport function calculateTotalStickyWidth(stickyColumns: ColumnConfig[]): number {\n  return stickyColumns.reduce((total, col) => {\n    const width = col.minWidth ?? col.width\n    return total + width\n  }, 0)\n}\n\n/**\n * Compute sticky left offsets for columns\n *\n * Calculates the cumulative left offset for each sticky column.\n * Non-sticky columns get offset of 0.\n *\n * @param columns - Array of column configs\n * @returns Array of computed columns with offsets\n */\nexport function computeColumnOffsets(columns: ColumnConfig[]): ComputedColumn[] {\n  let stickyOffset = 0\n  let stickyIndex = 0\n  const stickyColumns = columns.filter((c) => c.isSticky)\n  const totalColumns = columns.length\n\n  return columns.map((col, index) => {\n    const isSticky = col.isSticky ?? false\n    const computedStickyLeft = isSticky ? stickyOffset : 0\n\n    // Calculate offset for next sticky column\n    if (isSticky) {\n      stickyOffset += col.minWidth ?? col.width\n      stickyIndex++\n    }\n\n    // Determine position flags\n    const isFirst = index === 0\n    const isLast = index === totalColumns - 1\n    const isFirstSticky = isSticky && stickyIndex === 1\n    const isLastSticky = isSticky && stickyIndex === stickyColumns.length\n\n    return {\n      ...col,\n      computedStickyLeft,\n      index,\n      isFirst,\n      isLast,\n      isFirstSticky,\n      isLastSticky,\n    }\n  })\n}\n\n/**\n * Separate columns into sticky and scrollable groups\n *\n * @param computedColumns - Array of computed columns\n * @returns Object with stickyColumns and scrollableColumns\n */\nexport function separateColumns(computedColumns: ComputedColumn[]): {\n  stickyColumns: ComputedColumn[]\n  scrollableColumns: ComputedColumn[]\n} {\n  const stickyColumns: ComputedColumn[] = []\n  const scrollableColumns: ComputedColumn[] = []\n\n  for (const col of computedColumns) {\n    if (col.isSticky) {\n      stickyColumns.push(col)\n    } else {\n      scrollableColumns.push(col)\n    }\n  }\n\n  return { stickyColumns, scrollableColumns }\n}\n\n\n"]}