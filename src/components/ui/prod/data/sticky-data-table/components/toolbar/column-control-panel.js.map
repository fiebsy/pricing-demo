{"version":3,"file":"column-control-panel.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/prod/data/sticky-data-table/components/toolbar/column-control-panel.tsx"],"names":[],"mappings":"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","sourcesContent":["'use client'\n\n/**\n * StickyDataTable V2 - ColumnControlPanel Component\n *\n * Dropdown panel for toggling column visibility.\n * Now uses prod/base/menu with checkbox items for full PROD integration.\n *\n * @module components/column-control-panel\n */\n\nimport { memo, useMemo } from 'react'\nimport Layout2ColumnIcon from '@hugeicons-pro/core-stroke-rounded/Layout2ColumnIcon'\nimport { Menu, type MenuItemType, MENU_ITEM_STYLES_SMALL } from '@/components/ui/prod/base/menu'\nimport { ButtonUtility } from '@/components/ui/prod/base/button-utility'\nimport { HugeIcon } from '@/components/ui/prod/base/icon'\nimport type { ColumnConfig } from '../../types'\n\ninterface ColumnControlPanelProps {\n  /** All available columns */\n  allColumns: ColumnConfig[]\n  /** Currently visible column keys */\n  visibleColumnKeys: Set<string>\n  /** Toggle column visibility */\n  onToggleColumn: (columnKey: string) => void\n  /** Reset to default visibility */\n  onResetColumns: () => void\n  /** Column labels */\n  columnLabels: Record<string, string>\n  /** Optional: Column grouping configuration */\n  columnGroups?: Array<{\n    label: string\n    keys: string[]\n  }>\n}\n\n/**\n * Column control panel\n *\n * Features:\n * - Checkbox list of all columns (organized by groups if provided)\n * - Sticky column indicator\n * - Reset all option\n */\nconst ColumnControlPanelBase = ({\n  allColumns,\n  visibleColumnKeys,\n  onToggleColumn,\n  onResetColumns,\n  columnLabels,\n  columnGroups,\n}: ColumnControlPanelProps) => {\n  // Build menu items from columns\n  const menuItems = useMemo((): MenuItemType[] => {\n    const items: MenuItemType[] = []\n\n    // Helper to create checkbox item for a column\n    const createCheckboxItem = (col: ColumnConfig): MenuItemType => {\n      const isVisible = visibleColumnKeys.has(col.key)\n      const isSticky = col.isSticky ?? false\n      const baseLabel = columnLabels[col.key] || col.key\n      const label = isSticky ? `${baseLabel} (Sticky)` : baseLabel\n\n      return {\n        type: 'checkbox',\n        id: col.key,\n        label,\n        checked: isVisible,\n        onCheckedChange: () => onToggleColumn(col.key),\n      }\n    }\n\n    if (columnGroups && columnGroups.length > 0) {\n      // Group columns\n      const groupedColumns: Record<string, ColumnConfig[]> = {}\n      const ungroupedColumns: ColumnConfig[] = []\n\n      // Initialize groups\n      columnGroups.forEach((group) => {\n        groupedColumns[group.label] = []\n      })\n\n      // Sort columns into groups\n      allColumns.forEach((col) => {\n        if (col.key === '__checkbox') return\n\n        let found = false\n        for (const group of columnGroups) {\n          if (group.keys.includes(col.key)) {\n            groupedColumns[group.label]?.push(col)\n            found = true\n            break\n          }\n        }\n        if (!found) {\n          ungroupedColumns.push(col)\n        }\n      })\n\n      // Add grouped columns\n      columnGroups.forEach((group) => {\n        const groupCols = groupedColumns[group.label]\n        if (!groupCols || groupCols.length === 0) return\n\n        items.push({ type: 'label', id: `group-${group.label}`, label: group.label })\n        groupCols.forEach((col) => {\n          items.push(createCheckboxItem(col))\n        })\n      })\n\n      // Add ungrouped columns\n      if (ungroupedColumns.length > 0) {\n        items.push({ type: 'label', id: 'group-other', label: 'Other' })\n        ungroupedColumns.forEach((col) => {\n          items.push(createCheckboxItem(col))\n        })\n      }\n    } else {\n      // No groups - render all columns in one list\n      allColumns.forEach((col) => {\n        if (col.key === '__checkbox') return\n        items.push(createCheckboxItem(col))\n      })\n    }\n\n    return items\n  }, [allColumns, visibleColumnKeys, onToggleColumn, columnLabels, columnGroups])\n\n  // Wrap icon for ButtonUtility\n  const ColumnsIcon = () => <HugeIcon icon={Layout2ColumnIcon} size={20} strokeWidth={1.5} data-icon />\n\n  return (\n    <Menu\n      trigger={\n        <ButtonUtility\n          icon={ColumnsIcon}\n          tooltip=\"Column Visibility\"\n          size=\"sm\"\n          color=\"tertiary\"\n        />\n      }\n      header={\n        <div className={`flex items-center text-quaternary opacity-60 ${MENU_ITEM_STYLES_SMALL.paddingX} ${MENU_ITEM_STYLES_SMALL.minHeight} ${MENU_ITEM_STYLES_SMALL.textSize} font-normal mb-1`}>\n          Column visibility\n        </div>\n      }\n      items={menuItems}\n      width={180}\n      side=\"bottom\"\n      align=\"end\"\n      className=\"font-medium [&_[role=menuitemcheckbox]]:min-h-7 [&_[role=menuitemcheckbox]]:py-1 [&_.size-4]:size-3.5\"\n    />\n  )\n}\n\nexport const ColumnControlPanel = memo(ColumnControlPanelBase)\nColumnControlPanel.displayName = 'ColumnControlPanel'\n"]}