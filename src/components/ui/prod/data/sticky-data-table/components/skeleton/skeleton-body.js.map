{"version":3,"file":"skeleton-body.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/prod/data/sticky-data-table/components/skeleton/skeleton-body.tsx"],"names":[],"mappings":"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","sourcesContent":["'use client'\n\n/**\n * Skeleton Body\n *\n * Sticky-aware body skeleton with rows and overflow detection.\n *\n * @module skeleton/skeleton-body\n */\n\nimport { useRef, useEffect } from 'react'\nimport { TABLE_CONFIG } from '../../config'\nimport type { SkeletonCellConfig } from '../../types'\nimport { getBodyOuterBorders, getBodyOuterBorderStyles, type ProcessedColumnsResult } from '../../utils'\nimport { SkeletonBodyCell } from './skeleton-cells'\n\n// ============================================================================\n// SKELETON ROW\n// ============================================================================\n\nexport interface SkeletonRowStickyProps {\n  processed: ProcessedColumnsResult\n  index: number\n  isLast: boolean\n  rowHeight?: number\n  bodyCellConfig?: SkeletonCellConfig\n}\n\n/**\n * Skeleton Row - Sticky Aware\n *\n * Matches StickyDataTable row structure with:\n * - CSS Grid layout\n * - Proper sticky cell styling\n * - Row borders\n */\nexport const SkeletonRowSticky = ({\n  processed,\n  index,\n  isLast,\n  rowHeight = TABLE_CONFIG.ROW_HEIGHT,\n  bodyCellConfig,\n}: SkeletonRowStickyProps) => {\n  const { allColumns, gridTemplate, stickyState, borderConfig, backgroundConfig } = processed\n\n  // Row border (between rows)\n  const rowBorderClass = !isLast && borderConfig.showRows ? `border-b ${borderConfig.rowColor}` : ''\n\n  return (\n    <div\n      // NOTE: No background class here - cell backgrounds handle sticky styling\n      // This matches TableRow which also has no row-level background\n      className={`grid w-fit min-w-full ${rowBorderClass}`}\n      style={{\n        gridTemplateColumns: gridTemplate,\n        height: `${rowHeight}px`,\n      }}\n    >\n      {allColumns.map((col) => (\n        <SkeletonBodyCell\n          key={col.key}\n          column={col}\n          stickyState={stickyState}\n          borderConfig={borderConfig}\n          backgroundConfig={backgroundConfig}\n          cellConfig={bodyCellConfig}\n        />\n      ))}\n    </div>\n  )\n}\n\n// ============================================================================\n// SKELETON BODY\n// ============================================================================\n\nexport interface SkeletonBodyStickyProps {\n  processed: ProcessedColumnsResult\n  rowCount: number\n  rowHeight?: number\n  borderRadius?: number\n  onOverflowDetected?: (hasOverflow: boolean) => void\n  bodyCellConfig?: SkeletonCellConfig\n}\n\n/**\n * Skeleton Body - Sticky Aware\n *\n * Container for skeleton rows with proper borders\n * Measures overflow to determine sticky state dynamically\n */\nexport const SkeletonBodySticky = ({\n  processed,\n  rowCount,\n  rowHeight = TABLE_CONFIG.ROW_HEIGHT,\n  borderRadius = TABLE_CONFIG.DEFAULT_BORDER_RADIUS,\n  onOverflowDetected,\n  bodyCellConfig,\n}: SkeletonBodyStickyProps) => {\n  const { borderConfig, backgroundConfig } = processed\n  const bodyRef = useRef<HTMLDivElement>(null)\n\n  const outerBorderClasses = getBodyOuterBorders(borderConfig)\n  const outerBorderStyles = getBodyOuterBorderStyles(borderConfig)\n\n  // Measure overflow after render\n  useEffect(() => {\n    if (!bodyRef.current || !onOverflowDetected) return\n\n    const checkOverflow = () => {\n      const element = bodyRef.current\n      if (!element) return\n\n      const hasOverflow = element.scrollWidth > element.clientWidth\n      onOverflowDetected(hasOverflow)\n    }\n\n    // Check immediately and after a short delay to account for layout\n    checkOverflow()\n    const timeoutId = setTimeout(checkOverflow, 100)\n\n    // Also check on resize\n    const resizeObserver = new ResizeObserver(checkOverflow)\n    resizeObserver.observe(bodyRef.current)\n\n    return () => {\n      clearTimeout(timeoutId)\n      resizeObserver.disconnect()\n    }\n  }, [onOverflowDetected, processed.gridTemplate])\n\n  return (\n    <div\n      ref={bodyRef}\n      className={`overflow-x-auto overflow-y-hidden ${outerBorderClasses} ${backgroundConfig.bodyContainer}`}\n      style={{\n        scrollbarWidth: 'none',\n        borderBottomLeftRadius: `${borderRadius}px`,\n        borderBottomRightRadius: `${borderRadius}px`,\n        ...outerBorderStyles, // Side-specific border colors\n      }}\n    >\n      {Array.from({ length: rowCount }).map((_, i) => (\n        <SkeletonRowSticky\n          key={i}\n          processed={processed}\n          index={i}\n          isLast={i === rowCount - 1}\n          rowHeight={rowHeight}\n          bodyCellConfig={bodyCellConfig}\n        />\n      ))}\n    </div>\n  )\n}\n"]}