{"version":3,"file":"select.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/prod/base/select/select.tsx"],"names":[],"mappings":";AAAA;;;;;;;;;;GAUG;AAEH,YAAY,CAAA;AAZZ;;;;;;;;;;GAUG;;;AAIH,iCAAwD;AACxD,kDAA4D;AAC5D,wFAAgF;AAChF,8EAAsE;AAEtE,uCAAgC;AAChC,yDAAyD;AAEzD,oCAAiC;AAQjC,qCAgBiB;AAEjB,+EAA+E;AAC/E,wDAAwD;AACxD,+EAA+E;AAE/E,SAAS,wBAAwB,CAAC,MAAe,EAAE,UAAkB;IACnE,MAAM,KAAK,GAAG,IAAA,cAAM,EAAC,UAAU,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAA;IACzE,MAAM,WAAW,GAAG,gBAAgB,KAAK,CAAC,OAAO,EAAE,CAAA;IAEnD,MAAM,YAAY,GAAG,IAAA,eAAO,EAAC,GAAG,EAAE;QAChC,IAAI,CAAC,MAAM;YAAE,OAAO,EAAE,CAAA;QAEtB,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,gBAAgB,EAAE,GAAG,yBAAgB,CAAA;QAC7E,MAAM,MAAM,GAAG,wBAAe,CAAA;QAC9B,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,gBAAgB,CAAC,CAAA;QAE7D,MAAM,QAAQ,GAAG,iBAAiB,KAAK,CAAC,OAAO,EAAE,CAAA;QACjD,MAAM,eAAe,GAAG,kBAAkB,KAAK,CAAC,OAAO,EAAE,CAAA;QAEzD,OAAO;SACF,WAAW;;qBAEC,QAAQ,WAAW,QAAQ,MAAM,MAAM;qBACvC,eAAe,IAAI,QAAQ,MAAM,MAAM;;SAEnD,WAAW;;qBAEC,QAAQ,QAAQ,QAAQ,MAAM,MAAM;qBACpC,eAAe,IAAI,QAAQ,MAAM,MAAM;;mBAEzC,QAAQ;kCACO,UAAU,iBAAiB,WAAW;gCACxC,QAAQ;;mBAErB,QAAQ;kCACO,UAAU,gBAAgB,WAAW;gCACvC,QAAQ;;mBAErB,eAAe;;;;KAI7B,CAAA;IACH,CAAC,EAAE,CAAC,MAAM,EAAE,UAAU,EAAE,WAAW,CAAC,CAAC,CAAA;IAErC,OAAO,EAAE,WAAW,EAAE,YAAY,EAAE,CAAA;AACtC,CAAC;AAED,+EAA+E;AAC/E,sBAAsB;AACtB,+EAA+E;AAE/E,SAAS,aAAa,CAAC,IAAgB;IACrC,OAAO,MAAM,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,KAAK,OAAO,CAAA;AAChD,CAAC;AAED,SAAS,WAAW,CAAC,IAAgB;IACnC,OAAO,MAAM,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,CAAA;AACpD,CAAC;AAED,SAAS,QAAQ,CAAC,IAAgB;IAChC,6DAA6D;IAC7D,kFAAkF;IAClF,IAAI,CAAC,CAAC,MAAM,IAAI,IAAI,CAAC;QAAE,OAAO,IAAI,CAAA;IAClC,mFAAmF;IACnF,OAAO,OAAO,IAAI,IAAI,IAAI,OAAQ,IAAqB,CAAC,KAAK,KAAK,QAAQ,CAAA;AAC5E,CAAC;AAED,+EAA+E;AAC/E,wBAAwB;AACxB,+EAA+E;AAE/E,MAAM,cAAc,GAAG,IAAA,UAAE,EACvB,kDAAkD,EAClD,2BAAkB,CAAC,KAAK,EACxB,2BAAkB,CAAC,YAAY,EAC/B,2BAAkB,CAAC,MAAM,EACzB,2BAAkB,CAAC,WAAW,EAC9B,gDAAgD,EAChD,+BAA+B,EAC/B,mCAAmC,EACnC,2BAAkB,CAAC,QAAQ,EAC3B,2BAAkB,CAAC,SAAS,EAC5B,2BAAkB,CAAC,QAAQ,CAC5B,CAAA;AAOD,MAAM,gBAAgB,GAAoC,CAAC,EAAE,MAAM,EAAE,UAAU,EAAE,EAAE,EAAE;IACnF,OAAO,CACL,CAAC,eAAU,CAAC,IAAI,CACd,KAAK,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CACpB,QAAQ,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAC1B,SAAS,CAAC,CAAC,IAAA,UAAE,EACX,cAAc,EACd,cAAc,EACd,gEAAgE,CACjE,CAAC,CACF,KAAK,CAAC,CAAC,EAAE,YAAY,EAAE,GAAG,UAAU,IAAI,EAAE,CAAC,CAE3C;MAAA,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,IAAA,UAAE,EAAC,kCAAkC,EAAE,2BAAkB,CAAC,OAAO,CAAC,CAAC,CACjF;QAAA,CAAC,MAAM,CAAC,IAAI,IAAI,CACd,CAAC,eAAQ,CACP,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAClB,IAAI,CAAC,CAAC,2BAAkB,CAAC,QAAQ,CAAC,CAClC,WAAW,CAAC,CAAC,2BAAkB,CAAC,eAAe,CAAC,CAChD,SAAS,CAAC,CAAC,IAAA,UAAE,EAAC,2BAAkB,CAAC,SAAS,EAAE,qBAAqB,CAAC,CAAC,EACnE,CACH,CACD;QAAA,CAAC,GAAG,CAAC,SAAS,CAAC,gBAAgB,CAC7B;UAAA,CAAC,eAAU,CAAC,QAAQ,CAAC,SAAS,CAAC,gBAAgB,CAC7C;YAAA,CAAC,MAAM,CAAC,KAAK,CACf;UAAA,EAAE,eAAU,CAAC,QAAQ,CACrB;UAAA,CAAC,MAAM,CAAC,WAAW,IAAI,CACrB,CAAC,GAAG,CAAC,SAAS,CAAC,mDAAmD,CAChE;cAAA,CAAC,MAAM,CAAC,WAAW,CACrB;YAAA,EAAE,GAAG,CAAC,CACP,CACH;QAAA,EAAE,GAAG,CACP;MAAA,EAAE,GAAG,CACL;MAAA,CAAC,eAAU,CAAC,aAAa,CAAC,SAAS,CAAC,UAAU,CAC5C;QAAA,CAAC,eAAQ,CACP,IAAI,CAAC,CAAC,oBAAU,CAAC,CACjB,IAAI,CAAC,CAAC,2BAAkB,CAAC,QAAQ,CAAC,CAClC,WAAW,CAAC,CAAC,GAAG,CAAC,CACjB,SAAS,CAAC,kBAAkB,EAEhC;MAAA,EAAE,eAAU,CAAC,aAAa,CAC5B;IAAA,EAAE,eAAU,CAAC,IAAI,CAAC,CACnB,CAAA;AACH,CAAC,CAAA;AAED,+EAA+E;AAC/E,iBAAiB;AACjB,+EAA+E;AAE/E;;;;;;;;;GASG;AACI,MAAM,MAAM,GAA0B,CAAC,EAC5C,OAAO,EACP,KAAK,EACL,YAAY,EACZ,aAAa,EACb,WAAW,GAAG,WAAW,EACzB,OAAO,EACP,KAAK,GAAG,6BAAoB,EAC5B,UAAU,GAAG,4BAAmB,EAChC,IAAI,GAAG,QAAQ,EACf,KAAK,GAAG,OAAO,EACf,UAAU,GAAG,4BAAmB,EAChC,WAAW,GAAG,CAAC,EACf,QAAQ,EACR,QAAQ,EACR,IAAI,EACJ,YAAY,EAAE,oBAAoB,EAClC,UAAU,EACV,SAAS,EACT,gBAAgB,EAChB,YAAY,EAAE,SAAS,GACxB,EAAE,EAAE;IACH,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,GAAG,IAAA,gBAAQ,EAAC,KAAK,CAAC,CAAA;IAE3C,mBAAmB;IACnB,MAAM,eAAe,GAAG,wBAAwB,CAAC,MAAM,EAAE,UAAU,CAAC,CAAA;IACpE,MAAM,aAAa,GAAG,IAAA,eAAO,EAAC,GAAG,EAAE,CAAC,IAAA,kCAAyB,GAAE,EAAE,EAAE,CAAC,CAAA;IAEpE,gBAAgB;IAChB,MAAM,gBAAgB,GAAG,IAAA,eAAO,EAC9B,GAAG,EAAE,CAAC,CAAC,EAAE,GAAG,2BAAkB,EAAE,GAAG,UAAU,EAAE,CAAC,EAChD,CAAC,UAAU,CAAC,CACb,CAAA;IAED,WAAW;IACX,MAAM,gBAAgB,GAAG,CAAC,IAAa,EAAE,EAAE;QACzC,SAAS,CAAC,IAAI,CAAC,CAAA;QACf,oBAAoB,EAAE,CAAC,IAAI,CAAC,CAAA;IAC9B,CAAC,CAAA;IAED,UAAU;IACV,MAAM,YAAY,GAAG,IAAA,wBAAe,EAAC,gBAAgB,CAAC,CAAA;IACtD,MAAM,cAAc,GAAG,IAAA,0BAAiB,EAAC,gBAAgB,CAAC,CAAA;IAC1D,MAAM,UAAU,GAAG,IAAA,sBAAa,EAAC,gBAAgB,CAAC,YAAY,CAAC,CAAA;IAE/D,sBAAsB;IACtB,MAAM,kBAAkB,GAAG,UAAU,KAAK,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,UAAU,CAAA;IAE5E,qDAAqD;IACrD,MAAM,WAAW,GAAG,IAAA,eAAO,EAAC,GAAG,EAAE;QAC/B,MAAM,IAAI,GAAmB,EAAE,CAAA;QAC/B,KAAK,MAAM,IAAI,IAAI,OAAO,EAAE,CAAC;YAC3B,IAAI,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC;gBACxB,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,CAAA;YAC5B,CAAC;iBAAM,IAAI,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC;gBAC1B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;YACjB,CAAC;QACH,CAAC;QACD,OAAO,IAAI,CAAA;IACb,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAA;IAEb,OAAO,CACL,EACE;MAAA,CAAC,oDAAoD,CACrD;MAAA,CAAC,6BAAoB,IAAI,MAAM,IAAI,eAAe,CAAC,YAAY,IAAI,CACjE,CAAC,KAAK,CAAC,CAAC,eAAe,CAAC,YAAY,CAAC,EAAE,KAAK,CAAC,CAC9C,CAED;;MAAA,CAAC,eAAU,CAAC,IAAI,CACd,KAAK,CAAC,CAAC,KAAK,CAAC,CACb,YAAY,CAAC,CAAC,YAAY,CAAC,CAC3B,aAAa,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,aAAa,CAAC,GAAa,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CACjF,YAAY,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAC9E,QAAQ,CAAC,CAAC,QAAQ,CAAC,CACnB,QAAQ,CAAC,CAAC,QAAQ,CAAC,CACnB,IAAI,CAAC,CAAC,IAAI,CAAC,CAEX;QAAA,CAAC,OAAO,CAAC,CAAC,CAAC,CACT,CAAC,eAAU,CAAC,OAAO,CACjB,UAAU,CAAC,CAAC,SAAS,CAAC,CACtB,SAAS,CAAC,CAAC,IAAA,UAAE,EAAC,iCAAiC,EAAE,gBAAgB,CAAC,CAAC,CAEnE;YAAA,CAAC,OAAO,CACV;UAAA,EAAE,eAAU,CAAC,OAAO,CAAC,CACtB,CAAC,CAAC,CAAC,CACF,CAAC,eAAU,CAAC,OAAO,CACjB,UAAU,CAAC,CAAC,SAAS,CAAC,CACtB,SAAS,CAAC,CAAC,IAAA,UAAE,EACX,gDAAgD,EAChD,sBAAsB,EACtB,kCAAkC,EAClC,sBAAsB,EACtB,mDAAmD,EACnD,sEAAsE,EACtE,iDAAiD,EACjD,+BAA+B,EAC/B,gBAAgB,CACjB,CAAC,CACF,KAAK,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAEjB;YAAA,CAAC,eAAU,CAAC,KAAK,CACf;cAAA,CAAC,CAAC,aAA4B,EAAE,EAAE;gBAChC,IAAI,CAAC,aAAa,EAAE,CAAC;oBACnB,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC,CAAA;gBAC7D,CAAC;gBACD,MAAM,QAAQ,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,KAAK,aAAa,CAAC,CAAA;gBACjE,OAAO,QAAQ,EAAE,KAAK,IAAI,aAAa,CAAA;YACzC,CAAC,CACH;YAAA,EAAE,eAAU,CAAC,KAAK,CAClB;YAAA,CAAC,eAAU,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CACnC;cAAA,CAAC,eAAQ,CACP,IAAI,CAAC,CAAC,yBAAe,CAAC,CACtB,IAAI,CAAC,CAAC,EAAE,CAAC,CACT,WAAW,CAAC,CAAC,CAAC,CAAC,CACf,SAAS,CAAC,8EAA8E,EAE5F;YAAA,EAAE,eAAU,CAAC,IAAI,CACnB;UAAA,EAAE,eAAU,CAAC,OAAO,CAAC,CACtB,CAED;;QAAA,CAAC,eAAU,CAAC,MAAM,CAChB;UAAA,CAAC,eAAU,CAAC,UAAU,CACpB,IAAI,CAAC,CAAC,IAAkB,CAAC,CACzB,KAAK,CAAC,CAAC,KAAoB,CAAC,CAC5B,UAAU,CAAC,CAAC,UAAU,CAAC,CACvB,WAAW,CAAC,CAAC,WAAW,CAAC,CACzB,gBAAgB,CAAC,CAAC,CAAC,CAAC,CACpB,KAAK,CAAC,CAAC,EAAE,MAAM,EAAE,gBAAO,CAAC,iBAAiB,EAAE,CAAC,CAE7C;YAAA,CAAC,eAAU,CAAC,KAAK,CACf,iBAAiB,CAAC,EAAE,CACpB,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,CACvC,SAAS,CAAC,CAAC,IAAI,CAAC,CAChB,SAAS,CAAC,CAAC,IAAA,UAAE,EACX,qBAAqB,EACrB,6BAAoB,CAAC,CAAC,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC,CAAC,aAAa,EAClE,0DAA0D,EAC1D,YAAY,EACZ,SAAS,CACV,CAAC,CACF,KAAK,CAAC,CAAC;YACL,KAAK,EAAE,kBAAkB;YACzB,QAAQ,EAAE,UAAU,KAAK,SAAS,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,SAAS;YACtE,sBAAsB,EAAE,GAAG,UAAU,IAAI;YACzC,GAAG,cAAc;SACK,CAAC,CAEzB;cAAA,CAAC,GAAG,CAAC,SAAS,CAAC,qBAAqB,CAClC;gBAAA,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE;YAC3B,YAAY;YACZ,IAAI,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;gBACtB,OAAO,CACL,CAAC,GAAG,CACF,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CACb,IAAI,CAAC,WAAW,CAChB,SAAS,CAAC,CAAC,IAAA,4BAAmB,GAAE,CAAC,EACjC,CACH,CAAA;YACH,CAAC;YAED,QAAQ;YACR,IAAI,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC;gBACxB,OAAO,CACL,CAAC,eAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,SAAS,KAAK,EAAE,CAAC,CACtC;wBAAA,CAAC,eAAU,CAAC,UAAU,CACpB,SAAS,CAAC,yEAAyE,CAEnF;0BAAA,CAAC,IAAI,CAAC,KAAK,CACb;wBAAA,EAAE,eAAU,CAAC,UAAU,CACvB;wBAAA,CAAC,GAAG,CAAC,SAAS,CAAC,qBAAqB,CAClC;0BAAA,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,CAC5B,CAAC,gBAAgB,CACf,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAClB,MAAM,CAAC,CAAC,MAAM,CAAC,CACf,UAAU,CAAC,CAAC,UAAU,CAAC,EACvB,CACH,CAAC,CACJ;wBAAA,EAAE,GAAG,CACP;sBAAA,EAAE,eAAU,CAAC,KAAK,CAAC,CACpB,CAAA;YACH,CAAC;YAED,iBAAiB;YACjB,IAAI,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC;gBACnB,OAAO,CACL,CAAC,gBAAgB,CACf,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAChB,MAAM,CAAC,CAAC,IAAI,CAAC,CACb,UAAU,CAAC,CAAC,UAAU,CAAC,EACvB,CACH,CAAA;YACH,CAAC;YAED,OAAO,IAAI,CAAA;QACb,CAAC,CAAC,CACJ;cAAA,EAAE,GAAG,CACP;YAAA,EAAE,eAAU,CAAC,KAAK,CACpB;UAAA,EAAE,eAAU,CAAC,UAAU,CACzB;QAAA,EAAE,eAAU,CAAC,MAAM,CACrB;MAAA,EAAE,eAAU,CAAC,IAAI,CACnB;IAAA,GAAG,CACJ,CAAA;AACH,CAAC,CAAA;AA1MY,QAAA,MAAM,UA0MlB;AAED,cAAM,CAAC,WAAW,GAAG,QAAQ,CAAA","sourcesContent":["/**\n * Select - Main Component\n *\n * Dropdown select component styled to match the Menu component.\n * Built on Base UI Select primitive for accessibility.\n *\n * Unlike Menu (action-based), Select is value-based - it maintains\n * a selected value that can be used in forms or state.\n *\n * @module prod/base/select/select\n */\n\n'use client'\n\nimport React, { useMemo, useRef, useState } from 'react'\nimport { Select as BaseSelect } from '@base-ui/react/select'\nimport ArrowDown01Icon from '@hugeicons-pro/core-stroke-rounded/ArrowDown01Icon'\nimport Tick02Icon from '@hugeicons-pro/core-stroke-rounded/Tick02Icon'\n\nimport { cn } from '@/lib/utils'\nimport { HugeIcon } from '@/components/ui/prod/base/icon'\n\nimport './select-transitions.css'\nimport type {\n  SelectProps,\n  SelectOption,\n  SelectItem,\n  SelectSide,\n  SelectAlign,\n} from './types'\nimport {\n  DEFAULT_APPEARANCE,\n  DEFAULT_SELECT_WIDTH,\n  DEFAULT_POPUP_WIDTH,\n  DEFAULT_SIDE_OFFSET,\n  REVEAL_ANIMATION,\n  USE_LEGACY_ANIMATION,\n  Z_INDEX,\n  getPopupClasses,\n  getGradientStyles,\n  getItemRadius,\n  getRevealAnimationClasses,\n  getSeparatorClasses,\n  SELECT_ITEM_STYLES,\n  INTERACTIVE_STATES,\n  EASING_EXPO_OUT,\n} from './config'\n\n// ============================================================================\n// Reveal Animation Hook (Legacy - matches Menu pattern)\n// ============================================================================\n\nfunction useRevealAnimationLegacy(isOpen: boolean, sideOffset: number) {\n  const idRef = useRef(`select-${Math.random().toString(36).substr(2, 9)}`)\n  const uniqueClass = `select-popup-${idRef.current}`\n\n  const animationCss = useMemo(() => {\n    if (!isOpen) return ''\n\n    const { duration, scaleStart, scaleEnd, slideOffsetRatio } = REVEAL_ANIMATION\n    const easing = EASING_EXPO_OUT\n    const slideOffset = Math.round(sideOffset * slideOffsetRatio)\n\n    const keyframe = `select-reveal-${idRef.current}`\n    const opacityKeyframe = `select-opacity-${idRef.current}`\n\n    return `\n      .${uniqueClass}[data-side=\"bottom\"][data-open] {\n        transform-origin: var(--transform-origin) !important;\n        animation: ${keyframe}-bottom ${duration}ms ${easing} both,\n                   ${opacityKeyframe} ${duration}ms ${easing} both !important;\n      }\n      .${uniqueClass}[data-side=\"top\"][data-open] {\n        transform-origin: var(--transform-origin) !important;\n        animation: ${keyframe}-top ${duration}ms ${easing} both,\n                   ${opacityKeyframe} ${duration}ms ${easing} both !important;\n      }\n      @keyframes ${keyframe}-bottom {\n        from { transform: scale(${scaleStart}) translateY(-${slideOffset}px); }\n        to { transform: scale(${scaleEnd}) translateY(0); }\n      }\n      @keyframes ${keyframe}-top {\n        from { transform: scale(${scaleStart}) translateY(${slideOffset}px); }\n        to { transform: scale(${scaleEnd}) translateY(0); }\n      }\n      @keyframes ${opacityKeyframe} {\n        from { opacity: 0; }\n        to { opacity: 1; }\n      }\n    `\n  }, [isOpen, sideOffset, uniqueClass])\n\n  return { uniqueClass, animationCss }\n}\n\n// ============================================================================\n// Helper: Type Guards\n// ============================================================================\n\nfunction isOptionGroup(item: SelectItem): item is { type: 'group'; label: string; options: SelectOption[] } {\n  return 'type' in item && item.type === 'group'\n}\n\nfunction isSeparator(item: SelectItem): item is { type: 'separator'; id: string } {\n  return 'type' in item && item.type === 'separator'\n}\n\nfunction isOption(item: SelectItem): item is SelectOption {\n  // An item is an option if it doesn't have a 'type' property,\n  // OR if it has 'type' but also has a 'value' (shouldn't happen with proper types)\n  if (!('type' in item)) return true\n  // Check if it has a value property (for cases where type might be incorrectly set)\n  return 'value' in item && typeof (item as SelectOption).value === 'string'\n}\n\n// ============================================================================\n// Option Item Component\n// ============================================================================\n\nconst baseItemStyles = cn(\n  'flex cursor-pointer items-center justify-between',\n  INTERACTIVE_STATES.hover,\n  INTERACTIVE_STATES.focusVisible,\n  INTERACTIVE_STATES.active,\n  INTERACTIVE_STATES.highlighted,\n  'corner-squircle transition-colors duration-150',\n  'motion-reduce:transition-none',\n  'relative outline-none select-none',\n  SELECT_ITEM_STYLES.paddingX,\n  SELECT_ITEM_STYLES.minHeight,\n  SELECT_ITEM_STYLES.textSize\n)\n\ninterface SelectOptionItemProps {\n  option: SelectOption\n  itemRadius: number\n}\n\nconst SelectOptionItem: React.FC<SelectOptionItemProps> = ({ option, itemRadius }) => {\n  return (\n    <BaseSelect.Item\n      value={option.value}\n      disabled={option.disabled}\n      className={cn(\n        baseItemStyles,\n        'text-primary',\n        'data-[disabled]:pointer-events-none data-[disabled]:opacity-50'\n      )}\n      style={{ borderRadius: `${itemRadius}px` }}\n    >\n      <div className={cn('flex min-w-0 flex-1 items-center', SELECT_ITEM_STYLES.iconGap)}>\n        {option.icon && (\n          <HugeIcon\n            icon={option.icon}\n            size={SELECT_ITEM_STYLES.iconSize}\n            strokeWidth={SELECT_ITEM_STYLES.iconStrokeWidth}\n            className={cn(SELECT_ITEM_STYLES.iconColor, 'opacity-50 shrink-0')}\n          />\n        )}\n        <div className=\"flex-1 min-w-0\">\n          <BaseSelect.ItemText className=\"truncate block\">\n            {option.label}\n          </BaseSelect.ItemText>\n          {option.description && (\n            <div className=\"text-xs font-normal text-tertiary mt-0.5 truncate\">\n              {option.description}\n            </div>\n          )}\n        </div>\n      </div>\n      <BaseSelect.ItemIndicator className=\"shrink-0\">\n        <HugeIcon\n          icon={Tick02Icon}\n          size={SELECT_ITEM_STYLES.iconSize}\n          strokeWidth={2.5}\n          className=\"text-brand-solid\"\n        />\n      </BaseSelect.ItemIndicator>\n    </BaseSelect.Item>\n  )\n}\n\n// ============================================================================\n// Main Component\n// ============================================================================\n\n/**\n * Select - Dropdown select component\n *\n * Features:\n * - Reveal animation matching Menu component\n * - Same appearance system (shine, shadow, squircle, gradient)\n * - Groups and separators support\n * - Icon support on options\n * - Controlled and uncontrolled modes\n */\nexport const Select: React.FC<SelectProps> = ({\n  options,\n  value,\n  defaultValue,\n  onValueChange,\n  placeholder = 'Select...',\n  trigger,\n  width = DEFAULT_SELECT_WIDTH,\n  popupWidth = DEFAULT_POPUP_WIDTH,\n  side = 'bottom',\n  align = 'start',\n  sideOffset = DEFAULT_SIDE_OFFSET,\n  alignOffset = 0,\n  disabled,\n  required,\n  name,\n  onOpenChange: externalOnOpenChange,\n  appearance,\n  className,\n  triggerClassName,\n  'aria-label': ariaLabel,\n}) => {\n  const [isOpen, setIsOpen] = useState(false)\n\n  // Reveal animation\n  const legacyAnimation = useRevealAnimationLegacy(isOpen, sideOffset)\n  const revealClasses = useMemo(() => getRevealAnimationClasses(), [])\n\n  // Configuration\n  const mergedAppearance = useMemo(\n    () => ({ ...DEFAULT_APPEARANCE, ...appearance }),\n    [appearance]\n  )\n\n  // Handlers\n  const handleOpenChange = (open: boolean) => {\n    setIsOpen(open)\n    externalOnOpenChange?.(open)\n  }\n\n  // Styling\n  const popupClasses = getPopupClasses(mergedAppearance)\n  const gradientStyles = getGradientStyles(mergedAppearance)\n  const itemRadius = getItemRadius(mergedAppearance.borderRadius)\n\n  // Compute popup width\n  const computedPopupWidth = popupWidth === 'trigger' ? undefined : popupWidth\n\n  // Flatten options to find selected label for display\n  const flatOptions = useMemo(() => {\n    const flat: SelectOption[] = []\n    for (const item of options) {\n      if (isOptionGroup(item)) {\n        flat.push(...item.options)\n      } else if (isOption(item)) {\n        flat.push(item)\n      }\n    }\n    return flat\n  }, [options])\n\n  return (\n    <>\n      {/* Inject reveal animation CSS (legacy mode only) */}\n      {USE_LEGACY_ANIMATION && isOpen && legacyAnimation.animationCss && (\n        <style>{legacyAnimation.animationCss}</style>\n      )}\n\n      <BaseSelect.Root\n        value={value}\n        defaultValue={defaultValue}\n        onValueChange={onValueChange ? (val) => onValueChange(val as string) : undefined}\n        onOpenChange={handleOpenChange ? (open) => handleOpenChange(open) : undefined}\n        disabled={disabled}\n        required={required}\n        name={name}\n      >\n        {trigger ? (\n          <BaseSelect.Trigger\n            aria-label={ariaLabel}\n            className={cn('outline-none focus:outline-none', triggerClassName)}\n          >\n            {trigger}\n          </BaseSelect.Trigger>\n        ) : (\n          <BaseSelect.Trigger\n            aria-label={ariaLabel}\n            className={cn(\n              'inline-flex items-center justify-between gap-2',\n              'px-3 py-2 rounded-lg',\n              'bg-primary border border-primary',\n              'text-sm text-primary',\n              'hover:bg-secondary transition-colors duration-150',\n              'focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-500',\n              'disabled:opacity-50 disabled:cursor-not-allowed',\n              'motion-reduce:transition-none',\n              triggerClassName\n            )}\n            style={{ width }}\n          >\n            <BaseSelect.Value>\n              {(selectedValue: string | null) => {\n                if (!selectedValue) {\n                  return <span className=\"text-tertiary\">{placeholder}</span>\n                }\n                const selected = flatOptions.find(o => o.value === selectedValue)\n                return selected?.label || selectedValue\n              }}\n            </BaseSelect.Value>\n            <BaseSelect.Icon className=\"shrink-0\">\n              <HugeIcon\n                icon={ArrowDown01Icon}\n                size={16}\n                strokeWidth={2}\n                className=\"text-tertiary transition-transform duration-150 data-[popup-open]:rotate-180\"\n              />\n            </BaseSelect.Icon>\n          </BaseSelect.Trigger>\n        )}\n\n        <BaseSelect.Portal>\n          <BaseSelect.Positioner\n            side={side as SelectSide}\n            align={align as SelectAlign}\n            sideOffset={sideOffset}\n            alignOffset={alignOffset}\n            collisionPadding={8}\n            style={{ zIndex: Z_INDEX.SELECT_POSITIONER }}\n          >\n            <BaseSelect.Popup\n              data-select-popup=\"\"\n              data-state={isOpen ? 'open' : 'closed'}\n              data-side={side}\n              className={cn(\n                'overflow-hidden p-1',\n                USE_LEGACY_ANIMATION ? legacyAnimation.uniqueClass : revealClasses,\n                'motion-reduce:animate-none motion-reduce:transition-none',\n                popupClasses,\n                className\n              )}\n              style={{\n                width: computedPopupWidth,\n                minWidth: popupWidth === 'trigger' ? 'var(--anchor-width)' : undefined,\n                '--select-item-radius': `${itemRadius}px`,\n                ...gradientStyles,\n              } as React.CSSProperties}\n            >\n              <div className=\"flex flex-col gap-1\">\n                {options.map((item, index) => {\n                  // Separator\n                  if (isSeparator(item)) {\n                    return (\n                      <div\n                        key={item.id}\n                        role=\"separator\"\n                        className={getSeparatorClasses()}\n                      />\n                    )\n                  }\n\n                  // Group\n                  if (isOptionGroup(item)) {\n                    return (\n                      <BaseSelect.Group key={`group-${index}`}>\n                        <BaseSelect.GroupLabel\n                          className=\"text-tertiary px-2 py-1.5 text-xs font-semibold uppercase tracking-wide\"\n                        >\n                          {item.label}\n                        </BaseSelect.GroupLabel>\n                        <div className=\"flex flex-col gap-1\">\n                          {item.options.map((option) => (\n                            <SelectOptionItem\n                              key={option.value}\n                              option={option}\n                              itemRadius={itemRadius}\n                            />\n                          ))}\n                        </div>\n                      </BaseSelect.Group>\n                    )\n                  }\n\n                  // Regular option\n                  if (isOption(item)) {\n                    return (\n                      <SelectOptionItem\n                        key={item.value}\n                        option={item}\n                        itemRadius={itemRadius}\n                      />\n                    )\n                  }\n\n                  return null\n                })}\n              </div>\n            </BaseSelect.Popup>\n          </BaseSelect.Positioner>\n        </BaseSelect.Portal>\n      </BaseSelect.Root>\n    </>\n  )\n}\n\nSelect.displayName = 'Select'\n"]}