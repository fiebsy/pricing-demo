{"version":3,"file":"tooltip.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/prod/base/tooltip/tooltip.tsx"],"names":[],"mappings":"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","sourcesContent":["'use client'\n\nimport type { ReactElement } from 'react'\nimport { isValidElement, cloneElement } from 'react'\nimport { Tooltip as BaseTooltip } from '@base-ui/react/tooltip'\nimport { cn } from '@/lib/utils'\n\nimport type { TooltipProps } from './types'\nimport {\n  popupStyles,\n  paddingStyles,\n  titleStyles,\n  descriptionStyles,\n  arrowStyles,\n  defaults,\n} from './config'\n\n// Import keyframe animations\nimport './tooltip-transitions.css'\n\n/**\n * Merge event handlers from two sources\n * Ensures both the original handler and tooltip handler are called\n */\nfunction mergeEventHandlers<T extends (...args: unknown[]) => void>(\n  original: T | undefined,\n  additional: T | undefined\n): T | undefined {\n  if (!original && !additional) return undefined\n  if (!original) return additional\n  if (!additional) return original\n\n  return ((...args: unknown[]) => {\n    original(...args)\n    additional(...args)\n  }) as T\n}\n\n/**\n * Merge props from tooltip trigger with child props\n * Event handlers are composed so both fire, other props from tooltip take precedence\n */\nfunction mergeProps(\n  childProps: Record<string, unknown>,\n  tooltipProps: Record<string, unknown>\n): Record<string, unknown> {\n  const merged: Record<string, unknown> = { ...childProps }\n\n  for (const key of Object.keys(tooltipProps)) {\n    const childValue = childProps[key]\n    const tooltipValue = tooltipProps[key]\n\n    // Merge event handlers (on* props)\n    if (\n      key.startsWith('on') &&\n      typeof childValue === 'function' &&\n      typeof tooltipValue === 'function'\n    ) {\n      merged[key] = mergeEventHandlers(\n        childValue as (...args: unknown[]) => void,\n        tooltipValue as (...args: unknown[]) => void\n      )\n    } else {\n      // For non-event props, tooltip props take precedence\n      merged[key] = tooltipValue\n    }\n  }\n\n  return merged\n}\n\nexport const Tooltip = ({\n  title,\n  description,\n  arrow = defaults.arrow,\n  delay = defaults.delay,\n  closeDelay = defaults.closeDelay,\n  side = defaults.side,\n  align = defaults.align,\n  sideOffset = defaults.sideOffset,\n  disabled,\n  open,\n  defaultOpen,\n  onOpenChange,\n  children,\n}: TooltipProps) => {\n  return (\n    <BaseTooltip.Provider delay={delay} closeDelay={closeDelay}>\n      <BaseTooltip.Root\n        open={open}\n        defaultOpen={defaultOpen}\n        onOpenChange={onOpenChange}\n        disabled={disabled}\n      >\n        <BaseTooltip.Trigger\n          render={(tooltipProps) => {\n            if (isValidElement(children)) {\n              const childElement = children as ReactElement<Record<string, unknown>>\n              const childProps = childElement.props || {}\n\n              // Merge props so event handlers are composed, not overwritten\n              const mergedProps = mergeProps(childProps, tooltipProps as Record<string, unknown>)\n\n              return cloneElement(childElement, mergedProps)\n            }\n            return <span {...tooltipProps}>{children}</span>\n          }}\n        />\n\n        <BaseTooltip.Portal>\n          <BaseTooltip.Positioner\n            side={side}\n            align={align}\n            sideOffset={sideOffset}\n            className=\"z-[9999]\"\n          >\n            <BaseTooltip.Popup\n              className={cn(\n                popupStyles,\n                description ? paddingStyles.withDescription : paddingStyles.titleOnly\n              )}\n            >\n              <span className={titleStyles}>{title}</span>\n\n              {description && (\n                <span className={descriptionStyles}>{description}</span>\n              )}\n\n              {arrow && (\n                <BaseTooltip.Arrow className={arrowStyles}>\n                  <ArrowSvg />\n                </BaseTooltip.Arrow>\n              )}\n            </BaseTooltip.Popup>\n          </BaseTooltip.Positioner>\n        </BaseTooltip.Portal>\n      </BaseTooltip.Root>\n    </BaseTooltip.Provider>\n  )\n}\n\nTooltip.displayName = 'Tooltip'\n\n/**\n * Custom arrow SVG for squircle-style appearance.\n */\nconst ArrowSvg = () => (\n  <svg viewBox=\"0 0 100 100\" className=\"size-full\">\n    <path d=\"M0,0 L35.858,35.858 Q50,50 64.142,35.858 L100,0 Z\" />\n  </svg>\n)\n"]}