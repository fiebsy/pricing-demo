{"version":3,"file":"button-utility.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/prod/base/button-utility/button-utility.tsx"],"names":[],"mappings":"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","sourcesContent":["'use client'\n\nimport type { Ref } from 'react'\nimport { forwardRef, isValidElement } from 'react'\nimport { Button as BaseButton } from '@base-ui/react/button'\nimport { cn } from '@/lib/utils'\nimport { isReactComponent } from '@/lib/is-react-component'\nimport { Tooltip } from '@/components/ui/prod/base/tooltip'\nimport { HugeIcon } from '@/components/ui/prod/base/icon'\nimport type { TooltipSide } from '@/components/ui/prod/base/tooltip'\nimport type { Placement } from 'react-aria'\n\nimport type { ButtonUtilityProps, ButtonUtilitySize } from './types'\nimport {\n  baseStyles,\n  colorStyles,\n  activeStyles,\n  activeHoverOverrideStyles,\n  shapeStyles,\n  iconSizeStyles,\n  iconStyles,\n  tooltipOffsets,\n} from './config'\n\n/**\n * Check if a value is a HugeIcon array format\n * HugeIcons export arrays like: [[\"circle\", {...}], [\"path\", {...}]]\n */\nfunction isHugeIconArray(value: unknown): boolean {\n  return (\n    Array.isArray(value) &&\n    value.length > 0 &&\n    Array.isArray(value[0]) &&\n    typeof value[0][0] === 'string'\n  )\n}\n\n/**\n * Map button utility size to HugeIcon size in pixels\n * xs: 16px (size-4), sm: 20px (size-5)\n */\nconst iconSizeMap: Record<ButtonUtilitySize, number> = {\n  xs: 16,\n  sm: 20,\n}\n\n/**\n * Maps react-aria Placement to Base UI TooltipSide\n * Base UI uses 'side' + 'align' instead of combined placement\n */\nfunction mapPlacementToSide(placement: Placement): TooltipSide {\n  // Extract the primary side from placement\n  // e.g., 'top start' -> 'top', 'bottom' -> 'bottom'\n  const side = placement.split(' ')[0]\n  switch (side) {\n    case 'top':\n    case 'bottom':\n    case 'left':\n    case 'right':\n      return side\n    case 'start':\n      return 'left'\n    case 'end':\n      return 'right'\n    default:\n      return 'top'\n  }\n}\n\n/**\n * ButtonUtility - Icon-only utility button\n *\n * A compact button designed for icon-only actions like settings, close, etc.\n * Supports both button and anchor elements via the `href` prop.\n *\n * @example\n * ```tsx\n * <ButtonUtility icon={Settings01Icon} tooltip=\"Settings\" />\n * <ButtonUtility icon={Close01Icon} color=\"tertiary\" />\n * <ButtonUtility icon={LinkIcon} href=\"/settings\" tooltip=\"Go to settings\" />\n * ```\n */\nexport const ButtonUtility = forwardRef<HTMLButtonElement | HTMLAnchorElement, ButtonUtilityProps>(\n  (\n    {\n      tooltip,\n      className,\n      isDisabled,\n      isActive,\n      disableHoverWhenActive = true,\n      icon: Icon,\n      size = 'sm',\n      color = 'secondary',\n      shape = 'square',\n      tooltipPlacement = 'top',\n      ...otherProps\n    },\n    ref\n  ) => {\n    const href = 'href' in otherProps ? otherProps.href : undefined\n    const isLink = Boolean(href)\n\n    // Whether to disable hover effects when active\n    const shouldDisableHover = isActive && disableHoverWhenActive\n\n    const buttonClassName = cn(\n      // Base styles\n      baseStyles,\n\n      // Shape\n      shapeStyles[shape],\n\n      // Color (only when not active)\n      !isActive && colorStyles[color],\n\n      // Active state styles\n      isActive && activeStyles[color],\n\n      // Hover overrides (when active and disableHoverWhenActive is true)\n      shouldDisableHover && activeHoverOverrideStyles[color],\n\n      // Icon styles\n      iconStyles,\n      iconSizeStyles[size],\n\n      className\n    )\n\n    // Render the icon\n    const iconContent = (() => {\n      // HugeIcon array format - needs HugeIcon wrapper\n      if (isHugeIconArray(Icon)) {\n        return (\n          <HugeIcon\n            icon={Icon}\n            size={iconSizeMap[size]}\n            strokeWidth={1.5}\n            data-icon\n          />\n        )\n      }\n      // React component (function/class)\n      if (isReactComponent(Icon)) {\n        return <Icon data-icon />\n      }\n      // Already a valid React element\n      if (isValidElement(Icon)) {\n        return Icon\n      }\n      return null\n    })()\n\n    // For links, use a native anchor element\n    if (isLink) {\n      const { href: linkHref, ...linkProps } = otherProps as { href?: string }\n\n      const content = (\n        <a\n          ref={ref as Ref<HTMLAnchorElement>}\n          href={isDisabled ? undefined : linkHref}\n          aria-label={tooltip}\n          data-active={isActive ? true : undefined}\n          data-disabled={isDisabled ? true : undefined}\n          className={buttonClassName}\n          {...linkProps}\n        >\n          {/* Background layer with shine - fades in on hover, always visible when active */}\n          <div\n            className={cn(\n              'absolute inset-0 -z-10 rounded-[inherit] pointer-events-none transition-opacity duration-150',\n              'bg-secondary shine-1',\n              isActive ? 'opacity-100' : 'opacity-0 group-hover:opacity-100',\n              // Lock hover when active and disableHoverWhenActive is true\n              shouldDisableHover && 'group-hover:opacity-100'\n            )}\n          />\n          {iconContent}\n        </a>\n      )\n\n      if (tooltip) {\n        return (\n          <Tooltip\n            title={tooltip}\n            side={mapPlacementToSide(tooltipPlacement)}\n            disabled={isDisabled}\n            sideOffset={tooltipOffsets[size]}\n          >\n            {content}\n          </Tooltip>\n        )\n      }\n\n      return content\n    }\n\n    // For buttons, use Base UI Button\n    const { type = 'button', ...buttonProps } = otherProps as { type?: 'button' | 'submit' | 'reset' }\n\n    const content = (\n      <BaseButton\n        ref={ref as Ref<HTMLButtonElement>}\n        type={type}\n        disabled={isDisabled}\n        aria-label={tooltip}\n        data-active={isActive ? true : undefined}\n        className={buttonClassName}\n        {...buttonProps}\n      >\n        {/* Background layer with shine - fades in on hover, always visible when active */}\n        <div\n          className={cn(\n            'absolute inset-0 -z-10 rounded-[inherit] pointer-events-none transition-opacity duration-150',\n            'bg-secondary shine-1',\n            isActive ? 'opacity-100' : 'opacity-0 group-hover:opacity-100',\n            // Lock hover when active and disableHoverWhenActive is true\n            shouldDisableHover && 'group-hover:opacity-100'\n          )}\n        />\n        {iconContent}\n      </BaseButton>\n    )\n\n    if (tooltip) {\n      return (\n        <Tooltip\n          title={tooltip}\n          side={mapPlacementToSide(tooltipPlacement)}\n          disabled={isDisabled}\n          sideOffset={tooltipOffsets[size]}\n        >\n          {content}\n        </Tooltip>\n      )\n    }\n\n    return content\n  }\n)\n\nButtonUtility.displayName = 'ButtonUtility'\n"]}