{"version":3,"file":"section-renderer.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/prod/base/control-panel/components/section-renderer.tsx"],"names":[],"mappings":"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","sourcesContent":["// =============================================================================\n// Section Renderer\n// =============================================================================\n// Renders active section content with collapsible groups.\n// Uses CSS grid animation for smooth height transitions.\n// =============================================================================\n\n'use client'\n\nimport { useState, useId } from 'react'\nimport { cx } from '@/components/utils/cx'\nimport { ControlGrid, ControlRenderer } from './controls'\nimport type { ControlGroup, Section } from '../types'\n\n// -----------------------------------------------------------------------------\n// Animated Plus/Minus Icon\n// -----------------------------------------------------------------------------\n\ninterface AnimatedPlusMinusProps {\n  isOpen: boolean\n  size?: number\n}\n\nfunction AnimatedPlusMinus({ isOpen, size = 12 }: AnimatedPlusMinusProps) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 12 12\"\n      fill=\"none\"\n      className={cx(\n        'text-quaternary transition-transform duration-200 ease-out',\n        'motion-reduce:transition-none',\n        isOpen && 'rotate-180'\n      )}\n    >\n      {/* Horizontal line (always visible) */}\n      <line\n        x1=\"2\"\n        y1=\"6\"\n        x2=\"10\"\n        y2=\"6\"\n        stroke=\"currentColor\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n      />\n      {/* Vertical line (animates rotation) */}\n      <line\n        x1=\"6\"\n        y1=\"2\"\n        x2=\"6\"\n        y2=\"10\"\n        stroke=\"currentColor\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        className={cx(\n          'origin-center transition-transform duration-150 ease-out',\n          'motion-reduce:transition-none'\n        )}\n        style={{ transform: isOpen ? 'rotate(-90deg)' : 'rotate(0deg)' }}\n      />\n    </svg>\n  )\n}\n\n// -----------------------------------------------------------------------------\n// Collapsible Group with Smooth Animation\n// -----------------------------------------------------------------------------\n\ninterface CollapsibleGroupProps {\n  title?: string\n  description?: string\n  defaultOpen?: boolean\n  children: React.ReactNode\n}\n\nfunction CollapsibleGroup({ title, description, defaultOpen = true, children }: CollapsibleGroupProps) {\n  const [isOpen, setIsOpen] = useState(defaultOpen)\n  const contentId = useId()\n\n  // If no title, render children directly without collapse wrapper\n  if (!title) {\n    return <div className=\"space-y-4\">{children}</div>\n  }\n\n  return (\n    <div>\n      {/* Title header with secondary background and bottom border */}\n      <div className=\"-mx-3 -mt-3 border-b border-primary bg-secondary px-3 py-2\">\n        <button\n          type=\"button\"\n          onClick={() => setIsOpen(!isOpen)}\n          className=\"flex w-full items-center justify-between text-left\"\n          aria-expanded={isOpen}\n          aria-controls={contentId}\n        >\n          <div>\n            <h5 className=\"text-tertiary text-[10px] font-medium uppercase tracking-wider\">\n              {title}\n            </h5>\n            {description && (\n              <p className=\"text-tertiary mt-0.5 text-[10px]\">{description}</p>\n            )}\n          </div>\n          <AnimatedPlusMinus isOpen={isOpen} />\n        </button>\n      </div>\n\n      {/* Animated content wrapper using CSS grid */}\n      <div\n        id={contentId}\n        className={cx(\n          'grid transition-[grid-template-rows] duration-200 ease-out',\n          'motion-reduce:transition-none',\n          isOpen ? 'grid-rows-[1fr]' : 'grid-rows-[0fr]'\n        )}\n      >\n        <div className=\"overflow-hidden\">\n          <div className=\"space-y-4 pt-3\">{children}</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// -----------------------------------------------------------------------------\n// Control Group Renderer\n// -----------------------------------------------------------------------------\n\ninterface ControlGroupRendererProps {\n  group: ControlGroup\n  sectionId: string\n  onChange: (controlId: string, value: unknown) => void\n}\n\nfunction ControlGroupRenderer({ group, sectionId, onChange }: ControlGroupRendererProps) {\n  const { title, description, controls, columns = 1, defaultCollapsed = false } = group\n\n  return (\n    <CollapsibleGroup\n      title={title}\n      description={description}\n      defaultOpen={!defaultCollapsed}\n    >\n      <ControlGrid columns={columns}>\n        {controls.map((control) => (\n          <ControlRenderer\n            key={control.id}\n            control={control}\n            sectionId={sectionId}\n            onChange={onChange}\n          />\n        ))}\n      </ControlGrid>\n    </CollapsibleGroup>\n  )\n}\n\n// -----------------------------------------------------------------------------\n// Active Section Content - Renders a single section's groups\n// -----------------------------------------------------------------------------\n\ninterface ActiveSectionContentProps {\n  section: Section\n  onChange: (controlId: string, value: unknown) => void\n}\n\nexport function ActiveSectionContent({ section, onChange }: ActiveSectionContentProps) {\n  const { id, title } = section\n  // Support both 'groups' and legacy 'subsections' naming\n  const groups = section.groups || section.subsections || []\n\n  return (\n    <div className=\"space-y-2\">\n      {/* Section Header */}\n      <h4 className=\"text-tertiary px-1 text-[10px] font-medium uppercase tracking-wider\">{title}</h4>\n\n      {/* Control Groups - Each group is its own card */}\n      <div className=\"space-y-2\">\n        {groups.map((group, index) => (\n          <div\n            key={`${id}-group-${index}`}\n            className=\"bg-primary overflow-hidden rounded-lg border border-primary p-3 shadow-sm\"\n          >\n            <ControlGroupRenderer\n              group={group}\n              sectionId={id}\n              onChange={onChange}\n            />\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n\n// -----------------------------------------------------------------------------\n// Section Renderer - Renders all sections\n// -----------------------------------------------------------------------------\n\ninterface SectionRendererProps {\n  sections: Section[]\n  onChange: (controlId: string, value: unknown) => void\n}\n\nexport function SectionRenderer({ sections, onChange }: SectionRendererProps) {\n  return (\n    <div className=\"space-y-2\">\n      {sections.map((section) => (\n        <ActiveSectionContent\n          key={section.id}\n          section={section}\n          onChange={onChange}\n        />\n      ))}\n    </div>\n  )\n}\n"]}