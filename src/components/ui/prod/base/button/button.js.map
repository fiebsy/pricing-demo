{"version":3,"file":"button.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/prod/base/button/button.tsx"],"names":[],"mappings":"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","sourcesContent":["'use client'\n\nimport { forwardRef, isValidElement, createElement } from 'react'\nimport type { FC, ReactNode } from 'react'\nimport { Button as BaseButton } from '@base-ui/react/button'\nimport { cn } from '@/lib/utils'\n\nimport { HugeIcon } from '@/components/ui/prod/base/icon'\nimport type { ButtonProps, IconProp } from './types'\nimport {\n  commonStyles,\n  iconOnlySizeStyles,\n  iconStyles,\n  loadingStyles,\n  roundnessStyles,\n  sizeStyles,\n  variantStyles,\n} from './config'\n\n// ============================================================================\n// UTILITIES\n// ============================================================================\n\n/**\n * Check if a value is a HugeIcon array format\n * HugeIcons export arrays like: [[\"circle\", {...}], [\"path\", {...}]]\n */\nfunction isHugeIconArray(value: unknown): boolean {\n  return (\n    Array.isArray(value) &&\n    value.length > 0 &&\n    Array.isArray(value[0]) &&\n    typeof value[0][0] === 'string'\n  )\n}\n\n/**\n * Check if a value is a React component function\n */\nfunction isReactComponent(value: unknown): value is FC<{ className?: string }> {\n  return typeof value === 'function'\n}\n\n/**\n * Render an icon prop consistently\n */\nfunction renderIcon(icon: IconProp | undefined, position: 'leading' | 'trailing'): ReactNode {\n  if (!icon) return null\n\n  // Already a React element\n  if (isValidElement(icon)) {\n    return icon\n  }\n\n  // HugeIcon array - needs HugeIcon wrapper\n  if (isHugeIconArray(icon)) {\n    return (\n      <HugeIcon\n        icon={icon}\n        size={20}\n        strokeWidth={1.5}\n        data-icon={position}\n        className={iconStyles}\n      />\n    )\n  }\n\n  // React component function\n  if (isReactComponent(icon)) {\n    return createElement(icon, {\n      'data-icon': position,\n      className: iconStyles,\n    } as Record<string, unknown>)\n  }\n\n  return null\n}\n\n// ============================================================================\n// LOADING SPINNER\n// ============================================================================\n\nfunction LoadingSpinner({ className }: { className?: string }) {\n  return (\n    <svg\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      data-icon=\"loading\"\n      className={cn(loadingStyles.spinner, className)}\n      aria-hidden=\"true\"\n    >\n      {/* Background circle */}\n      <circle\n        cx=\"10\"\n        cy=\"10\"\n        r=\"8\"\n        stroke=\"currentColor\"\n        strokeWidth=\"2\"\n        className=\"opacity-30\"\n      />\n      {/* Spinning arc */}\n      <circle\n        cx=\"10\"\n        cy=\"10\"\n        r=\"8\"\n        stroke=\"currentColor\"\n        strokeWidth=\"2\"\n        strokeDasharray=\"12.5 50\"\n        strokeLinecap=\"round\"\n        className=\"origin-center animate-spin\"\n      />\n    </svg>\n  )\n}\n\n// ============================================================================\n// BUTTON COMPONENT\n// ============================================================================\n\n/**\n * Button component built on Base UI primitives.\n *\n * @example\n * ```tsx\n * // Primary button\n * <Button variant=\"primary\">Save Changes</Button>\n *\n * // With icons\n * <Button iconLeading={PlusIcon}>Add Item</Button>\n *\n * // Loading state\n * <Button isLoading>Saving...</Button>\n *\n * // As a link\n * <Button href=\"/settings\" asChild>Settings</Button>\n * ```\n */\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  (\n    {\n      variant = 'primary',\n      size = 'md',\n      roundness = 'default',\n      iconLeading,\n      iconTrailing,\n      isLoading = false,\n      showTextWhileLoading = false,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const isIconOnly = (iconLeading || iconTrailing) && !children\n    const isLinkVariant = variant === 'link-gray' || variant === 'link-color' || variant === 'link-destructive'\n\n    // Extract disabled from props (only exists on button element, not anchor)\n    const disabled = 'disabled' in props ? props.disabled : false\n    const isDisabled = disabled || isLoading\n\n    // Determine if we should render as a link\n    const href = 'href' in props ? props.href : undefined\n    const asChild = 'asChild' in props ? props.asChild : false\n\n    // For link buttons, we'll render an anchor\n    if (href && asChild) {\n      const { href: _, asChild: __, ...anchorProps } = props as { href: string; asChild: boolean }\n      return (\n        <a\n          ref={ref as React.Ref<HTMLAnchorElement>}\n          href={isDisabled ? undefined : href}\n          aria-disabled={isDisabled}\n          data-disabled={isDisabled || undefined}\n          className={cn(\n            commonStyles,\n            sizeStyles[size],\n            roundnessStyles[roundness],\n            isIconOnly && iconOnlySizeStyles[size],\n            variantStyles[variant],\n            isLoading && 'pointer-events-none',\n            className\n          )}\n          {...anchorProps}\n        >\n          {renderIcon(iconLeading, 'leading')}\n          {children && (\n            <span data-text className={cn(!isLinkVariant && 'px-0.5')}>\n              {children}\n            </span>\n          )}\n          {renderIcon(iconTrailing, 'trailing')}\n        </a>\n      )\n    }\n\n    return (\n      <BaseButton\n        ref={ref}\n        disabled={isDisabled}\n        className={cn(\n          commonStyles,\n          sizeStyles[size],\n          roundnessStyles[roundness],\n          isIconOnly && iconOnlySizeStyles[size],\n          variantStyles[variant],\n          isLoading && 'relative',\n          className\n        )}\n        {...(props as Record<string, unknown>)}\n      >\n        {/* Loading overlay */}\n        {isLoading && !showTextWhileLoading && (\n          <span className={loadingStyles.overlay}>\n            <LoadingSpinner />\n          </span>\n        )}\n\n        {/* Leading icon */}\n        <span className={cn('transition-inherit-all', isLoading && !showTextWhileLoading && 'invisible')}>\n          {renderIcon(iconLeading, 'leading')}\n        </span>\n\n        {/* Inline loading spinner (when showing text) */}\n        {isLoading && showTextWhileLoading && <LoadingSpinner />}\n\n        {/* Text content */}\n        {children && (\n          <span\n            data-text\n            className={cn(\n              !isLinkVariant && 'px-0.5',\n              isLoading && !showTextWhileLoading && 'invisible'\n            )}\n          >\n            {children}\n          </span>\n        )}\n\n        {/* Trailing icon */}\n        <span className={cn('transition-inherit-all', isLoading && !showTextWhileLoading && 'invisible')}>\n          {renderIcon(iconTrailing, 'trailing')}\n        </span>\n      </BaseButton>\n    )\n  }\n)\n\nButton.displayName = 'Button'\n"]}