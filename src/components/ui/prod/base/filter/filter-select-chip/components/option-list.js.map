{"version":3,"file":"option-list.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/prod/base/filter/filter-select-chip/components/option-list.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * OptionList - Selectable Options with Checkmarks\n *\n * Displays filter options with checkmarks on selected items.\n * Provides keyboard navigation via imperative handle.\n *\n * @module prod/base/filter/filter-select-chip/components/option-list\n */\n\n'use client'\n\nimport * as React from 'react'\nimport { useState, useCallback, useMemo, useEffect, useRef, useImperativeHandle } from 'react'\nimport { cn } from '@/lib/utils'\nimport { HugeIcon } from '@/components/ui/prod/base/icon'\nimport Tick02Icon from '@hugeicons-pro/core-stroke-rounded/Tick02Icon'\nimport {\n  MENU_ITEM_STYLES,\n  INTERACTIVE_STATES,\n} from '@/components/ui/prod/base/menu/config'\nimport type { FilterOption, OptionListProps, OptionListRef } from '../types'\n\n// ============================================================================\n// TEXT SIZE CLASSES\n// ============================================================================\n\nconst TEXT_SIZE_CLASSES: Record<'xs' | 'sm' | 'md', string> = {\n  xs: 'text-xs',\n  sm: 'text-sm',\n  md: 'text-base',\n}\n\n// ============================================================================\n// COMPONENT\n// ============================================================================\n\nexport const OptionList = React.forwardRef<OptionListRef, OptionListProps>(\n  (\n    {\n      options,\n      selectedId,\n      onSelect,\n      itemHeight = 32,\n      itemTextSize = 'sm',\n      itemGap = 2,\n      maxHeight = 260,\n      itemSquircle = true,\n    },\n    ref\n  ) => {\n    // Find initial highlight index based on selected item\n    const initialIndex = useMemo(() => {\n      const idx = options.findIndex((o) => o.id === selectedId)\n      return idx >= 0 ? idx : 0\n    }, [options, selectedId])\n\n    const [highlightIndex, setHighlightIndex] = useState(initialIndex)\n    const listRef = useRef<HTMLDivElement>(null)\n\n    // Get only non-disabled options for keyboard navigation\n    const navigableOptions = useMemo(\n      () => options.filter((o) => !o.disabled),\n      [options]\n    )\n\n    // Scroll highlighted item into view\n    useEffect(() => {\n      if (!listRef.current) return\n      const highlighted = listRef.current.querySelector('[data-highlighted=\"true\"]')\n      if (highlighted) {\n        highlighted.scrollIntoView({ block: 'nearest' })\n      }\n    }, [highlightIndex])\n\n    // Keyboard navigation handlers\n    const highlightNext = useCallback(() => {\n      setHighlightIndex((prev) => Math.min(prev + 1, navigableOptions.length - 1))\n    }, [navigableOptions.length])\n\n    const highlightPrev = useCallback(() => {\n      setHighlightIndex((prev) => Math.max(prev - 1, 0))\n    }, [])\n\n    const selectHighlighted = useCallback(() => {\n      const option = navigableOptions[highlightIndex]\n      if (option && !option.disabled) {\n        onSelect(option.id)\n      }\n    }, [navigableOptions, highlightIndex, onSelect])\n\n    const resetHighlight = useCallback(() => {\n      const idx = navigableOptions.findIndex((o) => o.id === selectedId)\n      setHighlightIndex(idx >= 0 ? idx : 0)\n    }, [navigableOptions, selectedId])\n\n    // Expose methods via ref\n    useImperativeHandle(ref, () => ({\n      highlightNext,\n      highlightPrev,\n      selectHighlighted,\n      resetHighlight,\n    }))\n\n    return (\n      <div\n        ref={listRef}\n        role=\"listbox\"\n        className=\"overflow-y-auto flex flex-col\"\n        style={{ maxHeight, gap: itemGap }}\n      >\n        {options.map((option) => {\n          const isSelected = option.id === selectedId\n          const navigableIndex = navigableOptions.findIndex((o) => o.id === option.id)\n          const isHighlighted = navigableIndex === highlightIndex\n\n          return (\n            <button\n              key={option.id}\n              type=\"button\"\n              role=\"option\"\n              aria-selected={isSelected}\n              aria-disabled={option.disabled}\n              data-highlighted={isHighlighted}\n              onClick={() => {\n                if (!option.disabled) {\n                  onSelect(option.id)\n                }\n              }}\n              className={cn(\n                'w-full flex items-center justify-between',\n                MENU_ITEM_STYLES.paddingX,\n                'transition-colors duration-150',\n                'outline-none text-left',\n                itemSquircle && 'corner-squircle',\n                // Highlight state\n                isHighlighted && 'bg-quaternary',\n                // Interactive states\n                !isHighlighted && INTERACTIVE_STATES.hover,\n                // Disabled state\n                option.disabled && 'opacity-50 pointer-events-none'\n              )}\n              style={{\n                height: itemHeight,\n                borderRadius: 'var(--menu-item-radius, 12px)',\n              }}\n            >\n              <div className=\"flex items-center gap-2.5 min-w-0\">\n                {/* Option Icon (if provided) */}\n                {option.icon != null ? (\n                  <HugeIcon\n                    icon={option.icon}\n                    size={MENU_ITEM_STYLES.iconSize}\n                    strokeWidth={MENU_ITEM_STYLES.iconStrokeWidth}\n                    className={cn(\n                      MENU_ITEM_STYLES.iconColor,\n                      MENU_ITEM_STYLES.iconOpacity,\n                      'shrink-0'\n                    )}\n                  />\n                ) : null}\n\n                {/* Label */}\n                <span\n                  className={cn(\n                    TEXT_SIZE_CLASSES[itemTextSize],\n                    MENU_ITEM_STYLES.textWeight,\n                    'text-primary truncate'\n                  )}\n                >\n                  {option.label}\n                </span>\n              </div>\n\n              {/* Checkmark for selected item or disabled (selected elsewhere) */}\n              {(isSelected || option.disabled) && (\n                <HugeIcon\n                  icon={Tick02Icon}\n                  size={16}\n                  strokeWidth={2}\n                  className={cn(\n                    'shrink-0',\n                    isSelected ? 'text-brand-primary' : 'text-tertiary'\n                  )}\n                />\n              )}\n            </button>\n          )\n        })}\n      </div>\n    )\n  }\n)\n\nOptionList.displayName = 'OptionList'\n"]}