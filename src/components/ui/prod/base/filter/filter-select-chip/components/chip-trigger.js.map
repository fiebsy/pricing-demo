{"version":3,"file":"chip-trigger.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/prod/base/filter/filter-select-chip/components/chip-trigger.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * ChipTrigger - Chip Display for FilterSelectChip\n *\n * Renders the filter chip that serves as the trigger for the expanded menu.\n * Retains the styling and entry animation of the production FilterChip.\n *\n * @module prod/base/filter/filter-select-chip/components/chip-trigger\n */\n\n'use client'\n\nimport * as React from 'react'\nimport { useRef, useState, useLayoutEffect, useEffect, useMemo } from 'react'\nimport { cn } from '@/lib/utils'\nimport { HugeIcon } from '@/components/ui/prod/base/icon'\nimport CancelCircleSolidIcon from '@hugeicons-pro/core-solid-rounded/CancelCircleIcon'\n\nimport type { ChipTriggerProps, ChipRounded } from '../types'\nimport { CHIP_SIZE_CONFIGS, CHIP_ROUNDED_CLASSES } from '../config'\n\n/** Gap between value and close button (matches filter-chip) */\nconst VALUE_CLOSE_GAP = 10\n\n// ============================================================================\n// COMPONENT\n// ============================================================================\n\nexport const ChipTrigger: React.FC<ChipTriggerProps> = ({\n  value,\n  icon,\n  label,\n  expandedLabel,\n  isExpanded,\n  onClick,\n  onRemove,\n  hideCloseButton = false,\n  chipSize,\n  chipRounded,\n  iconSize,\n  iconOpacity,\n  iconValueGap,\n  paddingLeft,\n  paddingRight,\n  chipDuration,\n  chipExpandAnimation = true,\n}) => {\n  const measureRef = useRef<HTMLDivElement>(null)\n  const expandedMeasureRef = useRef<HTMLDivElement>(null)\n  const iconLabelRef = useRef<HTMLSpanElement>(null)\n\n  const sizeConfig = CHIP_SIZE_CONFIGS[chipSize]\n  const roundedClass = CHIP_ROUNDED_CLASSES[chipRounded]\n\n  const hasIcon = !!icon\n  const hasExpandedLabel = hasIcon && !!expandedLabel\n  // Show close icon unless explicitly hidden\n  const showCloseIcon = !hideCloseButton\n\n  // ============================================================================\n  // Measurement\n  // ============================================================================\n\n  const [collapsedWidth, setCollapsedWidth] = useState(0)\n  const [expandedWidth, setExpandedWidth] = useState(0)\n  const [expandedWithLabelWidth, setExpandedWithLabelWidth] = useState(0)\n\n  useLayoutEffect(() => {\n    const measure = () => {\n      if (measureRef.current) {\n        setExpandedWidth(measureRef.current.offsetWidth)\n      }\n      if (expandedMeasureRef.current) {\n        setExpandedWithLabelWidth(expandedMeasureRef.current.offsetWidth)\n      }\n      if (iconLabelRef.current) {\n        setCollapsedWidth(iconLabelRef.current.offsetWidth)\n      }\n    }\n\n    measure()\n\n    const observer = new ResizeObserver(measure)\n    if (measureRef.current) observer.observe(measureRef.current)\n    if (expandedMeasureRef.current) observer.observe(expandedMeasureRef.current)\n    if (iconLabelRef.current) observer.observe(iconLabelRef.current)\n\n    return () => observer.disconnect()\n  }, [value, label, expandedLabel, icon, chipSize])\n\n  // ============================================================================\n  // Fade-in on mount (only after measurements are ready)\n  // ============================================================================\n\n  const [isVisible, setIsVisible] = useState(false)\n  const [chipExpanded, setChipExpanded] = useState(!chipExpandAnimation) // Start expanded if no animation\n  const hasMeasurements = collapsedWidth > 0 && expandedWidth > 0 &&\n    (!hasExpandedLabel || expandedWithLabelWidth > 0)\n\n  useEffect(() => {\n    if (!hasMeasurements) return\n\n    const frame = requestAnimationFrame(() => {\n      setIsVisible(true)\n      if (chipExpandAnimation) {\n        setChipExpanded(true)\n      }\n    })\n    return () => cancelAnimationFrame(frame)\n  }, [hasMeasurements, chipExpandAnimation])\n\n  // ============================================================================\n  // Render Helpers\n  // ============================================================================\n\n  const renderIconOrLabel = () => {\n    if (hasIcon) {\n      return (\n        <HugeIcon\n          icon={icon}\n          size={iconSize}\n          strokeWidth={2}\n          className=\"text-tertiary flex-shrink-0\"\n          style={{ opacity: iconOpacity }}\n        />\n      )\n    }\n    return (\n      <span\n        className={cn(sizeConfig?.textClass, 'font-medium text-tertiary whitespace-nowrap')}\n        style={{ opacity: iconOpacity }}\n      >\n        {label}:\n      </span>\n    )\n  }\n\n  // Show expanded label when menu is open\n  const showExpandedLabelNow = isExpanded && hasExpandedLabel\n\n  // ============================================================================\n  // Clip-path Animation (S-tier: no layout, paint-only)\n  // ============================================================================\n\n  // Target width based on current state (what we want to show)\n  const targetWidth = useMemo(() => {\n    if (!chipExpanded) return collapsedWidth\n    if (showExpandedLabelNow) return expandedWithLabelWidth\n    return expandedWidth\n  }, [chipExpanded, showExpandedLabelNow, collapsedWidth, expandedWidth, expandedWithLabelWidth])\n\n  // Clip amount for entry animation only (collapsed -> expanded)\n  // After entry, clipRight is 0 and width changes handle state transitions\n  const clipRight = useMemo(() => {\n    if (!chipExpanded) {\n      // Entry animation: reveal from icon to full width\n      return targetWidth - collapsedWidth\n    }\n    // After entry: no clipping, width handles the rest\n    return 0\n  }, [chipExpanded, targetWidth, collapsedWidth])\n\n  // Border radius for clip-path (must match chip's rounded style)\n  const clipBorderRadius = useMemo(() => {\n    if (chipRounded === 'full') return (sizeConfig?.height ?? 32) / 2\n    const radiusMap: Record<ChipRounded, number> = {\n      sm: 6,   // rounded-md\n      md: 8,   // rounded-lg\n      lg: 12,  // rounded-xl\n      full: 16,\n    }\n    return radiusMap[chipRounded] ?? 8\n  }, [chipRounded, sizeConfig?.height])\n\n  // Calculate content opacity based on chip expansion state\n  const contentOpacity = useMemo(() => {\n    if (!chipExpanded) return 0\n    return 1\n  }, [chipExpanded])\n\n  return (\n    <div\n      className=\"fsc-chip-wrapper relative inline-flex\"\n      style={{ opacity: isVisible ? 1 : 0 }}\n    >\n      {/* Hidden measurement element - normal layout (icon + value) */}\n      <div\n        ref={measureRef}\n        aria-hidden=\"true\"\n        className={cn(\n          'inline-flex items-center',\n          roundedClass,\n          'whitespace-nowrap pointer-events-none'\n        )}\n        style={{\n          visibility: 'hidden',\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          height: sizeConfig?.height,\n          paddingLeft: paddingLeft,\n          paddingRight: paddingRight,\n        }}\n      >\n        <span\n          ref={iconLabelRef}\n          className=\"inline-flex items-center\"\n          style={{\n            height: sizeConfig?.height,\n            paddingLeft: paddingLeft,\n            marginLeft: -paddingLeft,\n          }}\n        >\n          {renderIconOrLabel()}\n        </span>\n        <span\n          className={cn(sizeConfig?.textClass, 'font-medium text-primary whitespace-nowrap')}\n          style={{ marginLeft: iconValueGap }}\n        >\n          {value}\n        </span>\n        {/* Close button placeholder for measurement */}\n        {showCloseIcon && (\n          <span\n            className=\"inline-flex items-center justify-center shrink-0\"\n            style={{ width: sizeConfig?.closeSize, height: sizeConfig?.closeSize, marginLeft: VALUE_CLOSE_GAP }}\n          />\n        )}\n      </div>\n\n      {/* Hidden measurement element - expanded layout (icon + label: + value) */}\n      {hasExpandedLabel && (\n        <div\n          ref={expandedMeasureRef}\n          aria-hidden=\"true\"\n          className={cn(\n            'inline-flex items-center',\n            roundedClass,\n            'whitespace-nowrap pointer-events-none'\n          )}\n          style={{\n            visibility: 'hidden',\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            height: sizeConfig?.height,\n            paddingLeft: paddingLeft,\n            paddingRight: paddingRight,\n          }}\n        >\n          {/* Icon */}\n          <HugeIcon\n            icon={icon!}\n            size={iconSize}\n            strokeWidth={2}\n            className=\"text-tertiary flex-shrink-0\"\n            style={{ opacity: iconOpacity }}\n          />\n          {/* Label */}\n          <span\n            className={cn(sizeConfig?.textClass, 'font-medium text-tertiary whitespace-nowrap')}\n            style={{ marginLeft: iconValueGap, opacity: iconOpacity }}\n          >\n            {expandedLabel}:\n          </span>\n          {/* Value */}\n          <span\n            className={cn(sizeConfig?.textClass, 'font-medium text-primary whitespace-nowrap')}\n            style={{ marginLeft: iconValueGap }}\n          >\n            {value}\n          </span>\n          {/* Close button placeholder */}\n          {showCloseIcon && (\n            <span\n              className=\"inline-flex items-center justify-center shrink-0\"\n              style={{ width: sizeConfig?.closeSize, height: sizeConfig?.closeSize, marginLeft: VALUE_CLOSE_GAP }}\n            />\n          )}\n        </div>\n      )}\n\n      {/* Visible animated chip (acts as trigger) - transparent since backdrop provides visual surface */}\n      {/* Uses clip-path for entry animation (C-tier: paint only), width for state changes */}\n      <div\n        className={cn(\n          'fsc-chip-clip relative overflow-hidden',\n          roundedClass\n        )}\n        style={{\n          width: targetWidth || 'auto',\n          height: sizeConfig?.height,\n          clipPath: clipRight > 0 ? `inset(0 ${clipRight}px 0 0 round ${clipBorderRadius}px)` : undefined,\n        }}\n      >\n        {/* Clickable area for opening menu (excludes close button area) */}\n        <button\n          type=\"button\"\n          onClick={onClick}\n          className={cn(\n            'absolute inset-0 cursor-pointer',\n            'focus:outline-none focus-visible:ring-2 focus-visible:ring-brand',\n            roundedClass\n          )}\n          style={{\n            right: showCloseIcon ? (sizeConfig?.closeSize ?? 16) + paddingRight : 0,\n          }}\n          aria-label=\"Open filter menu\"\n        />\n\n        {/* Icon/Label - absolutely positioned, never moves */}\n        <div\n          className=\"absolute left-0 top-0 bottom-0 flex items-center justify-center pointer-events-none\"\n          style={{\n            width: collapsedWidth,\n            paddingLeft: paddingLeft,\n          }}\n        >\n          {renderIconOrLabel()}\n        </div>\n\n        {/* Value area - revealed as chip expands, with optional label when menu is open */}\n        <div\n          className=\"fsc-chip-value absolute top-0 bottom-0 flex items-center pointer-events-none\"\n          style={{\n            left: collapsedWidth,\n            right: showCloseIcon ? (sizeConfig?.closeSize ?? 16) + paddingRight : paddingRight,\n            paddingLeft: iconValueGap,\n            opacity: contentOpacity,\n          }}\n        >\n          {/* Show label when expanded with expandedLabel */}\n          {showExpandedLabelNow && (\n            <span\n              className={cn(sizeConfig?.textClass, 'font-medium text-tertiary whitespace-nowrap')}\n              style={{ opacity: iconOpacity, marginRight: iconValueGap }}\n            >\n              {expandedLabel}:\n            </span>\n          )}\n          <span className={cn(sizeConfig?.textClass, 'font-medium text-primary whitespace-nowrap')}>\n            {value}\n          </span>\n        </div>\n\n        {/* Close icon - always visible, interactive only when onRemove provided */}\n        {showCloseIcon && (\n          <div\n            className=\"fsc-chip-close-area absolute top-0 bottom-0 right-0 flex items-center\"\n            style={{\n              paddingRight: paddingRight,\n              opacity: contentOpacity,\n            }}\n          >\n            {onRemove ? (\n              <button\n                type=\"button\"\n                onClick={(e) => {\n                  e.stopPropagation()\n                  onRemove()\n                }}\n                className={cn(\n                  'flex-shrink-0 flex items-center justify-center rounded-full',\n                  'text-tertiary hover:text-primary',\n                  'transition-colors duration-150',\n                  'motion-reduce:transition-none',\n                  'focus:outline-none focus-visible:ring-2 focus-visible:ring-brand'\n                )}\n                style={{\n                  width: sizeConfig?.closeSize,\n                  height: sizeConfig?.closeSize\n                }}\n                aria-label={`Remove ${value} filter`}\n              >\n                <HugeIcon\n                  icon={CancelCircleSolidIcon}\n                  size={sizeConfig?.closeSize ?? 16}\n                  strokeWidth={0}\n                />\n              </button>\n            ) : (\n              <span\n                className=\"flex-shrink-0 flex items-center justify-center text-tertiary\"\n                style={{\n                  width: sizeConfig?.closeSize,\n                  height: sizeConfig?.closeSize\n                }}\n              >\n                <HugeIcon\n                  icon={CancelCircleSolidIcon}\n                  size={sizeConfig?.closeSize ?? 16}\n                  strokeWidth={0}\n                />\n              </span>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nChipTrigger.displayName = 'ChipTrigger'\n"]}