{"version":3,"file":"utils.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/prod/base/filter/filter-menu-motion/utils.ts"],"names":[],"mappings":";AAAA;;;;;;GAMG;;;AAIH;;;;;;;GAOG;AACH,SAAgB,6BAA6B,CAC3C,KAAiB,EACjB,YAAyB,EACzB,cAA2C;IAE3C,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;QACxB,oCAAoC;QACpC,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW;YAAE,OAAO,IAAI,CAAA;QAE1C,yEAAyE;QACzE,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS,EAAE,CAAC;YAC5B,IAAI,WAAW,GAAG,CAAC,CAAA;YACnB,MAAM,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE;gBACjD,IAAI,OAAO,CAAC,IAAI,KAAK,WAAW,IAAI,OAAO,CAAC,IAAI,KAAK,SAAS,EAAE,CAAC;oBAC/D,OAAO,OAAO,CAAA;gBAChB,CAAC;gBACD,MAAM,UAAU,GAAG,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;gBAC/C,IAAI,UAAU;oBAAE,WAAW,EAAE,CAAA;gBAC7B,OAAO;oBACL,GAAG,OAAO;oBACV,QAAQ,EAAE,UAAU;oBACpB,OAAO,EAAE,GAAG,EAAE;wBACZ,OAAO,CAAC,OAAO,EAAE,EAAE,CAAA;wBACnB,cAAc,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;oBAC9B,CAAC;iBACF,CAAA;YACH,CAAC,CAAC,CAAA;YACF,OAAO,EAAE,GAAG,IAAI,EAAE,KAAK,EAAE,eAAe,EAAE,WAAW,EAAE,CAAA;QACzD,CAAC;QAED,gDAAgD;QAChD,MAAM,UAAU,GAAG,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;QAC5C,OAAO;YACL,GAAG,IAAI;YACP,QAAQ,EAAE,UAAU;YACpB,OAAO,EAAE,GAAG,EAAE;gBACZ,IAAI,CAAC,OAAO,EAAE,EAAE,CAAA;gBAChB,cAAc,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;YAC3B,CAAC;SACF,CAAA;IACH,CAAC,CAAC,CAAA;AACJ,CAAC;AAzCD,sEAyCC","sourcesContent":["/**\n * FilterMenuMotion - Utility Functions\n *\n * Helper functions for menu item transformation and state management.\n *\n * @module prod/base/filter/filter-menu-motion/utils\n */\n\nimport type { MenuItem } from './types'\n\n/**\n * Transform items to inject selected state based on activeFilterIds.\n *\n * This function:\n * 1. Marks items as selected if their ID is in activeIdsSet\n * 2. Wraps onClick handlers to call onFilterSelect\n * 3. Calculates activeCount for submenu badges\n */\nexport function transformItemsWithFilterState(\n  items: MenuItem[],\n  activeIdsSet: Set<string>,\n  onFilterSelect?: (filterId: string) => void\n): MenuItem[] {\n  return items.map((item) => {\n    // Separators pass through unchanged\n    if (item.type === 'separator') return item\n\n    // Submenu items - recursively process children and calculate badge count\n    if (item.type === 'submenu') {\n      let activeCount = 0\n      const wrappedSubItems = item.items.map((subItem) => {\n        if (subItem.type === 'separator' || subItem.type === 'submenu') {\n          return subItem\n        }\n        const isSelected = activeIdsSet.has(subItem.id)\n        if (isSelected) activeCount++\n        return {\n          ...subItem,\n          selected: isSelected,\n          onClick: () => {\n            subItem.onClick?.()\n            onFilterSelect?.(subItem.id)\n          },\n        }\n      })\n      return { ...item, items: wrappedSubItems, activeCount }\n    }\n\n    // Action items - mark selected and wrap onClick\n    const isSelected = activeIdsSet.has(item.id)\n    return {\n      ...item,\n      selected: isSelected,\n      onClick: () => {\n        item.onClick?.()\n        onFilterSelect?.(item.id)\n      },\n    }\n  })\n}\n"]}