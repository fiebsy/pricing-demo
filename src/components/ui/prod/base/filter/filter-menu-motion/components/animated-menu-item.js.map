{"version":3,"file":"animated-menu-item.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/prod/base/filter/filter-menu-motion/components/animated-menu-item.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * AnimatedMenuItem - Motion-animated menu item\n *\n * Wraps Base UI Menu.Item with Motion Dev animations.\n * Supports state-based animation (mounted components pattern).\n *\n * @module prod/base/filter/filter-menu-motion/components/animated-menu-item\n */\n\n'use client'\n\nimport * as React from 'react'\nimport { Menu as BaseMenu } from '@base-ui/react/menu'\nimport { motion } from 'motion/react'\n\nimport { cn } from '@/lib/utils'\nimport { HugeIcon } from '@/components/ui/prod/base/icon'\nimport ArrowRight01Icon from '@hugeicons-pro/core-stroke-rounded/ArrowRight01Icon'\nimport CheckmarkCircle02Icon from '@hugeicons-pro/core-stroke-rounded/CheckmarkCircle02Icon'\n\nimport type { MenuItem, MotionAnimationConfig } from '../types'\nimport { getTimedTransition } from '../animation-config'\n\n// ============================================================================\n// STYLES\n// ============================================================================\n\nconst ITEM_CLASSES = cn(\n  'flex items-center gap-2 px-2.5 min-h-9 rounded-xl cursor-pointer',\n  'text-sm font-medium text-secondary',\n  'transition-colors hover:bg-quaternary',\n  'focus-visible:outline-none focus-visible:bg-quaternary',\n  'motion-reduce:transition-none'\n)\n\nconst ICON_CLASSES = 'text-fg-tertiary opacity-60 shrink-0'\n\n// ============================================================================\n// PROPS\n// ============================================================================\n\nexport interface AnimatedMenuItemProps {\n  /** The menu item data */\n  item: MenuItem\n  /** Item index for stagger calculation */\n  index: number\n  /** Animation configuration */\n  animationConfig: MotionAnimationConfig\n  /** Whether reduced motion is preferred */\n  shouldReduceMotion: boolean | null\n  /** Whether this item should be visible/animated in */\n  isVisible: boolean\n  /** Whether this item is in a submenu (affects slide direction) */\n  isInSubmenu?: boolean\n  /** Callback when a submenu item is clicked */\n  onSubmenuClick: (menuId: string) => void\n  /** Callback when an action item is selected */\n  onSelect: () => void\n}\n\n// ============================================================================\n// COMPONENT\n// ============================================================================\n\n/**\n * AnimatedMenuItem - Single menu item with motion animation.\n *\n * Uses state-based animation pattern for mounted components:\n * - `initial={false}` prevents animation on first render\n * - Animation driven by `isVisible` prop\n * - Supports staggered delays based on index\n */\nexport function AnimatedMenuItem({\n  item,\n  index,\n  animationConfig,\n  shouldReduceMotion,\n  isVisible,\n  isInSubmenu = false,\n  onSubmenuClick,\n  onSelect,\n}: AnimatedMenuItemProps) {\n  // Separator - no animation needed\n  if (item.type === 'separator') {\n    return (\n      <div\n        role=\"separator\"\n        className=\"border-primary -mx-1 border-t opacity-50\"\n      />\n    )\n  }\n\n  // Calculate stagger delay\n  const itemDelay = animationConfig.enableItemStagger\n    ? index * animationConfig.itemStagger\n    : 0\n\n  // State-based animation props\n  const animateProps = shouldReduceMotion\n    ? { opacity: isVisible ? 1 : 0 }\n    : {\n        opacity: isVisible ? 1 : 0,\n        x: isVisible ? 0 : isInSubmenu ? -15 : 15,\n      }\n\n  const transition = getTimedTransition(\n    animationConfig.opacityDuration,\n    isVisible ? itemDelay : 0\n  )\n\n  // Submenu trigger item\n  if (item.type === 'submenu') {\n    return (\n      <motion.div\n        initial={false}\n        animate={animateProps}\n        transition={transition}\n      >\n        <BaseMenu.Item\n          className={ITEM_CLASSES}\n          closeOnClick={false}\n          onClick={() => onSubmenuClick(item.id)}\n        >\n          {item.icon && (\n            <HugeIcon\n              icon={item.icon}\n              size={16}\n              strokeWidth={2}\n              className={ICON_CLASSES}\n            />\n          )}\n          <span className=\"flex-1 truncate\">{item.label}</span>\n          {typeof item.activeCount === 'number' && item.activeCount > 0 && (\n            <span className=\"bg-brand-solid text-white text-xs font-semibold px-1.5 py-0.5 rounded-full min-w-5 text-center\">\n              {item.activeCount}\n            </span>\n          )}\n          <HugeIcon\n            icon={ArrowRight01Icon}\n            size={16}\n            strokeWidth={2}\n            className=\"text-fg-quaternary shrink-0\"\n          />\n        </BaseMenu.Item>\n      </motion.div>\n    )\n  }\n\n  // Action item\n  return (\n    <motion.div\n      initial={false}\n      animate={animateProps}\n      transition={transition}\n    >\n      <BaseMenu.Item\n        className={ITEM_CLASSES}\n        onClick={() => {\n          item.onClick?.()\n          onSelect()\n        }}\n      >\n        {item.icon && (\n          <HugeIcon\n            icon={item.icon}\n            size={16}\n            strokeWidth={2}\n            className={ICON_CLASSES}\n          />\n        )}\n        <span className=\"flex-1 truncate\">{item.label}</span>\n        {item.selected && (\n          <HugeIcon\n            icon={CheckmarkCircle02Icon}\n            size={16}\n            strokeWidth={2}\n            className=\"text-brand-primary shrink-0\"\n          />\n        )}\n      </BaseMenu.Item>\n    </motion.div>\n  )\n}\n\nAnimatedMenuItem.displayName = 'AnimatedMenuItem'\n"]}