{"version":3,"file":"battery.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/prod/base/clawback-timer/battery.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * Battery Component\n *\n * Pure CSS battery indicator for optimal rendering performance.\n * Supports both rounded corners (CSS border-radius) and squircle corners\n * using the @toolwind/corner-shape plugin's `corner-squircle` utility.\n *\n * Fill Rounding Formula:\n * The fill radius is calculated as: bodyRadius - fillInset\n * This creates proper nested corners (iOS-style) where the inner\n * shape's corners align with the outer shape's corners.\n */\n\nimport * as React from 'react'\nimport { cn } from '@/lib/utils'\n\nimport type { BatteryProps, CornerStyle, LabelWeight } from './types'\nimport { SIZE_CONFIGS, FILL_COLORS, BORDER_COLORS, LABEL_CLASSES } from './config'\nimport { getColorState } from './utils'\n\n// -----------------------------------------------------------------------------\n// Component\n// -----------------------------------------------------------------------------\n\nexport const Battery: React.FC<BatteryProps> = ({\n  chargeLevel,\n  size = '32',\n  label,\n  labelPosition = 'left',\n  useAdaptiveColor = true,\n  styleConfig,\n  className,\n  labelClassName,\n}) => {\n  const sizeConfig = SIZE_CONFIGS[size] ?? SIZE_CONFIGS['32']\n  const clampedCharge = Math.max(0, Math.min(100, chargeLevel))\n\n  // Apply style overrides (styleConfig takes precedence over sizeConfig)\n  const cornerStyle: CornerStyle = styleConfig?.cornerStyle ?? 'rounded'\n  const bodyWidth = styleConfig?.bodyWidth ?? sizeConfig.bodyWidth\n  const bodyHeight = styleConfig?.bodyHeight ?? sizeConfig.bodyHeight\n  const borderRadius = styleConfig?.borderRadius ?? sizeConfig.borderRadius\n  const fillInset = styleConfig?.fillInset ?? sizeConfig.fillInset\n  const terminalScale = styleConfig?.terminalScale ?? 1\n  const labelWeight: LabelWeight = styleConfig?.labelWeight ?? 'medium'\n\n  // Terminal dimensions with scaling\n  const baseTerminalWidth = styleConfig?.terminalWidth ?? sizeConfig.terminalWidth\n  const baseTerminalHeight = styleConfig?.terminalHeight ?? sizeConfig.terminalHeight\n  const baseTerminalRadius = styleConfig?.terminalRadius ?? sizeConfig.terminalRadius\n\n  const terminalWidth = baseTerminalWidth * terminalScale\n  const terminalHeight = baseTerminalHeight * terminalScale\n  const terminalRadius = baseTerminalRadius * terminalScale\n\n  // Label weight classes\n  const labelWeightClass = {\n    normal: 'font-normal',\n    medium: 'font-medium',\n    semibold: 'font-semibold',\n    bold: 'font-bold',\n  }[labelWeight]\n\n  // Determine colors\n  const colorState = useAdaptiveColor ? getColorState(clampedCharge) : 'warning'\n  const fillColor = FILL_COLORS[colorState]\n  const borderColor = BORDER_COLORS[colorState]\n  const labelClass = LABEL_CLASSES[colorState]\n\n  // Calculate fill dimensions\n  // With box-sizing: border-box, the border is INSIDE the dimensions\n  // Content area = bodyWidth - (borderWidth Ã— 2)\n  const borderWidth = 1\n  const contentWidth = bodyWidth - borderWidth * 2\n  const contentHeight = bodyHeight - borderWidth * 2\n  const fillAreaWidth = contentWidth - fillInset * 2\n  const fillAreaHeight = contentHeight - fillInset * 2\n  const fillWidth = (fillAreaWidth * clampedCharge) / 100\n\n  // Fill rounding: bodyRadius - fillInset for proper nested corners\n  // This creates iOS-style nested corner alignment\n  const fillBorderRadius = Math.max(0, borderRadius - fillInset)\n\n  // Squircle uses the corner-squircle CSS class from @toolwind/corner-shape\n  const isSquircle = cornerStyle === 'squircle'\n\n  // Render label\n  const renderLabel = () => {\n    if (!label || labelPosition === 'none') return null\n    return (\n      <span\n        className={cn(sizeConfig.labelSize, labelWeightClass, 'tabular-nums', labelClass, labelClassName)}\n        style={{\n          marginLeft: labelPosition === 'right' ? sizeConfig.labelGap : 0,\n          marginRight: labelPosition === 'left' ? sizeConfig.labelGap : 0,\n        }}\n      >\n        {label}\n      </span>\n    )\n  }\n\n  return (\n    <div\n      className={cn(\n        'inline-flex items-center',\n        labelPosition === 'right' && 'flex-row-reverse',\n        className\n      )}\n    >\n      {renderLabel()}\n\n      {/* Container (square, centered) */}\n      <div\n        className=\"flex items-center justify-center\"\n        style={{\n          width: sizeConfig.containerSize,\n          height: sizeConfig.containerSize,\n        }}\n      >\n        {/* Battery body + terminal wrapper */}\n        <div className=\"relative inline-flex items-center\">\n          {/* Battery body */}\n          <div\n            className={cn('relative overflow-hidden', isSquircle && 'corner-squircle')}\n            style={{\n              width: bodyWidth,\n              height: bodyHeight,\n              borderRadius: borderRadius,\n              borderWidth: 1,\n              borderStyle: 'solid',\n              borderColor: borderColor,\n              backgroundColor: 'var(--color-background-secondary)',\n            }}\n          >\n            {/* Fill layer */}\n            {clampedCharge > 0 && (\n              <div\n                className={cn(isSquircle && 'corner-squircle')}\n                style={{\n                  position: 'absolute',\n                  top: fillInset,\n                  left: fillInset,\n                  width: Math.max(2, fillWidth),\n                  height: fillAreaHeight,\n                  borderRadius: fillBorderRadius,\n                  backgroundColor: fillColor,\n                }}\n              />\n            )}\n          </div>\n\n          {/* Terminal (positive end cap) */}\n          <div\n            className={cn(isSquircle && 'corner-squircle')}\n            style={{\n              width: terminalWidth,\n              height: terminalHeight,\n              marginLeft: sizeConfig.terminalGap,\n              backgroundColor: borderColor,\n              borderTopRightRadius: terminalRadius,\n              borderBottomRightRadius: terminalRadius,\n            }}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n"]}