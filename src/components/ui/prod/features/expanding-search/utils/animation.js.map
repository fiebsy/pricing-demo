{"version":3,"file":"animation.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/components/ui/prod/features/expanding-search/utils/animation.ts"],"names":[],"mappings":";AAAA;;;;;;GAMG;;;AAEH,sCAAsD;AAyBtD,+EAA+E;AAC/E,yBAAyB;AACzB,+EAA+E;AAE/E;;GAEG;AACH,SAAgB,iBAAiB,CAC/B,KAAqB,EACrB,UAAsB;IAEtB,IAAI,CAAC,KAAK,CAAC,UAAU;QAAE,OAAO,CAAC,CAAA;IAC/B,IAAI,UAAU,KAAK,MAAM;QAAE,OAAO,KAAK,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;IACjE,OAAO,CAAC,CAAA;AACV,CAAC;AAPD,8CAOC;AAED;;GAEG;AACH,SAAgB,oBAAoB,CAClC,KAAqB,EACrB,MAAuB;IAEvB,MAAM,EAAE,QAAQ,EAAE,gBAAgB,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,MAAM,CAAA;IAEnE,qCAAqC;IACrC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;QACtB,QAAQ,QAAQ,EAAE,CAAC;YACjB,KAAK,SAAS;gBACZ,OAAO,oBAAoB,CAAA;YAC7B,KAAK,WAAW;gBACd,OAAO,WAAW,gBAAgB,MAAM,eAAM,EAAE,CAAA;YAClD,KAAK,MAAM,CAAC;YACZ;gBACE,OAAO,WAAW,gBAAgB,aAAa,CAAA;QACnD,CAAC;IACH,CAAC;IAED,sCAAsC;IACtC,QAAQ,UAAU,EAAE,CAAC;QACnB,KAAK,WAAW;YACd,OAAO,WAAW,QAAQ,MAAM,eAAM,EAAE,CAAA;QAC1C,KAAK,MAAM;YACT,OAAO,WAAW,QAAQ,GAAG,2BAAkB,MAAM,eAAM,IAAI,QAAQ,GAAG,CAAC,CAAC,GAAG,2BAAkB,CAAC,IAAI,CAAA;QACxG,KAAK,OAAO;YACV,OAAO,sBAAsB,QAAQ,IAAI,CAAA;QAC3C,KAAK,MAAM;YACT,OAAO,oBAAoB,CAAA;QAC7B;YACE,OAAO,WAAW,QAAQ,GAAG,2BAAkB,MAAM,eAAM,EAAE,CAAA;IACjE,CAAC;AACH,CAAC;AAhCD,oDAgCC;AAED;;GAEG;AACH,SAAgB,sBAAsB,CAAC,QAAgB;IACrD,OAAO,SAAS,QAAQ,MAAM,eAAM,EAAE,CAAA;AACxC,CAAC;AAFD,wDAEC;AAED;;GAEG;AACH,SAAgB,kBAAkB,CAChC,KAAqB,EACrB,MAAuB;IAEvB,OAAO;QACL,mBAAmB,EAAE,sBAAsB,CAAC,MAAM,CAAC,QAAQ,CAAC;QAC5D,cAAc,EAAE,iBAAiB,CAAC,KAAK,EAAE,MAAM,CAAC,UAAU,CAAC;QAC3D,iBAAiB,EAAE,oBAAoB,CAAC,KAAK,EAAE,MAAM,CAAC;KACvD,CAAA;AACH,CAAC;AATD,gDASC","sourcesContent":["/**\n * Expanding Search - Animation Utilities\n *\n * Pure functions for calculating animation timing and opacity transitions.\n *\n * @module expanding-search/utils/animation\n */\n\nimport { EASING, OPACITY_FADE_RATIO } from '../config'\nimport type { RevealMode, HideMode } from '../types'\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport interface AnimationState {\n  isExpanded: boolean\n  animationComplete: boolean\n}\n\nexport interface AnimationConfig {\n  duration: number\n  collapseDuration: number\n  revealMode: RevealMode\n  hideMode: HideMode\n}\n\nexport interface AnimationStyles {\n  containerTransition: string\n  contentOpacity: number\n  contentTransition: string\n}\n\n// ============================================================================\n// Animation Calculations\n// ============================================================================\n\n/**\n * Calculate content opacity based on reveal mode and animation state\n */\nexport function getContentOpacity(\n  state: AnimationState,\n  revealMode: RevealMode\n): number {\n  if (!state.isExpanded) return 0\n  if (revealMode === 'sync') return state.animationComplete ? 1 : 0\n  return 1\n}\n\n/**\n * Calculate content transition CSS based on reveal/hide modes\n */\nexport function getContentTransition(\n  state: AnimationState,\n  config: AnimationConfig\n): string {\n  const { duration, collapseDuration, revealMode, hideMode } = config\n\n  // Close transition based on hideMode\n  if (!state.isExpanded) {\n    switch (hideMode) {\n      case 'instant':\n        return 'opacity 0ms linear'\n      case 'immediate':\n        return `opacity ${collapseDuration}ms ${EASING}`\n      case 'fade':\n      default:\n        return `opacity ${collapseDuration}ms ease-out`\n    }\n  }\n\n  // Open transition based on revealMode\n  switch (revealMode) {\n    case 'immediate':\n      return `opacity ${duration}ms ${EASING}`\n    case 'fade':\n      return `opacity ${duration * OPACITY_FADE_RATIO}ms ${EASING} ${duration * (1 - OPACITY_FADE_RATIO)}ms`\n    case 'delay':\n      return `opacity 1ms linear ${duration}ms`\n    case 'sync':\n      return 'opacity 1ms linear'\n    default:\n      return `opacity ${duration * OPACITY_FADE_RATIO}ms ${EASING}`\n  }\n}\n\n/**\n * Build container width transition string\n */\nexport function getContainerTransition(duration: number): string {\n  return `width ${duration}ms ${EASING}`\n}\n\n/**\n * Calculate all animation styles at once\n */\nexport function getAnimationStyles(\n  state: AnimationState,\n  config: AnimationConfig\n): AnimationStyles {\n  return {\n    containerTransition: getContainerTransition(config.duration),\n    contentOpacity: getContentOpacity(state, config.revealMode),\n    contentTransition: getContentTransition(state, config),\n  }\n}\n"]}