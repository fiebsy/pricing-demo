/* Miscellaneous utility classes */

/* ========================================
   NOISE TEXTURE OVERLAY (SVG Filter)
   ========================================
   Usage: Add `noise-overlay` to a container
   Uses inline SVG filter for guaranteed rendering
   ======================================== */

@utility noise-overlay {
  position: relative;

  &::before {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 9999;
    opacity: var(--noise-opacity, 0.15);
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    background-repeat: repeat;
    background-size: 256px 256px;
  }
}

/* Noise opacity variants */
@utility noise-opacity-5 { --noise-opacity: 0.05; }
@utility noise-opacity-10 { --noise-opacity: 0.10; }
@utility noise-opacity-15 { --noise-opacity: 0.15; }
@utility noise-opacity-20 { --noise-opacity: 0.20; }
@utility noise-opacity-25 { --noise-opacity: 0.25; }

/* Fixed noise - stays in place during scroll (more performant) */
@utility noise-fixed {
  &::before {
    position: fixed;
  }
}

@utility scrollbar-hide {
  /* For Webkit-based browsers (Chrome, Safari and Opera) */
  &::-webkit-scrollbar {
    display: none;
    -webkit-appearance: none;
  }

  /* For IE, Edge and Firefox */
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}

@utility transition-inherit-all {
  transition-property: inherit;
  transition-duration: inherit;
  transition-timing-function: inherit;
}

/* ========================================
   NAV CLEARANCE
   ========================================
   Usage: Add to page containers to clear the floating nav
   - nav-clearance: adds top padding (64px mobile, 80px desktop)
   - nav-clearance-bottom: adds bottom padding for mobile nav
   ======================================== */

@utility nav-clearance {
  padding-top: 4rem; /* 64px - mobile nav height */
  @media (min-width: 768px) {
    padding-top: 5rem; /* 80px - desktop nav position */
  }
}

@utility nav-clearance-bottom {
  padding-bottom: 6rem; /* 96px - mobile bottom nav clearance */
  @media (min-width: 768px) {
    padding-bottom: 2rem; /* 32px - desktop doesn't need much */
  }
}
