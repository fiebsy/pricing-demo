{"version":3,"file":"filter-config.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/modules/collections/config/filter-config.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Collections Dashboard - Filter Configuration\n *\n * Risk-specific filter menu items for the RevealMenu component.\n * Filters are applied client-side after data is fetched.\n */\n\nimport type { ComponentType } from 'react'\nimport {\n  CheckmarkCircle02Icon,\n  Alert02Icon,\n  Money01Icon,\n  Route01Icon,\n  Cancel01Icon,\n} from '@hugeicons-pro/core-stroke-rounded'\n\nimport type { MenuItemType, MenuItemAction, MenuItemSubmenu } from '@/components/ui/prod/base/filter'\nimport type { FilterId, ActiveFilter, FilterPredicate, PartnerRiskItem } from '../types'\nimport { ContractStatus, PaymentPlanType } from '../types'\n\n// =============================================================================\n// FILTER ICON MAPPING\n// =============================================================================\n\ntype IconComponent = ComponentType<{ className?: string }>\n\nexport const FILTER_ICONS: Record<string, IconComponent> = {\n  Status: CheckmarkCircle02Icon as unknown as IconComponent,\n  Urgency: Alert02Icon as unknown as IconComponent,\n  Balance: Money01Icon as unknown as IconComponent,\n  Route: Route01Icon as unknown as IconComponent,\n  Outcome: Cancel01Icon as unknown as IconComponent,\n}\n\n// =============================================================================\n// FILTER MENU ITEMS\n// =============================================================================\n\nexport const RISK_FILTER_ITEMS: MenuItemType[] = [\n  {\n    id: 'status',\n    label: 'Status',\n    type: 'submenu',\n    icon: CheckmarkCircle02Icon as unknown as IconComponent,\n    items: [\n      {\n        id: 'status-collections',\n        label: 'Collections',\n      } as MenuItemAction,\n      {\n        id: 'status-clawback',\n        label: 'Last Chance',\n      } as MenuItemAction,\n      {\n        id: 'status-settled',\n        label: 'Clawed back',\n      } as MenuItemAction,\n    ],\n  } as MenuItemSubmenu,\n  {\n    id: 'outcome',\n    label: 'Outcome',\n    type: 'submenu',\n    icon: Cancel01Icon as unknown as IconComponent,\n    items: [\n      {\n        id: 'outcome-defaulted',\n        label: 'Defaulted',\n      } as MenuItemAction,\n      {\n        id: 'outcome-canceled',\n        label: 'Canceled',\n      } as MenuItemAction,\n      {\n        id: 'outcome-chargeback',\n        label: 'Chargeback',\n      } as MenuItemAction,\n    ],\n  } as MenuItemSubmenu,\n  {\n    id: 'urgency',\n    label: 'Urgency',\n    type: 'submenu',\n    icon: Alert02Icon as unknown as IconComponent,\n    items: [\n      {\n        id: 'urgency-critical',\n        label: 'Critical (0-3 days)',\n      } as MenuItemAction,\n      {\n        id: 'urgency-warning',\n        label: 'Warning (4-7 days)',\n      } as MenuItemAction,\n      {\n        id: 'urgency-safe',\n        label: 'Safe (8+ days)',\n      } as MenuItemAction,\n    ],\n  } as MenuItemSubmenu,\n  {\n    id: 'balance',\n    label: 'Balance',\n    type: 'submenu',\n    icon: Money01Icon as unknown as IconComponent,\n    items: [\n      {\n        id: 'balance-high',\n        label: 'High (>$500)',\n      } as MenuItemAction,\n      {\n        id: 'balance-medium',\n        label: 'Medium ($100-500)',\n      } as MenuItemAction,\n      {\n        id: 'balance-low',\n        label: 'Low (<$100)',\n      } as MenuItemAction,\n    ],\n  } as MenuItemSubmenu,\n  {\n    id: 'route',\n    label: 'Route',\n    type: 'submenu',\n    icon: Route01Icon as unknown as IconComponent,\n    items: [\n      {\n        id: 'route-servicing',\n        label: 'PAC',\n      } as MenuItemAction,\n      {\n        id: 'route-funding',\n        label: 'Upfront',\n      } as MenuItemAction,\n    ],\n  } as MenuItemSubmenu,\n]\n\n// =============================================================================\n// FILTER DISPLAY LABELS\n// For showing in FilterChip components\n// =============================================================================\n\nexport const FILTER_DISPLAY_LABELS: Record<FilterId, { label: string; value: string; category: ActiveFilter['category'] }> = {\n  'status-collections': { label: 'Status', value: 'Collections', category: 'Status' },\n  'status-clawback': { label: 'Status', value: 'Last Chance', category: 'Status' },\n  'status-settled': { label: 'Status', value: 'Clawed back', category: 'Status' },\n  'outcome-defaulted': { label: 'Outcome', value: 'Defaulted', category: 'Outcome' },\n  'outcome-canceled': { label: 'Outcome', value: 'Canceled', category: 'Outcome' },\n  'outcome-chargeback': { label: 'Outcome', value: 'Chargeback', category: 'Outcome' },\n  'urgency-critical': { label: 'Urgency', value: 'Critical', category: 'Urgency' },\n  'urgency-warning': { label: 'Urgency', value: 'Warning', category: 'Urgency' },\n  'urgency-safe': { label: 'Urgency', value: 'Safe', category: 'Urgency' },\n  'balance-high': { label: 'Balance', value: '>$500', category: 'Balance' },\n  'balance-medium': { label: 'Balance', value: '$100-500', category: 'Balance' },\n  'balance-low': { label: 'Balance', value: '<$100', category: 'Balance' },\n  'route-servicing': { label: 'Route', value: 'PAC', category: 'Route' },\n  'route-funding': { label: 'Route', value: 'Upfront', category: 'Route' },\n}\n\n// =============================================================================\n// FILTER PREDICATES\n// Used for client-side filtering of data\n// =============================================================================\n\nexport const FILTER_PREDICATES: Record<FilterId, FilterPredicate> = {\n  // Status filters - use riskCategory for precise filtering\n  'status-collections': (item) =>\n    item.riskCategory === 'COLLECTIONS' || item.riskCategory === 'CLAWBACK_RISK',\n  'status-clawback': (item) => item.riskCategory === 'ACTIVE_CLAWBACK',\n  'status-settled': (item) => item.riskCategory === 'SETTLED_CLAWBACK',\n\n  // Outcome filters - type of failed order\n  'outcome-defaulted': (item) => {\n    const status = String(item.status)\n    return status === ContractStatus.DefaultedPendingClawback ||\n           status === ContractStatus.DefaultedSettled\n  },\n  'outcome-canceled': (item) => {\n    const status = String(item.status)\n    return status === ContractStatus.CanceledPendingClawback ||\n           status === ContractStatus.CanceledSettled\n  },\n  'outcome-chargeback': (item) => {\n    const status = String(item.status)\n    return status === ContractStatus.ChargebackPendingClawback ||\n           status === ContractStatus.ChargebackSettled\n  },\n\n  // Urgency filters (based on daysUntilClawback)\n  'urgency-critical': (item) => {\n    const days = item.daysUntilClawback\n    return days !== null && days !== undefined && days <= 3\n  },\n  'urgency-warning': (item) => {\n    const days = item.daysUntilClawback\n    return days !== null && days !== undefined && days >= 4 && days <= 7\n  },\n  'urgency-safe': (item) => {\n    const days = item.daysUntilClawback\n    return days !== null && days !== undefined && days >= 8\n  },\n\n  // Balance filters\n  'balance-high': (item) => (item.remainingBalance ?? 0) > 500,\n  'balance-medium': (item) => {\n    const balance = item.remainingBalance ?? 0\n    return balance >= 100 && balance <= 500\n  },\n  'balance-low': (item) => (item.remainingBalance ?? 0) < 100,\n\n  // Route filters\n  'route-servicing': (item) => {\n    return item.planType === PaymentPlanType.Servicing\n  },\n  'route-funding': (item) => {\n    return item.planType === PaymentPlanType.Funding\n  },\n}\n\n// =============================================================================\n// HELPER: Apply filters to data\n// =============================================================================\n\nexport function applyFilters(\n  items: PartnerRiskItem[],\n  activeFilters: ActiveFilter[]\n): PartnerRiskItem[] {\n  if (activeFilters.length === 0) return items\n\n  return items.filter((item) => {\n    // Group filters by category\n    const filtersByCategory: Record<string, FilterId[]> = {}\n\n    for (const filter of activeFilters) {\n      const category = filter.category\n      if (!filtersByCategory[category]) {\n        filtersByCategory[category] = []\n      }\n      filtersByCategory[category].push(filter.id)\n    }\n\n    // Within each category, use OR logic (match any)\n    // Across categories, use AND logic (must match all)\n    return Object.entries(filtersByCategory).every(([_category, filterIds]) => {\n      if (!filterIds || filterIds.length === 0) return true\n      return filterIds.some((filterId) => {\n        const predicate = FILTER_PREDICATES[filterId]\n        return predicate ? predicate(item) : true\n      })\n    })\n  })\n}\n"]}