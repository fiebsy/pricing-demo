{"version":3,"file":"use-mock-pagination.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/modules/collections/hooks/use-mock-pagination.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Collections Module - Mock Pagination Hook\n *\n * Simulates server-side pagination with delayed loading\n * for realistic infinite scroll testing.\n */\n\n'use client'\n\nimport { useState, useCallback, useMemo, useRef, useEffect } from 'react'\n\nimport type { PartnerRiskItem, PartnerRiskSortField, PartnerRiskSortOrder } from '../types'\nimport { MOCK_DATA, MOCK_METRICS } from '../mock-data'\nimport { PAGE_SIZE } from '../config/column-config'\n\n// =============================================================================\n// TYPES\n// =============================================================================\n\ninterface UseMockPaginationProps {\n  /** Initial page size */\n  pageSize?: number\n  /** Sort field */\n  sortBy?: PartnerRiskSortField\n  /** Sort order */\n  sortOrder?: PartnerRiskSortOrder\n  /** Search query */\n  searchQuery?: string\n  /** Simulated network delay in ms */\n  delay?: number\n}\n\ninterface UseMockPaginationReturn {\n  /** Currently loaded items */\n  items: PartnerRiskItem[]\n  /** Initial loading state */\n  isLoading: boolean\n  /** Loading more state */\n  isLoadingMore: boolean\n  /** Total count of all items */\n  totalCount: number\n  /** Whether more items exist */\n  hasNextPage: boolean\n  /** Load more items callback */\n  loadMore: () => Promise<void>\n  /** Reset pagination */\n  reset: () => void\n  /** Metrics data */\n  metrics: typeof MOCK_METRICS\n}\n\n// =============================================================================\n// SORT COMPARATORS\n// =============================================================================\n\nconst SORT_COMPARATORS: Record<PartnerRiskSortField, (a: PartnerRiskItem, b: PartnerRiskItem) => number> = {\n  ID: (a, b) => a.id - b.id,\n  REMAINING_BALANCE: (a, b) => (a.remainingBalance ?? 0) - (b.remainingBalance ?? 0),\n  CONTRACT_DATE: (a, b) => {\n    const dateA = a.contractDate?.getTime() ?? 0\n    const dateB = b.contractDate?.getTime() ?? 0\n    return dateA - dateB\n  },\n  LAST_PAYMENT_CLEARED_DATE: (a, b) => {\n    const dateA = a.lastPaymentClearedDate?.getTime() ?? 0\n    const dateB = b.lastPaymentClearedDate?.getTime() ?? 0\n    return dateA - dateB\n  },\n  STATUS_CHANGED_AT: (a, b) => {\n    const dateA = a.statusChangedAt?.getTime() ?? 0\n    const dateB = b.statusChangedAt?.getTime() ?? 0\n    return dateA - dateB\n  },\n  DAYS_IN_COLLECTIONS: (a, b) => (a.daysInCollections ?? 0) - (b.daysInCollections ?? 0),\n  DAYS_UNTIL_CLAWBACK: (a, b) => (a.daysUntilClawback ?? 999) - (b.daysUntilClawback ?? 999),\n  AT_RISK_FUNDED_AMOUNT: (a, b) => (a.atRiskFundedAmount ?? 0) - (b.atRiskFundedAmount ?? 0),\n  SHORTFALL_AMOUNT: (a, b) => (a.shortfallAmount ?? 0) - (b.shortfallAmount ?? 0),\n}\n\n// =============================================================================\n// HOOK\n// =============================================================================\n\nexport const useMockPagination = ({\n  pageSize = PAGE_SIZE,\n  sortBy = 'STATUS_CHANGED_AT',\n  sortOrder = 'DESC',\n  searchQuery,\n  delay = 300,\n}: UseMockPaginationProps = {}): UseMockPaginationReturn => {\n  const [loadedCount, setLoadedCount] = useState(pageSize)\n  const [isLoading, setIsLoading] = useState(true)\n  const [isLoadingMore, setIsLoadingMore] = useState(false)\n  const loadMoreRef = useRef<boolean>(false)\n\n  // Simulate initial load\n  useEffect(() => {\n    setIsLoading(true)\n    const timer = setTimeout(() => {\n      setIsLoading(false)\n    }, delay)\n    return () => clearTimeout(timer)\n  }, [delay])\n\n  // Reset when search/sort changes\n  useEffect(() => {\n    setLoadedCount(pageSize)\n    setIsLoading(true)\n    const timer = setTimeout(() => {\n      setIsLoading(false)\n    }, delay)\n    return () => clearTimeout(timer)\n  }, [searchQuery, sortBy, sortOrder, pageSize, delay])\n\n  // Get sorted and filtered data\n  const processedData = useMemo(() => {\n    let data = [...MOCK_DATA]\n\n    // Apply search filter\n    if (searchQuery && searchQuery.trim()) {\n      const query = searchQuery.toLowerCase().trim()\n      data = data.filter(\n        (item) =>\n          item.customerName.toLowerCase().includes(query) ||\n          item.customerEmail?.toLowerCase().includes(query) ||\n          item.contractId.toString().includes(query)\n      )\n    }\n\n    // Apply sort\n    const comparator = SORT_COMPARATORS[sortBy]\n    if (comparator) {\n      data.sort((a, b) => {\n        const result = comparator(a, b)\n        return sortOrder === 'ASC' ? result : -result\n      })\n    }\n\n    return data\n  }, [searchQuery, sortBy, sortOrder])\n\n  // Get current page of items\n  const items = useMemo(() => {\n    if (isLoading) return []\n    return processedData.slice(0, loadedCount)\n  }, [processedData, loadedCount, isLoading])\n\n  const totalCount = processedData.length\n  const hasNextPage = loadedCount < totalCount\n\n  // Load more callback\n  const loadMore = useCallback(async () => {\n    if (loadMoreRef.current || !hasNextPage) return\n\n    loadMoreRef.current = true\n    setIsLoadingMore(true)\n\n    // Simulate network delay\n    await new Promise((resolve) => setTimeout(resolve, delay))\n\n    setLoadedCount((prev) => Math.min(prev + 25, totalCount))\n    setIsLoadingMore(false)\n    loadMoreRef.current = false\n  }, [hasNextPage, totalCount, delay])\n\n  // Reset pagination\n  const reset = useCallback(() => {\n    setLoadedCount(pageSize)\n  }, [pageSize])\n\n  return {\n    items,\n    isLoading,\n    isLoadingMore,\n    totalCount,\n    hasNextPage,\n    loadMore,\n    reset,\n    metrics: MOCK_METRICS,\n  }\n}\n"]}