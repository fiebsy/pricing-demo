{"version":3,"file":"formatters.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/modules/collections/utils/formatters.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Collections Module - Formatters\n *\n * Utility functions for formatting data in the collections table.\n */\n\nimport { format, isValid } from 'date-fns'\n\nimport { PaymentPlanType } from '../types'\n\n// =============================================================================\n// PLAN TYPE FORMATTER\n// =============================================================================\n\n/**\n * Format plan type for display\n */\nexport const formatPlanType = (planType?: PaymentPlanType | string | null): string => {\n  if (!planType) return 'Unknown'\n\n  const planTypeStr = String(planType)\n\n  if (planTypeStr === 'PAC' || planTypeStr === 'servicing' || planTypeStr === 'SERVICING') {\n    return 'PAC'\n  }\n  if (planTypeStr === 'upfront' || planTypeStr === 'funding' || planTypeStr === 'UPFRONT' || planTypeStr === 'FUNDING') {\n    return 'Upfront'\n  }\n\n  return planTypeStr\n}\n\n// =============================================================================\n// DATE/TIME FORMATTERS\n// =============================================================================\n\n/**\n * Format to relative time (e.g., \"2h\", \"3d\", \"1w\")\n */\nexport const formatRelativeTime = (date?: Date | string | null): string | null => {\n  if (!date) return null\n\n  try {\n    const dateObj = typeof date === 'string' ? new Date(date) : date\n    if (!isValid(dateObj)) return null\n\n    const now = new Date()\n    const diffMs = now.getTime() - dateObj.getTime()\n    const diffMinutes = Math.floor(diffMs / (1000 * 60))\n    const diffHours = Math.floor(diffMs / (1000 * 60 * 60))\n    const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24))\n\n    if (diffMinutes < 60) return `${diffMinutes}mn`\n    if (diffHours < 24) return `${diffHours}h`\n    if (diffDays < 7) return `${diffDays}d`\n    if (diffDays < 30) return `${Math.floor(diffDays / 7)}w`\n    return `${Math.floor(diffDays / 30)}mo`\n  } catch {\n    return null\n  }\n}\n\n/**\n * Format to short date (e.g., \"Nov 7\", \"Dec 1\")\n */\nexport const formatShortDate = (date?: Date | string | null): string | null => {\n  if (!date) return null\n\n  try {\n    const dateObj = typeof date === 'string' ? new Date(date) : date\n    if (!isValid(dateObj)) return null\n    return format(dateObj, 'MMM d')\n  } catch {\n    return null\n  }\n}\n\n/**\n * Convert Date to string for FormattedDate component\n */\nexport const toDateString = (date: Date | string | null | undefined): string => {\n  if (!date) return ''\n  if (typeof date === 'string') return date\n  try {\n    return date.toISOString()\n  } catch {\n    return ''\n  }\n}\n\n// =============================================================================\n// STATUS CONTEXT FORMATTER\n// =============================================================================\n\ninterface StatusTransition {\n  condensed: string\n  tooltip: string\n  raw: {\n    from: string | null\n    to: string\n  }\n}\n\n/**\n * Format status context transition for display\n *\n * Takes previous and current status and returns a human-readable description\n */\nexport const formatStatusContext = (\n  previousStatus: string | null,\n  currentStatus: string,\n  category?: string | null\n): StatusTransition | null => {\n  if (!previousStatus) return null\n\n  // Build condensed description based on transition\n  let condensed = 'Status changed'\n  let tooltip = ''\n\n  // Common transitions\n  const from = previousStatus.toLowerCase().replace(/_/g, ' ')\n  const to = currentStatus.toLowerCase().replace(/_/g, ' ')\n\n  // Detect specific transitions\n  if (currentStatus === 'COLLECTIONS') {\n    condensed = 'Entered Collections'\n    tooltip = 'Contract moved to collections status'\n  } else if (currentStatus === 'CLAWBACK_IN_PROGRESS') {\n    condensed = 'Clawback Started'\n    tooltip = 'Clawback process has been initiated'\n  } else if (currentStatus === 'PAID' || currentStatus === 'COMPLETED') {\n    condensed = 'Payment Received'\n    tooltip = 'Contract has been paid'\n  } else if (currentStatus === 'CANCELLED') {\n    condensed = 'Cancelled'\n    tooltip = 'Contract has been cancelled'\n  } else if (previousStatus === 'COLLECTIONS' && currentStatus !== 'COLLECTIONS') {\n    condensed = 'Left Collections'\n    tooltip = `Moved from collections to ${to}`\n  } else {\n    // Generic transition\n    condensed = `${from} â†’ ${to}`\n    tooltip = `Status changed from ${from} to ${to}`\n  }\n\n  // Add category info if available\n  if (category) {\n    tooltip += ` (${category})`\n  }\n\n  return {\n    condensed,\n    tooltip,\n    raw: { from: previousStatus, to: currentStatus },\n  }\n}\n\n// =============================================================================\n// CURRENCY FORMATTER\n// =============================================================================\n\n/**\n * Format currency for display (full format with decimals)\n */\nexport const formatCurrency = (amount: number): string => {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  }).format(amount)\n}\n\n/**\n * Format currency for compact display (e.g., \"$12.5k\", \"$1.2M\")\n */\nexport const formatCurrencyCompact = (amount: number): string => {\n  if (amount >= 1000000) {\n    return `$${(amount / 1000000).toFixed(1)}M`\n  }\n  if (amount >= 1000) {\n    return `$${(amount / 1000).toFixed(1)}k`\n  }\n  return `$${amount.toFixed(0)}`\n}\n\n/**\n * Format amount for table display\n */\nexport const formatAmount = (amount: number | null | undefined): string => {\n  if (amount == null) return '$0'\n  return formatCurrency(amount)\n}\n"]}