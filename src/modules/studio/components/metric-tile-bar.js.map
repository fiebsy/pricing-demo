{"version":3,"file":"metric-tile-bar.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/modules/studio/components/metric-tile-bar.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * MetricTileBar Component for Studio Audience\n *\n * Audience engagement metric cards that filter the table by category on click.\n * Uses prod MetricCard with METRIC_CARD_PRESETS.flat for hardened styling.\n *\n * Metrics:\n * - Total Active Users: Users with Active status\n * - Total Messages: Aggregate across all users\n * - Avg Messages / User: Total / Active users\n * - Most Engaged Users: Users with 50+ messages\n */\n\n'use client'\n\nimport * as React from 'react'\nimport { useMemo, useState } from 'react'\nimport { cn } from '@/lib/utils'\nimport {\n  MetricCard,\n  METRIC_CARD_PRESETS,\n} from '@/components/ui/prod/features/metric-card'\n\nimport type { AudienceMetricId, AudienceMetrics } from '../types'\n\n// =============================================================================\n// TYPES\n// =============================================================================\n\nexport interface MetricTileBarProps {\n  /** Currently active metric filter */\n  activeMetric: AudienceMetricId | null\n  /** Callback when a metric tile is clicked */\n  onMetricClick: (metricId: AudienceMetricId) => void\n  /** Metrics data from the pagination hook */\n  metrics: AudienceMetrics\n  /** Optional className for the container */\n  className?: string\n}\n\n// =============================================================================\n// COMPONENT\n// =============================================================================\n\nexport const MetricTileBar: React.FC<MetricTileBarProps> = ({\n  activeMetric,\n  onMetricClick,\n  metrics,\n  className,\n}) => {\n  const [hoveredId, setHoveredId] = useState<AudienceMetricId | null>(null)\n\n  // Format metrics for display\n  const metricValues = useMemo(() => {\n    return [\n      {\n        id: 'totalActive' as AudienceMetricId,\n        label: 'Total Active Users',\n        value: metrics.totalActiveUsers.toLocaleString(),\n        subtext: 'from last 30 days',\n        trend: {\n          value: Math.abs(metrics.activeUsersChange),\n          direction: metrics.activeUsersChange >= 0 ? 'up' as const : 'down' as const,\n        },\n      },\n      {\n        id: 'totalMessages' as AudienceMetricId,\n        label: 'Total Messages',\n        value: metrics.totalMessages.toLocaleString(),\n        subtext: 'from last 30 days',\n        trend: {\n          value: Math.abs(metrics.messagesChange),\n          direction: metrics.messagesChange >= 0 ? 'up' as const : 'down' as const,\n        },\n      },\n      {\n        id: 'avgMessages' as AudienceMetricId,\n        label: 'Avg Messages / User',\n        value: metrics.avgMessagesPerUser.toFixed(1),\n        subtext: 'from last 30 days',\n        trend: {\n          value: Math.abs(metrics.avgMessagesChange),\n          direction: metrics.avgMessagesChange >= 0 ? 'up' as const : 'down' as const,\n        },\n      },\n      {\n        id: 'mostEngaged' as AudienceMetricId,\n        label: 'Most Engaged Users',\n        value: metrics.mostEngagedUsers.toLocaleString(),\n        subtext: 'from last 30 days',\n        trend: {\n          value: Math.abs(metrics.engagedUsersChange),\n          direction: metrics.engagedUsersChange >= 0 ? 'up' as const : 'down' as const,\n        },\n      },\n    ]\n  }, [metrics])\n\n  return (\n    <div className={cn('grid grid-cols-2 gap-3 lg:grid-cols-4', className)}>\n      {metricValues.map((metric) => (\n        <MetricCard\n          key={metric.id}\n          label={metric.label}\n          value={metric.value}\n          count={metric.subtext}\n          trend={metric.trend}\n          config={METRIC_CARD_PRESETS.flat}\n          isActive={activeMetric === metric.id}\n          isHovered={hoveredId === metric.id}\n          onClick={() => onMetricClick(metric.id)}\n          onMouseEnter={() => setHoveredId(metric.id)}\n          onMouseLeave={() => setHoveredId(null)}\n        />\n      ))}\n    </div>\n  )\n}\n\nMetricTileBar.displayName = 'MetricTileBar'\n"]}