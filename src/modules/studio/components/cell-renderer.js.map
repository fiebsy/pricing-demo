{"version":3,"file":"cell-renderer.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/modules/studio/components/cell-renderer.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * Studio Dashboard - Cell Renderer\n *\n * Handles the audience column set: Name, Messages, Tags, Last Interacted, Access Group\n */\n\n'use client'\n\nimport React from 'react'\nimport { cn } from '@/lib/utils'\nimport { Badge } from '@/components/ui/prod/base/badge'\nimport { Tooltip } from '@/components/ui/prod/base/tooltip'\nimport type { AudienceUser, AccessGroup } from '../types'\n\n// =============================================================================\n// RELATIVE TIME FORMATTER\n// =============================================================================\n\n/**\n * Format a date to relative time (e.g., \"2 hours ago\", \"Yesterday\", \"Jan 10\")\n */\nconst formatRelativeTime = (date: Date): string => {\n  const now = new Date()\n  const diffMs = now.getTime() - date.getTime()\n  const diffMins = Math.floor(diffMs / (1000 * 60))\n  const diffHours = Math.floor(diffMs / (1000 * 60 * 60))\n  const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24))\n\n  if (diffMins < 60) {\n    return diffMins <= 1 ? 'Just now' : `${diffMins} minutes ago`\n  }\n  if (diffHours < 24) {\n    return diffHours === 1 ? '1 hour ago' : `${diffHours} hours ago`\n  }\n  if (diffDays === 1) {\n    return 'Yesterday'\n  }\n  if (diffDays < 7) {\n    return `${diffDays} days ago`\n  }\n  // Format as \"Jan 10\" for older dates\n  return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })\n}\n\n/**\n * Format date for tooltip (full date and time)\n */\nconst formatFullDate = (date: Date): string => {\n  return date.toLocaleString('en-US', {\n    weekday: 'short',\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n    hour: 'numeric',\n    minute: '2-digit',\n  })\n}\n\n// =============================================================================\n// ACCESS GROUP BADGE COLORS\n// =============================================================================\n\nconst ACCESS_GROUP_COLORS: Record<AccessGroup, 'success' | 'info' | 'gray' | 'error'> = {\n  Public: 'success',\n  Insiders: 'info',\n  Invited: 'gray',\n  Revoked: 'error',\n}\n\n// =============================================================================\n// CELL RENDERER\n// =============================================================================\n\n/**\n * Render cell content based on column key\n */\nexport const renderCell = (\n  columnKey: string,\n  item: AudienceUser,\n  _index: number\n): React.ReactNode => {\n  switch (columnKey) {\n    case 'name': {\n      // Show name as primary, with email indicator if name looks like an email\n      const isEmailName = item.name.includes('@')\n      return (\n        <div className=\"flex flex-col gap-0.5\">\n          <span\n            className={cn(\n              'text-sm text-primary truncate max-w-[180px]',\n              'cursor-pointer hover:underline'\n            )}\n            title={item.name}\n          >\n            {item.name}\n          </span>\n          {!isEmailName && (\n            <span className=\"text-xs text-tertiary truncate max-w-[180px]\" title={item.email}>\n              {item.email}\n            </span>\n          )}\n        </div>\n      )\n    }\n\n    case 'messages':\n      return (\n        <span className=\"text-sm text-primary tabular-nums\">\n          {item.messageCount.toLocaleString()}\n        </span>\n      )\n\n    case 'tags': {\n      if (item.tags.length === 0) {\n        return <span className=\"text-quaternary\">â€”</span>\n      }\n\n      const visibleTags = item.tags.slice(0, 2)\n      const remainingCount = item.tags.length - 2\n\n      return (\n        <div className=\"flex flex-wrap items-center gap-1\">\n          {visibleTags.map((tag) => (\n            <Badge key={tag} size=\"xs\" shape=\"pill\" color=\"gray\">\n              {tag}\n            </Badge>\n          ))}\n          {remainingCount > 0 && (\n            <Tooltip\n              title={`${remainingCount} more tags`}\n              description={item.tags.slice(2).join(', ')}\n              side=\"top\"\n              delay={200}\n            >\n              <Badge size=\"xs\" shape=\"pill\" color=\"gray\">\n                +{remainingCount}\n              </Badge>\n            </Tooltip>\n          )}\n        </div>\n      )\n    }\n\n    case 'lastInteracted': {\n      const relativeTime = formatRelativeTime(item.lastInteracted)\n      const fullTime = formatFullDate(item.lastInteracted)\n\n      return (\n        <Tooltip title={fullTime} side=\"top\" delay={200}>\n          <span className=\"text-sm text-tertiary cursor-default\">\n            {relativeTime}\n          </span>\n        </Tooltip>\n      )\n    }\n\n    case 'accessGroup':\n      return (\n        <Badge\n          size=\"xs\"\n          shape=\"pill\"\n          color={ACCESS_GROUP_COLORS[item.accessGroup]}\n        >\n          {item.accessGroup}\n        </Badge>\n      )\n\n    default:\n      return null\n  }\n}\n"]}