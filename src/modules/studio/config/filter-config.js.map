{"version":3,"file":"filter-config.js","sourceRoot":"/","sources":["other-repos/demo-repo/src/modules/studio/config/filter-config.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Studio Dashboard - Filter Configuration\n *\n * Audience-specific filter menu items for the FilterMenu component.\n * Filters are applied client-side after data is fetched.\n */\n\nimport type { ComponentType } from 'react'\nimport {\n  CheckmarkCircle02Icon,\n  Clock01Icon,\n  Message01Icon,\n  Tag01Icon,\n} from '@hugeicons-pro/core-stroke-rounded'\n\nimport type { MenuItemType, MenuItemAction, MenuItemSubmenu } from '@/components/ui/prod/base/filter'\nimport type { AudienceFilterId, ActiveFilter, FilterPredicate, AudienceUser, FilterCategory } from '../types'\n\n// =============================================================================\n// FILTER ICON MAPPING\n// =============================================================================\n\ntype IconComponent = ComponentType<{ className?: string }>\n\nexport const FILTER_ICONS: Record<string, IconComponent> = {\n  Status: CheckmarkCircle02Icon as unknown as IconComponent,\n  'Last Interacted': Clock01Icon as unknown as IconComponent,\n  Messages: Message01Icon as unknown as IconComponent,\n  Tags: Tag01Icon as unknown as IconComponent,\n}\n\n// =============================================================================\n// FILTER MENU ITEMS\n// =============================================================================\n\nexport const AUDIENCE_FILTER_ITEMS: MenuItemType[] = [\n  {\n    id: 'status',\n    label: 'Status',\n    type: 'submenu',\n    icon: CheckmarkCircle02Icon as unknown as IconComponent,\n    items: [\n      {\n        id: 'status-active',\n        label: 'Active',\n      } as MenuItemAction,\n      {\n        id: 'status-invited',\n        label: 'Invited',\n      } as MenuItemAction,\n      {\n        id: 'status-revoked',\n        label: 'Revoked',\n      } as MenuItemAction,\n    ],\n  } as MenuItemSubmenu,\n  {\n    id: 'lastInteracted',\n    label: 'Last Interacted',\n    type: 'submenu',\n    icon: Clock01Icon as unknown as IconComponent,\n    items: [\n      {\n        id: 'last-7d',\n        label: 'Last 7 days',\n      } as MenuItemAction,\n      {\n        id: 'last-30d',\n        label: 'Last 30 days',\n      } as MenuItemAction,\n      {\n        id: 'last-90d',\n        label: 'Last 90 days',\n      } as MenuItemAction,\n    ],\n  } as MenuItemSubmenu,\n  {\n    id: 'messages',\n    label: 'Messages',\n    type: 'submenu',\n    icon: Message01Icon as unknown as IconComponent,\n    items: [\n      {\n        id: 'messages-0-10',\n        label: '0-10',\n      } as MenuItemAction,\n      {\n        id: 'messages-11-50',\n        label: '11-50',\n      } as MenuItemAction,\n      {\n        id: 'messages-51-100',\n        label: '51-100',\n      } as MenuItemAction,\n      {\n        id: 'messages-101-500',\n        label: '101-500',\n      } as MenuItemAction,\n      {\n        id: 'messages-500+',\n        label: '500+',\n      } as MenuItemAction,\n    ],\n  } as MenuItemSubmenu,\n  {\n    id: 'tags',\n    label: 'Tags',\n    type: 'submenu',\n    icon: Tag01Icon as unknown as IconComponent,\n    items: [\n      {\n        id: 'tag-vip',\n        label: 'VIP',\n      } as MenuItemAction,\n      {\n        id: 'tag-lead',\n        label: 'Lead-Coaching',\n      } as MenuItemAction,\n      {\n        id: 'tag-client',\n        label: 'Client',\n      } as MenuItemAction,\n      {\n        id: 'tag-cohort',\n        label: 'Cohort-Jan-2025',\n      } as MenuItemAction,\n      {\n        id: 'tag-inactive',\n        label: 'Inactive',\n      } as MenuItemAction,\n    ],\n  } as MenuItemSubmenu,\n]\n\n// =============================================================================\n// FILTER DISPLAY LABELS\n// For showing in FilterChip components\n// =============================================================================\n\nexport const FILTER_DISPLAY_LABELS: Record<AudienceFilterId, { label: string; value: string; category: FilterCategory }> = {\n  // Status filters\n  'status-active': { label: 'Status', value: 'Active', category: 'Status' },\n  'status-invited': { label: 'Status', value: 'Invited', category: 'Status' },\n  'status-revoked': { label: 'Status', value: 'Revoked', category: 'Status' },\n  // Last Interacted filters\n  'last-7d': { label: 'Last Interacted', value: '7 days', category: 'Last Interacted' },\n  'last-30d': { label: 'Last Interacted', value: '30 days', category: 'Last Interacted' },\n  'last-90d': { label: 'Last Interacted', value: '90 days', category: 'Last Interacted' },\n  // Messages filters\n  'messages-0-10': { label: 'Messages', value: '0-10', category: 'Messages' },\n  'messages-11-50': { label: 'Messages', value: '11-50', category: 'Messages' },\n  'messages-51-100': { label: 'Messages', value: '51-100', category: 'Messages' },\n  'messages-101-500': { label: 'Messages', value: '101-500', category: 'Messages' },\n  'messages-500+': { label: 'Messages', value: '500+', category: 'Messages' },\n  'messages-51+': { label: 'Messages', value: '51+', category: 'Messages' }, // Combined filter for Most Engaged\n  // Tag filters\n  'tag-vip': { label: 'Tags', value: 'VIP', category: 'Tags' },\n  'tag-lead': { label: 'Tags', value: 'Lead-Coaching', category: 'Tags' },\n  'tag-client': { label: 'Tags', value: 'Client', category: 'Tags' },\n  'tag-cohort': { label: 'Tags', value: 'Cohort-Jan-2025', category: 'Tags' },\n  'tag-inactive': { label: 'Tags', value: 'Inactive', category: 'Tags' },\n}\n\n// =============================================================================\n// FILTER PREDICATES\n// =============================================================================\n\n// Helper to check days since interaction\nconst daysSince = (date: Date): number => {\n  const now = new Date()\n  const diff = now.getTime() - date.getTime()\n  return Math.floor(diff / (1000 * 60 * 60 * 24))\n}\n\nexport const FILTER_PREDICATES: Record<AudienceFilterId, FilterPredicate> = {\n  // Status filters\n  'status-active': (item) => item.status === 'Active',\n  'status-invited': (item) => item.status === 'Invited',\n  'status-revoked': (item) => item.status === 'Revoked',\n\n  // Last Interacted filters\n  'last-7d': (item) => daysSince(item.lastInteracted) <= 7,\n  'last-30d': (item) => daysSince(item.lastInteracted) <= 30,\n  'last-90d': (item) => daysSince(item.lastInteracted) <= 90,\n\n  // Messages filters\n  'messages-0-10': (item) => item.messageCount >= 0 && item.messageCount <= 10,\n  'messages-11-50': (item) => item.messageCount >= 11 && item.messageCount <= 50,\n  'messages-51-100': (item) => item.messageCount >= 51 && item.messageCount <= 100,\n  'messages-101-500': (item) => item.messageCount >= 101 && item.messageCount <= 500,\n  'messages-500+': (item) => item.messageCount > 500,\n  'messages-51+': (item) => item.messageCount > 50, // Combined: 51+ messages (for Most Engaged)\n\n  // Tag filters\n  'tag-vip': (item) => item.tags.includes('VIP'),\n  'tag-lead': (item) => item.tags.includes('Lead-Coaching'),\n  'tag-client': (item) => item.tags.includes('Client'),\n  'tag-cohort': (item) => item.tags.includes('Cohort-Jan-2025'),\n  'tag-inactive': (item) => item.tags.includes('Inactive'),\n}\n\n// =============================================================================\n// HELPER: Apply filters to data\n// =============================================================================\n\nexport function applyFilters(\n  items: AudienceUser[],\n  activeFilters: ActiveFilter[]\n): AudienceUser[] {\n  if (activeFilters.length === 0) return items\n\n  return items.filter((item) => {\n    // Group filters by category\n    const filtersByCategory: Record<string, AudienceFilterId[]> = {}\n\n    for (const filter of activeFilters) {\n      const category = filter.category\n      if (!filtersByCategory[category]) {\n        filtersByCategory[category] = []\n      }\n      filtersByCategory[category].push(filter.id)\n    }\n\n    // Within each category, use OR logic (match any)\n    // Across categories, use AND logic (must match all)\n    return Object.entries(filtersByCategory).every(([_category, filterIds]) => {\n      if (!filterIds || filterIds.length === 0) return true\n      return filterIds.some((filterId) => {\n        const predicate = FILTER_PREDICATES[filterId]\n        return predicate ? predicate(item) : true\n      })\n    })\n  })\n}\n"]}